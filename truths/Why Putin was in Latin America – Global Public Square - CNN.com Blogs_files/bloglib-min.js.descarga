var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

var Prototype={Version:"1.6.0.3",Browser:{IE:!!(window.attachEvent&&navigator.userAgent.indexOf("Opera")===-1),Opera:navigator.userAgent.indexOf("Opera")>-1,WebKit:navigator.userAgent.indexOf("AppleWebKit/")>-1,Gecko:navigator.userAgent.indexOf("Gecko")>-1&&navigator.userAgent.indexOf("KHTML")===-1,MobileSafari:!!navigator.userAgent.match(/Apple.*Mobile.*Safari/)},BrowserFeatures:{XPath:!!document.evaluate,SelectorsAPI:!!document.querySelector,ElementExtensions:!!window.HTMLElement,SpecificElementExtensions:document.createElement("div")["__proto__"]&&document.createElement("div")["__proto__"]!==document.createElement("form")["__proto__"]},ScriptFragment:"<script[^>]*>([\\S\\s]*?)<\/script>",JSONFilter:/^\/\*-secure-([\s\S]*)\*\/\s*$/,emptyFunction:function(){},K:function(a){return a;}};if(Prototype.Browser.MobileSafari){Prototype.BrowserFeatures.SpecificElementExtensions=false;}var Class={create:function(){var b=null,c=$A(arguments);if(Object.isFunction(c[0])){b=c.shift();}function a(){this.initialize.apply(this,arguments);}Object.extend(a,Class.Methods);a.superclass=b;a.subclasses=[];if(b){var e=function(){};e.prototype=b.prototype;a.prototype=new e;b.subclasses.push(a);}for(var d=0;d<c.length;d++){a.addMethods(c[d]);}if(!a.prototype.initialize){a.prototype.initialize=Prototype.emptyFunction;}a.prototype.constructor=a;return a;}};Class.Methods={addMethods:function(c){var g=this.superclass&&this.superclass.prototype;var h=Object.keys(c);if(!Object.keys({toString:true}).length){h.push("toString","valueOf");}for(var a=0,f=h.length;a<f;a++){var d=h[a],e=c[d];if(g&&Object.isFunction(e)&&e.argumentNames().first()=="$super"){var b=e;e=(function(k){return function(){return g[k].apply(this,arguments);};})(d).wrap(b);e.valueOf=b.valueOf.bind(b);e.toString=b.toString.bind(b);}this.prototype[d]=e;}return this;}};var Abstract={};Object.extend=function(a,b){for(var c in b){a[c]=b[c];}return a;};Object.extend(Object,{inspect:function(a){try{if(Object.isUndefined(a)){return"undefined";}if(a===null){return"null";}return a.inspect?a.inspect():String(a);}catch(b){if(b instanceof RangeError){return"...";}throw b;}},toJSON:function(a){var d=typeof a;switch(d){case"undefined":case"function":case"unknown":return;case"boolean":return a.toString();}if(a===null){return"null";}if(a.toJSON){return a.toJSON();}if(Object.isElement(a)){return;}var e=[];for(var b in a){var c=Object.toJSON(a[b]);if(!Object.isUndefined(c)){e.push(b.toJSON()+": "+c);}}return"{"+e.join(", ")+"}";},toQueryString:function(a){return $H(a).toQueryString();},toHTML:function(a){return a&&a.toHTML?a.toHTML():String.interpret(a);},keys:function(a){var c=[];for(var b in a){c.push(b);}return c;},values:function(c){var a=[];for(var b in c){a.push(c[b]);}return a;},clone:function(a){return Object.extend({},a);},isElement:function(a){return !!(a&&a.nodeType==1);},isArray:function(a){return a!=null&&typeof a=="object"&&"splice" in a&&"join" in a;},isHash:function(a){return a instanceof Hash;},isFunction:function(a){return typeof a=="function";},isString:function(a){return typeof a=="string";},isNumber:function(a){return typeof a=="number";},isUndefined:function(a){return typeof a=="undefined";}});Object.extend(Function.prototype,{argumentNames:function(){var a=this.toString().match(/^[\s\(]*function[^(]*\(([^\)]*)\)/)[1].replace(/\s+/g,"").split(",");return a.length==1&&!a[0]?[]:a;},bind:function(){if(arguments.length<2&&Object.isUndefined(arguments[0])){return this;}var a=this,b=$A(arguments),c=b.shift();return function(){return a.apply(c,b.concat($A(arguments)));};},bindAsEventListener:function(){var a=this,b=$A(arguments),c=b.shift();return function(d){return a.apply(c,[d||window.event].concat(b));};},curry:function(){if(!arguments.length){return this;}var a=this,b=$A(arguments);return function(){return a.apply(this,b.concat($A(arguments)));};},delay:function(){var a=this,c=$A(arguments),b=c.shift()*1000;return window.setTimeout(function(){return a.apply(a,c);},b);},defer:function(){var a=[0.01].concat($A(arguments));return this.delay.apply(this,a);},wrap:function(b){var a=this;return function(){return b.apply(this,[a.bind(this)].concat($A(arguments)));};},methodize:function(){if(this._methodized){return this._methodized;}var a=this;return this._methodized=function(){return a.apply(null,[this].concat($A(arguments)));};}});Date.prototype.toJSON=function(){return'"'+this.getUTCFullYear()+"-"+(this.getUTCMonth()+1).toPaddedString(2)+"-"+this.getUTCDate().toPaddedString(2)+"T"+this.getUTCHours().toPaddedString(2)+":"+this.getUTCMinutes().toPaddedString(2)+":"+this.getUTCSeconds().toPaddedString(2)+'Z"';};var Try={these:function(){var d;for(var e=0,c=arguments.length;e<c;e++){var a=arguments[e];try{d=a();break;}catch(b){}}return d;}};RegExp.prototype.match=RegExp.prototype.test;RegExp.escape=function(a){return String(a).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1");};var PeriodicalExecuter=Class.create({initialize:function(b,a){this.callback=b;this.frequency=a;this.currentlyExecuting=false;this.registerCallback();},registerCallback:function(){this.timer=setInterval(this.onTimerEvent.bind(this),this.frequency*1000);},execute:function(){this.callback(this);},stop:function(){if(!this.timer){return;}clearInterval(this.timer);this.timer=null;},onTimerEvent:function(){if(!this.currentlyExecuting){try{this.currentlyExecuting=true;this.execute();}finally{this.currentlyExecuting=false;}}}});Object.extend(String,{interpret:function(a){return a==null?"":String(a);},specialChar:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\\":"\\\\"}});Object.extend(String.prototype,{gsub:function(b,d){var a="",c=this,e;d=arguments.callee.prepareReplacement(d);while(c.length>0){if(e=c.match(b)){a+=c.slice(0,e.index);a+=String.interpret(d(e));c=c.slice(e.index+e[0].length);}else{a+=c,c="";}}return a;},sub:function(b,a,c){a=this.gsub.prepareReplacement(a);c=Object.isUndefined(c)?1:c;return this.gsub(b,function(d){if(--c<0){return d[0];}return a(d);});},scan:function(b,a){this.gsub(b,a);return String(this);},truncate:function(b,a){b=b||30;a=Object.isUndefined(a)?"...":a;return this.length>b?this.slice(0,b-a.length)+a:String(this);},strip:function(){return this.replace(/^\s+/,"").replace(/\s+$/,"");},stripTags:function(){return this.replace(/<\/?[^>]+>/gi,"");},stripScripts:function(){return this.replace(new RegExp(Prototype.ScriptFragment,"img"),"");},extractScripts:function(){var b=new RegExp(Prototype.ScriptFragment,"img");var a=new RegExp(Prototype.ScriptFragment,"im");return(this.match(b)||[]).map(function(c){return(c.match(a)||["",""])[1];});},evalScripts:function(){return this.extractScripts().map(function(script){return eval(script);});},escapeHTML:function(){var a=arguments.callee;a.text.data=this;return a.div.innerHTML;},unescapeHTML:function(){var a=new Element("div");a.innerHTML=this.stripTags();return a.childNodes[0]?(a.childNodes.length>1?$A(a.childNodes).inject("",function(c,b){return c+b.nodeValue;}):a.childNodes[0].nodeValue):"";},toQueryParams:function(b){var a=this.strip().match(/([^?#]*)(#.*)?$/);if(!a){return{};}return a[1].split(b||"&").inject({},function(d,c){if((c=c.split("="))[0]){var f=decodeURIComponent(c.shift());var e=c.length>1?c.join("="):c[0];if(e!=undefined){e=decodeURIComponent(e);}if(f in d){if(!Object.isArray(d[f])){d[f]=[d[f]];}d[f].push(e);}else{d[f]=e;}}return d;});},toArray:function(){return this.split("");},succ:function(){return this.slice(0,this.length-1)+String.fromCharCode(this.charCodeAt(this.length-1)+1);},times:function(a){return a<1?"":new Array(a+1).join(this);},camelize:function(){var b=this.split("-"),a=b.length;if(a==1){return b[0];}var c=this.charAt(0)=="-"?b[0].charAt(0).toUpperCase()+b[0].substring(1):b[0];for(var d=1;d<a;d++){c+=b[d].charAt(0).toUpperCase()+b[d].substring(1);}return c;},capitalize:function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase();},underscore:function(){return this.gsub(/::/,"/").gsub(/([A-Z]+)([A-Z][a-z])/,"#{1}_#{2}").gsub(/([a-z\d])([A-Z])/,"#{1}_#{2}").gsub(/-/,"_").toLowerCase();
},dasherize:function(){return this.gsub(/_/,"-");},inspect:function(b){var a=this.gsub(/[\x00-\x1f\\]/,function(d){var c=String.specialChar[d[0]];return c?c:"\\u00"+d[0].charCodeAt().toPaddedString(2,16);});if(b){return'"'+a.replace(/"/g,'\\"')+'"';}return"'"+a.replace(/'/g,"\\'")+"'";},toJSON:function(){return this.inspect(true);},unfilterJSON:function(a){return this.sub(a||Prototype.JSONFilter,"#{1}");},isJSON:function(){var a=this;if(a.blank()){return false;}a=this.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,"");return(/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/).test(a);},evalJSON:function(sanitize){var json=this.unfilterJSON();try{if(!sanitize||json.isJSON()){return eval("("+json+")");}}catch(e){}throw new SyntaxError("Badly formed JSON string: "+this.inspect());},include:function(a){return this.indexOf(a)>-1;},startsWith:function(a){return this.indexOf(a)===0;},endsWith:function(a){var b=this.length-a.length;return b>=0&&this.lastIndexOf(a)===b;},empty:function(){return this=="";},blank:function(){return/^\s*$/.test(this);},interpolate:function(a,b){return new Template(this,b).evaluate(a);}});if(Prototype.Browser.WebKit||Prototype.Browser.IE){Object.extend(String.prototype,{escapeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");},unescapeHTML:function(){return this.stripTags().replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">");}});}String.prototype.gsub.prepareReplacement=function(b){if(Object.isFunction(b)){return b;}var a=new Template(b);return function(c){return a.evaluate(c);};};String.prototype.parseQuery=String.prototype.toQueryParams;Object.extend(String.prototype.escapeHTML,{div:document.createElement("div"),text:document.createTextNode("")});String.prototype.escapeHTML.div.appendChild(String.prototype.escapeHTML.text);var Template=Class.create({initialize:function(a,b){this.template=a.toString();this.pattern=b||Template.Pattern;},evaluate:function(a){if(Object.isFunction(a.toTemplateReplacements)){a=a.toTemplateReplacements();}return this.template.gsub(this.pattern,function(e){if(a==null){return"";}var c=e[1]||"";if(c=="\\"){return e[2];}var g=a,b=e[3];var d=/^([^.[]+|\[((?:.*?[^\\])?)\])(\.|\[|$)/;e=d.exec(b);if(e==null){return c;}while(e!=null){var f=e[1].startsWith("[")?e[2].gsub("\\\\]","]"):e[1];g=g[f];if(null==g||""==e[3]){break;}b=b.substring("["==e[3]?e[1].length:e[0].length);e=d.exec(b);}return c+String.interpret(g);});}});Template.Pattern=/(^|.|\r|\n)(#\{(.*?)\})/;var $break={};var Enumerable={each:function(c,d){var a=0;try{this._each(function(e){c.call(d,e,a++);});}catch(b){if(b!=$break){throw b;}}return this;},eachSlice:function(d,e,f){var a=-d,c=[],b=this.toArray();if(d<1){return b;}while((a+=d)<b.length){c.push(b.slice(a,a+d));}return c.collect(e,f);},all:function(b,c){b=b||Prototype.K;var a=true;this.each(function(d,e){a=a&&!!b.call(c,d,e);if(!a){throw $break;}});return a;},any:function(b,c){b=b||Prototype.K;var a=false;this.each(function(d,e){if(a=!!b.call(c,d,e)){throw $break;}});return a;},collect:function(b,c){b=b||Prototype.K;var a=[];this.each(function(d,e){a.push(b.call(c,d,e));});return a;},detect:function(b,c){var a;this.each(function(d,e){if(b.call(c,d,e)){a=d;throw $break;}});return a;},findAll:function(b,c){var a=[];this.each(function(d,e){if(b.call(c,d,e)){a.push(d);}});return a;},grep:function(b,c,d){c=c||Prototype.K;var a=[];if(Object.isString(b)){b=new RegExp(b);}this.each(function(e,f){if(b.match(e)){a.push(c.call(d,e,f));}});return a;},include:function(a){if(Object.isFunction(this.indexOf)){if(this.indexOf(a)!=-1){return true;}}var b=false;this.each(function(c){if(c==a){b=true;throw $break;}});return b;},inGroupsOf:function(b,a){a=Object.isUndefined(a)?null:a;return this.eachSlice(b,function(c){while(c.length<b){c.push(a);}return c;});},inject:function(a,b,c){this.each(function(d,e){a=b.call(c,a,d,e);});return a;},invoke:function(b){var a=$A(arguments).slice(1);return this.map(function(c){return c[b].apply(c,a);});},max:function(b,c){b=b||Prototype.K;var a;this.each(function(d,e){d=b.call(c,d,e);if(a==null||d>=a){a=d;}});return a;},min:function(b,c){b=b||Prototype.K;var a;this.each(function(d,e){d=b.call(c,d,e);if(a==null||d<a){a=d;}});return a;},partition:function(b,d){b=b||Prototype.K;var c=[],a=[];this.each(function(e,f){(b.call(d,e,f)?c:a).push(e);});return[c,a];},pluck:function(b){var a=[];this.each(function(c){a.push(c[b]);});return a;},reject:function(b,c){var a=[];this.each(function(d,e){if(!b.call(c,d,e)){a.push(d);}});return a;},sortBy:function(b,a){return this.map(function(c,d){return{value:c,criteria:b.call(a,c,d)};}).sort(function(c,d){var e=c.criteria,f=d.criteria;return e<f?-1:e>f?1:0;}).pluck("value");},toArray:function(){return this.map();},zip:function(){var c=Prototype.K,a=$A(arguments);if(Object.isFunction(a.last())){c=a.pop();}var b=[this].concat(a).map($A);return this.map(function(d,e){return c(b.pluck(e));});},size:function(){return this.toArray().length;},inspect:function(){return"#<Enumerable:"+this.toArray().inspect()+">";}};Object.extend(Enumerable,{map:Enumerable.collect,find:Enumerable.detect,select:Enumerable.findAll,filter:Enumerable.findAll,member:Enumerable.include,entries:Enumerable.toArray,every:Enumerable.all,some:Enumerable.any});function $A(b){if(!b){return[];}if(b.toArray){return b.toArray();}var c=b.length||0,a=new Array(c);while(c--){a[c]=b[c];}return a;}if(Prototype.Browser.WebKit){$A=function(b){if(!b){return[];}if(!(typeof b==="function"&&typeof b.length==="number"&&typeof b.item==="function")&&b.toArray){return b.toArray();}var c=b.length||0,a=new Array(c);while(c--){a[c]=b[c];}return a;};}Array.from=$A;Object.extend(Array.prototype,Enumerable);if(!Array.prototype._reverse){Array.prototype._reverse=Array.prototype.reverse;}Object.extend(Array.prototype,{_each:function(c){for(var a=0,b=this.length;a<b;a++){c(this[a]);}},clear:function(){this.length=0;return this;},first:function(){return this[0];},last:function(){return this[this.length-1];},compact:function(){return this.select(function(a){return a!=null;});},flatten:function(){return this.inject([],function(b,a){return b.concat(Object.isArray(a)?a.flatten():[a]);});},without:function(){var a=$A(arguments);return this.select(function(b){return !a.include(b);});},reverse:function(a){return(a!==false?this:this.toArray())._reverse();},reduce:function(){return this.length>1?this:this[0];},uniq:function(a){return this.inject([],function(b,c,d){if(0==d||(a?b.last()!=c:!b.include(c))){b.push(c);}return b;});},intersect:function(a){return this.uniq().findAll(function(b){return a.detect(function(c){return b===c;});});},clone:function(){return[].concat(this);},size:function(){return this.length;},inspect:function(){return"["+this.map(Object.inspect).join(", ")+"]";},toJSON:function(){var a=[];this.each(function(c){var b=Object.toJSON(c);if(!Object.isUndefined(b)){a.push(b);}});return"["+a.join(", ")+"]";}});if(Object.isFunction(Array.prototype.forEach)){Array.prototype._each=Array.prototype.forEach;}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(b,a){a||(a=0);var c=this.length;if(a<0){a=c+a;}for(;a<c;a++){if(this[a]===b){return a;}}return -1;};}if(!Array.prototype.lastIndexOf){Array.prototype.lastIndexOf=function(c,a){a=isNaN(a)?this.length:(a<0?this.length+a:a)+1;var b=this.slice(0,a).reverse().indexOf(c);return(b<0)?b:a-b-1;};}Array.prototype.toArray=Array.prototype.clone;function $w(a){if(!Object.isString(a)){return[];}a=a.strip();return a?a.split(/\s+/):[];}if(Prototype.Browser.Opera){Array.prototype.concat=function(){var b=[];for(var e=0,d=this.length;e<d;e++){b.push(this[e]);}for(var e=0,d=arguments.length;e<d;e++){if(Object.isArray(arguments[e])){for(var a=0,c=arguments[e].length;a<c;a++){b.push(arguments[e][a]);}}else{b.push(arguments[e]);}}return b;};}Object.extend(Number.prototype,{toColorPart:function(){return this.toPaddedString(2,16);},succ:function(){return this+1;},times:function(b,a){$R(0,this,true).each(b,a);return this;},toPaddedString:function(b,c){var a=this.toString(c||10);
return"0".times(b-a.length)+a;},toJSON:function(){return isFinite(this)?this.toString():"null";}});$w("abs round ceil floor").each(function(a){Number.prototype[a]=Math[a].methodize();});function $H(a){return new Hash(a);}var Hash=Class.create(Enumerable,(function(){function a(c,b){if(Object.isUndefined(b)){return c;}return c+"="+encodeURIComponent(String.interpret(b));}return{initialize:function(b){this._object=Object.isHash(b)?b.toObject():Object.clone(b);},_each:function(d){for(var e in this._object){var c=this._object[e],b=[e,c];b.key=e;b.value=c;d(b);}},set:function(c,b){return this._object[c]=b;},get:function(b){if(this._object[b]!==Object.prototype[b]){return this._object[b];}},unset:function(c){var b=this._object[c];delete this._object[c];return b;},toObject:function(){return Object.clone(this._object);},keys:function(){return this.pluck("key");},values:function(){return this.pluck("value");},index:function(b){var c=this.detect(function(d){return d.value===b;});return c&&c.key;},merge:function(b){return this.clone().update(b);},update:function(b){return new Hash(b).inject(this,function(d,c){d.set(c.key,c.value);return d;});},toQueryString:function(){return this.inject([],function(c,b){var d=encodeURIComponent(b.key),e=b.value;if(e&&typeof e=="object"){if(Object.isArray(e)){return c.concat(e.map(a.curry(d)));}}else{c.push(a(d,e));}return c;}).join("&");},inspect:function(){return"#<Hash:{"+this.map(function(b){return b.map(Object.inspect).join(": ");}).join(", ")+"}>";},toJSON:function(){return Object.toJSON(this.toObject());},clone:function(){return new Hash(this);}};})());Hash.prototype.toTemplateReplacements=Hash.prototype.toObject;Hash.from=$H;var ObjectRange=Class.create(Enumerable,{initialize:function(b,a,c){this.start=b;this.end=a;this.exclusive=c;},_each:function(a){var b=this.start;while(this.include(b)){a(b);b=b.succ();}},include:function(a){if(a<this.start){return false;}if(this.exclusive){return a<this.end;}return a<=this.end;}});var $R=function(b,a,c){return new ObjectRange(b,a,c);};var Ajax={getTransport:function(){return Try.these(function(){return new XMLHttpRequest();},function(){return new ActiveXObject("Msxml2.XMLHTTP");},function(){return new ActiveXObject("Microsoft.XMLHTTP");})||false;},activeRequestCount:0};Ajax.Responders={responders:[],_each:function(a){this.responders._each(a);},register:function(a){if(!this.include(a)){this.responders.push(a);}},unregister:function(a){this.responders=this.responders.without(a);},dispatch:function(b,d,c,a){this.each(function(f){if(Object.isFunction(f[b])){try{f[b].apply(f,[d,c,a]);}catch(e){}}});}};Object.extend(Ajax.Responders,Enumerable);Ajax.Responders.register({onCreate:function(){Ajax.activeRequestCount++;},onComplete:function(){Ajax.activeRequestCount--;}});Ajax.Base=Class.create({initialize:function(a){this.options={method:"post",asynchronous:true,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:"",evalJSON:true,evalJS:true};Object.extend(this.options,a||{});this.options.method=this.options.method.toLowerCase();if(Object.isString(this.options.parameters)){this.options.parameters=this.options.parameters.toQueryParams();}else{if(Object.isHash(this.options.parameters)){this.options.parameters=this.options.parameters.toObject();}}}});Ajax.Request=Class.create(Ajax.Base,{_complete:false,initialize:function($super,b,a){$super(a);this.transport=Ajax.getTransport();this.request(b);},request:function(d){this.url=d;this.method=this.options.method;var b=Object.clone(this.options.parameters);if(!["get","post"].include(this.method)){b._method=this.method;this.method="post";}this.parameters=b;if(b=Object.toQueryString(b)){if(this.method=="get"){this.url+=(this.url.include("?")?"&":"?")+b;}else{if(/Konqueror|Safari|KHTML/.test(navigator.userAgent)){b+="&_=";}}}try{var a=new Ajax.Response(this);if(this.options.onCreate){this.options.onCreate(a);}Ajax.Responders.dispatch("onCreate",this,a);this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous);if(this.options.asynchronous){this.respondToReadyState.bind(this).defer(1);}this.transport.onreadystatechange=this.onStateChange.bind(this);this.setRequestHeaders();this.body=this.method=="post"?(this.options.postBody||b):null;this.transport.send(this.body);if(!this.options.asynchronous&&this.transport.overrideMimeType){this.onStateChange();}}catch(c){this.dispatchException(c);}},onStateChange:function(){var a=this.transport.readyState;if(a>1&&!((a==4)&&this._complete)){this.respondToReadyState(this.transport.readyState);}},setRequestHeaders:function(){var b={"X-Requested-With":"XMLHttpRequest","X-Prototype-Version":Prototype.Version,Accept:"text/javascript, text/html, application/xml, text/xml, */*"};if(this.method=="post"){b["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:"");if(this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005){b.Connection="close";}}if(typeof this.options.requestHeaders=="object"){var d=this.options.requestHeaders;if(Object.isFunction(d.push)){for(var e=0,c=d.length;e<c;e+=2){b[d[e]]=d[e+1];}}else{$H(d).each(function(f){b[f.key]=f.value;});}}for(var a in b){this.transport.setRequestHeader(a,b[a]);}},success:function(){var a=this.getStatus();return !a||(a>=200&&a<300);},getStatus:function(){try{return this.transport.status||0;}catch(a){return 0;}},respondToReadyState:function(a){var d=Ajax.Request.Events[a],e=new Ajax.Response(this);if(d=="Complete"){try{this._complete=true;(this.options["on"+e.status]||this.options["on"+(this.success()?"Success":"Failure")]||Prototype.emptyFunction)(e,e.headerJSON);}catch(c){this.dispatchException(c);}var b=e.getHeader("Content-type");if(this.options.evalJS=="force"||(this.options.evalJS&&this.isSameOrigin()&&b&&b.match(/^\s*(text|application)\/(x-)?(java|ecma)script(;.*)?\s*$/i))){this.evalResponse();}}try{(this.options["on"+d]||Prototype.emptyFunction)(e,e.headerJSON);Ajax.Responders.dispatch("on"+d,this,e,e.headerJSON);}catch(c){this.dispatchException(c);}if(d=="Complete"){this.transport.onreadystatechange=Prototype.emptyFunction;}},isSameOrigin:function(){var a=this.url.match(/^\s*https?:\/\/[^\/]*/);return !a||(a[0]=="#{protocol}//#{domain}#{port}".interpolate({protocol:location.protocol,domain:document.domain,port:location.port?":"+location.port:""}));},getHeader:function(a){try{return this.transport.getResponseHeader(a)||null;}catch(b){return null;}},evalResponse:function(){try{return eval((this.transport.responseText||"").unfilterJSON());}catch(e){this.dispatchException(e);}},dispatchException:function(a){(this.options.onException||Prototype.emptyFunction)(this,a);Ajax.Responders.dispatch("onException",this,a);}});Ajax.Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"];Ajax.Response=Class.create({initialize:function(c){this.request=c;var b=this.transport=c.transport,a=this.readyState=b.readyState;if((a>2&&!Prototype.Browser.IE)||a==4){this.status=this.getStatus();this.statusText=this.getStatusText();this.responseText=String.interpret(b.responseText);this.headerJSON=this._getHeaderJSON();}if(a==4){var d=b.responseXML;this.responseXML=Object.isUndefined(d)?null:d;this.responseJSON=this._getResponseJSON();}},status:0,statusText:"",getStatus:Ajax.Request.prototype.getStatus,getStatusText:function(){try{return this.transport.statusText||"";}catch(a){return"";}},getHeader:Ajax.Request.prototype.getHeader,getAllHeaders:function(){try{return this.getAllResponseHeaders();}catch(a){return null;}},getResponseHeader:function(a){return this.transport.getResponseHeader(a);},getAllResponseHeaders:function(){return this.transport.getAllResponseHeaders();},_getHeaderJSON:function(){var a=this.getHeader("X-JSON");if(!a){return null;}a=decodeURIComponent(escape(a));try{return a.evalJSON(this.request.options.sanitizeJSON||!this.request.isSameOrigin());}catch(b){this.request.dispatchException(b);}},_getResponseJSON:function(){var a=this.request.options;
if(!a.evalJSON||(a.evalJSON!="force"&&!(this.getHeader("Content-type")||"").include("application/json"))||this.responseText.blank()){return null;}try{return this.responseText.evalJSON(a.sanitizeJSON||!this.request.isSameOrigin());}catch(b){this.request.dispatchException(b);}}});Ajax.Updater=Class.create(Ajax.Request,{initialize:function($super,a,c,d){this.container={success:(a.success||a),failure:(a.failure||(a.success?null:a))};d=Object.clone(d);var b=d.onComplete;d.onComplete=(function(f,e){this.updateContent(f.responseText);if(Object.isFunction(b)){b(f,e);}}).bind(this);$super(c,d);},updateContent:function(b){var c=this.container[this.success()?"success":"failure"],a=this.options;if(!a.evalScripts){b=b.stripScripts();}if(c=$(c)){if(a.insertion){if(Object.isString(a.insertion)){var d={};d[a.insertion]=b;c.insert(d);}else{a.insertion(c,b);}}else{c.update(b);}}}});Ajax.PeriodicalUpdater=Class.create(Ajax.Base,{initialize:function($super,a,b,c){$super(c);this.onComplete=this.options.onComplete;this.frequency=(this.options.frequency||2);this.decay=(this.options.decay||1);this.updater={};this.container=a;this.url=b;this.start();},start:function(){this.options.onComplete=this.updateComplete.bind(this);this.onTimerEvent();},stop:function(){this.updater.options.onComplete=undefined;clearTimeout(this.timer);(this.onComplete||Prototype.emptyFunction).apply(this,arguments);},updateComplete:function(a){if(this.options.decay){this.decay=(a.responseText==this.lastText?this.decay*this.options.decay:1);this.lastText=a.responseText;}this.timer=this.onTimerEvent.bind(this).delay(this.decay*this.frequency);},onTimerEvent:function(){this.updater=new Ajax.Updater(this.container,this.url,this.options);}});function $(d){if(arguments.length>1){for(var a=0,b=[],c=arguments.length;a<c;a++){b.push($(arguments[a]));}return b;}if(Object.isString(d)){d=document.getElementById(d);}return Element.extend(d);}if(Prototype.BrowserFeatures.XPath){document._getElementsByXPath=function(b,a){var e=[];var c=document.evaluate(b,$(a)||document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(var f=0,d=c.snapshotLength;f<d;f++){e.push(Element.extend(c.snapshotItem(f)));}return e;};}if(!window.Node){var Node={};}if(!Node.ELEMENT_NODE){Object.extend(Node,{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12});}(function(){var a=this.Element;this.Element=function(b,c){c=c||{};b=b.toLowerCase();var d=Element.cache;if(Prototype.Browser.IE&&c.name){b="<"+b+' name="'+c.name+'">';delete c.name;return Element.writeAttribute(document.createElement(b),c);}if(!d[b]){d[b]=Element.extend(document.createElement(b));}return Element.writeAttribute(d[b].cloneNode(false),c);};Object.extend(this.Element,a||{});if(a){this.Element.prototype=a.prototype;}}).call(window);Element.cache={};Element.Methods={visible:function(a){return $(a).style.display!="none";},toggle:function(a){a=$(a);Element[Element.visible(a)?"hide":"show"](a);return a;},hide:function(a){a=$(a);a.style.display="none";return a;},show:function(a){a=$(a);a.style.display="";return a;},remove:function(a){a=$(a);a.parentNode.removeChild(a);return a;},update:function(a,b){a=$(a);if(b&&b.toElement){b=b.toElement();}if(Object.isElement(b)){return a.update().insert(b);}b=Object.toHTML(b);a.innerHTML=b.stripScripts();b.evalScripts.bind(b).defer();return a;},replace:function(c,b){c=$(c);if(b&&b.toElement){b=b.toElement();}else{if(!Object.isElement(b)){b=Object.toHTML(b);var a=c.ownerDocument.createRange();a.selectNode(c);b.evalScripts.bind(b).defer();b=a.createContextualFragment(b.stripScripts());}}c.parentNode.replaceChild(b,c);return c;},insert:function(f,d){f=$(f);if(Object.isString(d)||Object.isNumber(d)||Object.isElement(d)||(d&&(d.toElement||d.toHTML))){d={bottom:d};}var e,c,g,b;for(var a in d){e=d[a];a=a.toLowerCase();c=Element._insertionTranslations[a];if(e&&e.toElement){e=e.toElement();}if(Object.isElement(e)){c(f,e);continue;}e=Object.toHTML(e);g=((a=="before"||a=="after")?f.parentNode:f).tagName.toUpperCase();b=Element._getContentFromAnonymousElement(g,e.stripScripts());if(a=="top"||a=="after"){b.reverse();}b.each(c.curry(f));e.evalScripts.bind(e).defer();}return f;},wrap:function(c,b,a){c=$(c);if(Object.isElement(b)){$(b).writeAttribute(a||{});}else{if(Object.isString(b)){b=new Element(b,a);}else{b=new Element("div",b);}}if(c.parentNode){c.parentNode.replaceChild(b,c);}b.appendChild(c);return b;},inspect:function(b){b=$(b);var a="<"+b.tagName.toLowerCase();$H({id:"id",className:"class"}).each(function(c){var d=c.first(),f=c.last();var e=(b[d]||"").toString();if(e){a+=" "+f+"="+e.inspect(true);}});return a+">";},recursivelyCollect:function(a,b){a=$(a);var c=[];while(a=a[b]){if(a.nodeType==1){c.push(Element.extend(a));}}return c;},ancestors:function(a){return $(a).recursivelyCollect("parentNode");},descendants:function(a){return $(a).select("*");},firstDescendant:function(a){a=$(a).firstChild;while(a&&a.nodeType!=1){a=a.nextSibling;}return $(a);},immediateDescendants:function(a){if(!(a=$(a).firstChild)){return[];}while(a&&a.nodeType!=1){a=a.nextSibling;}if(a){return[a].concat($(a).nextSiblings());}return[];},previousSiblings:function(a){return $(a).recursivelyCollect("previousSibling");},nextSiblings:function(a){return $(a).recursivelyCollect("nextSibling");},siblings:function(a){a=$(a);return a.previousSiblings().reverse().concat(a.nextSiblings());},match:function(b,a){if(Object.isString(a)){a=new Selector(a);}return a.match($(b));},up:function(d,b,a){d=$(d);if(arguments.length==1){return $(d.parentNode);}var c=d.ancestors();return Object.isNumber(b)?c[b]:Selector.findElement(c,b,a);},down:function(c,b,a){c=$(c);if(arguments.length==1){return c.firstDescendant();}return Object.isNumber(b)?c.descendants()[b]:Element.select(c,b)[a||0];},previous:function(d,b,a){d=$(d);if(arguments.length==1){return $(Selector.handlers.previousElementSibling(d));}var c=d.previousSiblings();return Object.isNumber(b)?c[b]:Selector.findElement(c,b,a);},next:function(c,b,d){c=$(c);if(arguments.length==1){return $(Selector.handlers.nextElementSibling(c));}var a=c.nextSiblings();return Object.isNumber(b)?a[b]:Selector.findElement(a,b,d);},select:function(){var a=$A(arguments),b=$(a.shift());return Selector.findChildElements(b,a);},adjacent:function(){var a=$A(arguments),b=$(a.shift());return Selector.findChildElements(b.parentNode,a).without(b);},identify:function(c){c=$(c);var b=c.readAttribute("id"),a=arguments.callee;if(b){return b;}do{b="anonymous_element_"+a.counter++;}while($(b));c.writeAttribute("id",b);return b;},readAttribute:function(b,a){b=$(b);if(Prototype.Browser.IE){var c=Element._attributeTranslations.read;if(c.values[a]){return c.values[a](b,a);}if(c.names[a]){a=c.names[a];}if(a.include(":")){return(!b.attributes||!b.attributes[a])?null:b.attributes[a].value;}}return b.getAttribute(a);},writeAttribute:function(c,e,b){c=$(c);var f={},d=Element._attributeTranslations.write;if(typeof e=="object"){f=e;}else{f[e]=Object.isUndefined(b)?true:b;}for(var a in f){e=d.names[a]||a;b=f[a];if(d.values[a]){e=d.values[a](c,b);}if(b===false||b===null){c.removeAttribute(e);}else{if(b===true){c.setAttribute(e,e);}else{c.setAttribute(e,b);}}}return c;},getHeight:function(a){return $(a).getDimensions().height;},getWidth:function(a){return $(a).getDimensions().width;},classNames:function(a){return new Element.ClassNames(a);},hasClassName:function(a,c){if(!(a=$(a))){return;}var b=a.className;return(b.length>0&&(b==c||new RegExp("(^|\\s)"+c+"(\\s|$)").test(b)));},addClassName:function(a,b){if(!(a=$(a))){return;}if(!a.hasClassName(b)){a.className+=(a.className?" ":"")+b;}return a;},removeClassName:function(a,b){if(!(a=$(a))){return;}a.className=a.className.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)")," ").strip();return a;},toggleClassName:function(a,b){if(!(a=$(a))){return;}return a[a.hasClassName(b)?"removeClassName":"addClassName"](b);
},cleanWhitespace:function(c){c=$(c);var b=c.firstChild;while(b){var a=b.nextSibling;if(b.nodeType==3&&!/\S/.test(b.nodeValue)){c.removeChild(b);}b=a;}return c;},empty:function(a){return $(a).innerHTML.blank();},descendantOf:function(b,a){b=$(b),a=$(a);if(b.compareDocumentPosition){return(b.compareDocumentPosition(a)&8)===8;}if(a.contains){return a.contains(b)&&a!==b;}while(b=b.parentNode){if(b==a){return true;}}return false;},scrollTo:function(a){a=$(a);var b=a.cumulativeOffset();window.scrollTo(b[0],b[1]);return a;},getStyle:function(d,c){d=$(d);c=c=="float"?"cssFloat":c.camelize();var b=d.style[c];if(!b||b=="auto"){var a=document.defaultView.getComputedStyle(d,null);b=a?a[c]:null;}if(c=="opacity"){return b?parseFloat(b):1;}return b=="auto"?null:b;},getOpacity:function(a){return $(a).getStyle("opacity");},setStyle:function(e,d){e=$(e);var b=e.style,a;if(Object.isString(d)){e.style.cssText+=";"+d;return d.include("opacity")?e.setOpacity(d.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;}for(var c in d){if(c=="opacity"){e.setOpacity(d[c]);}else{b[(c=="float"||c=="cssFloat")?(Object.isUndefined(b.styleFloat)?"cssFloat":"styleFloat"):c]=d[c];}}return e;},setOpacity:function(a,b){a=$(a);a.style.opacity=(b==1||b==="")?"":(b<0.00001)?0:b;return a;},getDimensions:function(g){g=$(g);var c=g.getStyle("display");if(c!="none"&&c!=null){return{width:g.offsetWidth,height:g.offsetHeight};}var h=g.style;var d=h.visibility;var f=h.position;var a=h.display;h.visibility="hidden";h.position="absolute";h.display="block";var b=g.clientWidth;var e=g.clientHeight;h.display=a;h.position=f;h.visibility=d;return{width:b,height:e};},makePositioned:function(a){a=$(a);var b=Element.getStyle(a,"position");if(b=="static"||!b){a._madePositioned=true;a.style.position="relative";if(Prototype.Browser.Opera){a.style.top=0;a.style.left=0;}}return a;},undoPositioned:function(a){a=$(a);if(a._madePositioned){a._madePositioned=undefined;a.style.position=a.style.top=a.style.left=a.style.bottom=a.style.right="";}return a;},makeClipping:function(a){a=$(a);if(a._overflow){return a;}a._overflow=Element.getStyle(a,"overflow")||"auto";if(a._overflow!=="hidden"){a.style.overflow="hidden";}return a;},undoClipping:function(a){a=$(a);if(!a._overflow){return a;}a.style.overflow=a._overflow=="auto"?"":a._overflow;a._overflow=null;return a;},cumulativeOffset:function(c){var a=0,b=0;do{a+=c.offsetTop||0;b+=c.offsetLeft||0;c=c.offsetParent;}while(c);return Element._returnOffset(b,a);},positionedOffset:function(d){var a=0,b=0;do{a+=d.offsetTop||0;b+=d.offsetLeft||0;d=d.offsetParent;if(d){if(d.tagName.toUpperCase()=="BODY"){break;}var c=Element.getStyle(d,"position");if(c!=="static"){break;}}}while(d);return Element._returnOffset(b,a);},absolutize:function(f){f=$(f);if(f.getStyle("position")=="absolute"){return f;}var d=f.positionedOffset();var b=d[1];var c=d[0];var e=f.clientWidth;var a=f.clientHeight;f._originalLeft=c-parseFloat(f.style.left||0);f._originalTop=b-parseFloat(f.style.top||0);f._originalWidth=f.style.width;f._originalHeight=f.style.height;f.style.position="absolute";f.style.top=b+"px";f.style.left=c+"px";f.style.width=e+"px";f.style.height=a+"px";return f;},relativize:function(a){a=$(a);if(a.getStyle("position")=="relative"){return a;}a.style.position="relative";var b=parseFloat(a.style.top||0)-(a._originalTop||0);var c=parseFloat(a.style.left||0)-(a._originalLeft||0);a.style.top=b+"px";a.style.left=c+"px";a.style.height=a._originalHeight;a.style.width=a._originalWidth;return a;},cumulativeScrollOffset:function(c){var a=0,b=0;do{a+=c.scrollTop||0;b+=c.scrollLeft||0;c=c.parentNode;}while(c);return Element._returnOffset(b,a);},getOffsetParent:function(a){if(a.offsetParent){return $(a.offsetParent);}if(a==document.body){return $(a);}while((a=a.parentNode)&&a!=document.body){if(Element.getStyle(a,"position")!="static"){return $(a);}}return $(document.body);},viewportOffset:function(b){var a=0,c=0;var d=b;do{a+=d.offsetTop||0;c+=d.offsetLeft||0;if(d.offsetParent==document.body&&Element.getStyle(d,"position")=="absolute"){break;}}while(d=d.offsetParent);d=b;do{if(!Prototype.Browser.Opera||(d.tagName&&(d.tagName.toUpperCase()=="BODY"))){a-=d.scrollTop||0;c-=d.scrollLeft||0;}}while(d=d.parentNode);return Element._returnOffset(c,a);},clonePosition:function(f,d){var a=Object.extend({setLeft:true,setTop:true,setWidth:true,setHeight:true,offsetTop:0,offsetLeft:0},arguments[2]||{});d=$(d);var c=d.viewportOffset();f=$(f);var b=[0,0];var e=null;if(Element.getStyle(f,"position")=="absolute"){e=f.getOffsetParent();b=e.viewportOffset();}if(e==document.body){b[0]-=document.body.offsetLeft;b[1]-=document.body.offsetTop;}if(a.setLeft){f.style.left=(c[0]-b[0]+a.offsetLeft)+"px";}if(a.setTop){f.style.top=(c[1]-b[1]+a.offsetTop)+"px";}if(a.setWidth){f.style.width=d.offsetWidth+"px";}if(a.setHeight){f.style.height=d.offsetHeight+"px";}return f;}};Element.Methods.identify.counter=1;Object.extend(Element.Methods,{getElementsBySelector:Element.Methods.select,childElements:Element.Methods.immediateDescendants});Element._attributeTranslations={write:{names:{className:"class",htmlFor:"for"},values:{}}};if(Prototype.Browser.Opera){Element.Methods.getStyle=Element.Methods.getStyle.wrap(function(c,e,d){switch(d){case"left":case"top":case"right":case"bottom":if(c(e,"position")==="static"){return null;}case"height":case"width":if(!Element.visible(e)){return null;}var b=parseInt(c(e,d),10);if(b!==e["offset"+d.capitalize()]){return b+"px";}var a;if(d==="height"){a=["border-top-width","padding-top","padding-bottom","border-bottom-width"];}else{a=["border-left-width","padding-left","padding-right","border-right-width"];}return a.inject(b,function(h,g){var f=c(e,g);return f===null?h:h-parseInt(f,10);})+"px";default:return c(e,d);}});Element.Methods.readAttribute=Element.Methods.readAttribute.wrap(function(b,a,c){if(c==="title"){return a.title;}return b(a,c);});}else{if(Prototype.Browser.IE){Element.Methods.getOffsetParent=Element.Methods.getOffsetParent.wrap(function(d,e){e=$(e);try{e.offsetParent;}catch(b){return $(document.body);}var a=e.getStyle("position");if(a!=="static"){return d(e);}e.setStyle({position:"relative"});var c=d(e);e.setStyle({position:a});return c;});$w("positionedOffset viewportOffset").each(function(a){Element.Methods[a]=Element.Methods[a].wrap(function(d,f){f=$(f);try{f.offsetParent;}catch(b){return Element._returnOffset(0,0);}var g=f.getStyle("position");if(g!=="static"){return d(f);}var e=f.getOffsetParent();if(e&&e.getStyle("position")==="fixed"){e.setStyle({zoom:1});}f.setStyle({position:"relative"});var c=d(f);f.setStyle({position:g});return c;});});Element.Methods.cumulativeOffset=Element.Methods.cumulativeOffset.wrap(function(c,a){try{a.offsetParent;}catch(b){return Element._returnOffset(0,0);}return c(a);});Element.Methods.getStyle=function(a,c){a=$(a);c=(c=="float"||c=="cssFloat")?"styleFloat":c.camelize();var b=a.style[c];if(!b&&a.currentStyle){b=a.currentStyle[c];}if(c=="opacity"){if(b=(a.getStyle("filter")||"").match(/alpha\(opacity=(.*)\)/)){if(b[1]){return parseFloat(b[1])/100;}}return 1;}if(b=="auto"){if((c=="width"||c=="height")&&(a.getStyle("display")!="none")){return a["offset"+c.capitalize()]+"px";}return null;}return b;};Element.Methods.setOpacity=function(f,c){function b(g){return g.replace(/alpha\([^\)]*\)/gi,"");}f=$(f);var a=f.currentStyle;if((a&&!a.hasLayout)||(!a&&f.style.zoom=="normal")){f.style.zoom=1;}var d=f.getStyle("filter"),e=f.style;if(c==1||c===""){(d=b(d))?e.filter=d:e.removeAttribute("filter");return f;}else{if(c<0.00001){c=0;}}e.filter=b(d)+"alpha(opacity="+(c*100)+")";return f;};Element._attributeTranslations={read:{names:{"class":"className","for":"htmlFor"},values:{_getAttr:function(a,b){return a.getAttribute(b,2);},_getAttrNode:function(a,b){var c=a.getAttributeNode(b);return c?c.value:"";},_getEv:function(a,b){b=a.getAttribute(b);return b?b.toString().slice(23,-2):null;},_flag:function(a,b){return $(a).hasAttribute(b)?b:null;},style:function(a){return a.style.cssText.toLowerCase();
},title:function(a){return a.title;}}}};Element._attributeTranslations.write={names:Object.extend({cellpadding:"cellPadding",cellspacing:"cellSpacing"},Element._attributeTranslations.read.names),values:{checked:function(a,b){a.checked=!!b;},style:function(a,b){a.style.cssText=b?b:"";}}};Element._attributeTranslations.has={};$w("colSpan rowSpan vAlign dateTime accessKey tabIndex encType maxLength readOnly longDesc frameBorder").each(function(a){Element._attributeTranslations.write.names[a.toLowerCase()]=a;Element._attributeTranslations.has[a.toLowerCase()]=a;});(function(a){Object.extend(a,{href:a._getAttr,src:a._getAttr,type:a._getAttr,action:a._getAttrNode,disabled:a._flag,checked:a._flag,readonly:a._flag,multiple:a._flag,onload:a._getEv,onunload:a._getEv,onclick:a._getEv,ondblclick:a._getEv,onmousedown:a._getEv,onmouseup:a._getEv,onmouseover:a._getEv,onmousemove:a._getEv,onmouseout:a._getEv,onfocus:a._getEv,onblur:a._getEv,onkeypress:a._getEv,onkeydown:a._getEv,onkeyup:a._getEv,onsubmit:a._getEv,onreset:a._getEv,onselect:a._getEv,onchange:a._getEv});})(Element._attributeTranslations.read.values);}else{if(Prototype.Browser.Gecko&&/rv:1\.8\.0/.test(navigator.userAgent)){Element.Methods.setOpacity=function(a,b){a=$(a);a.style.opacity=(b==1)?0.999999:(b==="")?"":(b<0.00001)?0:b;return a;};}else{if(Prototype.Browser.WebKit){Element.Methods.setOpacity=function(a,d){a=$(a);a.style.opacity=(d==1||d==="")?"":(d<0.00001)?0:d;if(d==1){if(a.tagName.toUpperCase()=="IMG"&&a.width){a.width++;a.width--;}else{try{var b=document.createTextNode(" ");a.appendChild(b);a.removeChild(b);}catch(c){}}}return a;};Element.Methods.cumulativeOffset=function(c){var a=0,b=0;do{a+=c.offsetTop||0;b+=c.offsetLeft||0;if(c.offsetParent==document.body){if(Element.getStyle(c,"position")=="absolute"){break;}}c=c.offsetParent;}while(c);return Element._returnOffset(b,a);};}}}}if(Prototype.Browser.IE||Prototype.Browser.Opera){Element.Methods.update=function(c,b){c=$(c);if(b&&b.toElement){b=b.toElement();}if(Object.isElement(b)){return c.update().insert(b);}b=Object.toHTML(b);var a=c.tagName.toUpperCase();if(a in Element._insertionTranslations.tags){$A(c.childNodes).each(function(d){c.removeChild(d);});Element._getContentFromAnonymousElement(a,b.stripScripts()).each(function(d){c.appendChild(d);});}else{c.innerHTML=b.stripScripts();}b.evalScripts.bind(b).defer();return c;};}if("outerHTML" in document.createElement("div")){Element.Methods.replace=function(e,c){e=$(e);if(c&&c.toElement){c=c.toElement();}if(Object.isElement(c)){e.parentNode.replaceChild(c,e);return e;}c=Object.toHTML(c);var d=e.parentNode,f=d.tagName.toUpperCase();if(Element._insertionTranslations.tags[f]){var b=e.next();var a=Element._getContentFromAnonymousElement(f,c.stripScripts());d.removeChild(e);if(b){a.each(function(g){d.insertBefore(g,b);});}else{a.each(function(g){d.appendChild(g);});}}else{e.outerHTML=c.stripScripts();}c.evalScripts.bind(c).defer();return e;};}Element._returnOffset=function(c,b){var a=[c,b];a.left=c;a.top=b;return a;};Element._getContentFromAnonymousElement=function(c,d){var b=new Element("div"),a=Element._insertionTranslations.tags[c];if(a){b.innerHTML=a[0]+d+a[1];a[2].times(function(){b=b.firstChild;});}else{b.innerHTML=d;}return $A(b.childNodes);};Element._insertionTranslations={before:function(a,b){a.parentNode.insertBefore(b,a);},top:function(a,b){a.insertBefore(b,a.firstChild);},bottom:function(a,b){a.appendChild(b);},after:function(a,b){a.parentNode.insertBefore(b,a.nextSibling);},tags:{TABLE:["<table>","</table>",1],TBODY:["<table><tbody>","</tbody></table>",2],TR:["<table><tbody><tr>","</tr></tbody></table>",3],TD:["<table><tbody><tr><td>","</td></tr></tbody></table>",4],SELECT:["<select>","</select>",1]}};(function(){Object.extend(this.tags,{THEAD:this.tags.TBODY,TFOOT:this.tags.TBODY,TH:this.tags.TD});}).call(Element._insertionTranslations);Element.Methods.Simulated={hasAttribute:function(a,b){b=Element._attributeTranslations.has[b]||b;var c=$(a).getAttributeNode(b);return !!(c&&c.specified);}};Element.Methods.ByTag={};Object.extend(Element,Element.Methods);if(!Prototype.BrowserFeatures.ElementExtensions&&document.createElement("div")["__proto__"]){window.HTMLElement={};window.HTMLElement.prototype=document.createElement("div")["__proto__"];Prototype.BrowserFeatures.ElementExtensions=true;}Element.extend=(function(){if(Prototype.BrowserFeatures.SpecificElementExtensions){return Prototype.K;}var a={},c=Element.Methods.ByTag;var b=Object.extend(function(f){if(!f||f._extendedByPrototype||f.nodeType!=1||f==window){return f;}var h=Object.clone(a),g=f.tagName.toUpperCase(),d,e;if(c[g]){Object.extend(h,c[g]);}for(d in h){e=h[d];if(Object.isFunction(e)&&!(d in f)){f[d]=e.methodize();}}f._extendedByPrototype=Prototype.emptyFunction;return f;},{refresh:function(){if(!Prototype.BrowserFeatures.ElementExtensions){Object.extend(a,Element.Methods);Object.extend(a,Element.Methods.Simulated);}}});b.refresh();return b;})();Element.hasAttribute=function(a,b){if(a.hasAttribute){return a.hasAttribute(b);}return Element.Methods.Simulated.hasAttribute(a,b);};Element.addMethods=function(b){var f=Prototype.BrowserFeatures,a=Element.Methods.ByTag;if(!b){Object.extend(Form,Form.Methods);Object.extend(Form.Element,Form.Element.Methods);Object.extend(Element.Methods.ByTag,{FORM:Object.clone(Form.Methods),INPUT:Object.clone(Form.Element.Methods),SELECT:Object.clone(Form.Element.Methods),TEXTAREA:Object.clone(Form.Element.Methods)});}if(arguments.length==2){var c=b;b=arguments[1];}if(!c){Object.extend(Element.Methods,b||{});}else{if(Object.isArray(c)){c.each(g);}else{g(c);}}function g(l){l=l.toUpperCase();if(!Element.Methods.ByTag[l]){Element.Methods.ByTag[l]={};}Object.extend(Element.Methods.ByTag[l],b);}function d(l,m,n){n=n||false;for(var o in l){var p=l[o];if(!Object.isFunction(p)){continue;}if(!n||!(o in m)){m[o]=p.methodize();}}}function k(l){var n;var m={OPTGROUP:"OptGroup",TEXTAREA:"TextArea",P:"Paragraph",FIELDSET:"FieldSet",UL:"UList",OL:"OList",DL:"DList",DIR:"Directory",H1:"Heading",H2:"Heading",H3:"Heading",H4:"Heading",H5:"Heading",H6:"Heading",Q:"Quote",INS:"Mod",DEL:"Mod",A:"Anchor",IMG:"Image",CAPTION:"TableCaption",COL:"TableCol",COLGROUP:"TableCol",THEAD:"TableSection",TFOOT:"TableSection",TBODY:"TableSection",TR:"TableRow",TH:"TableCell",TD:"TableCell",FRAMESET:"FrameSet",IFRAME:"IFrame"};if(m[l]){n="HTML"+m[l]+"Element";}if(window[n]){return window[n];}n="HTML"+l+"Element";if(window[n]){return window[n];}n="HTML"+l.capitalize()+"Element";if(window[n]){return window[n];}window[n]={};window[n].prototype=document.createElement(l)["__proto__"];return window[n];}if(f.ElementExtensions){d(Element.Methods,HTMLElement.prototype);d(Element.Methods.Simulated,HTMLElement.prototype,true);}if(f.SpecificElementExtensions){for(var e in Element.Methods.ByTag){var h=k(e);if(Object.isUndefined(h)){continue;}d(a[e],h.prototype);}}Object.extend(Element,Element.Methods);delete Element.ByTag;if(Element.extend.refresh){Element.extend.refresh();}Element.cache={};};document.viewport={getDimensions:function(){var a={},b=Prototype.Browser;$w("width height").each(function(c){var d=c.capitalize();if(b.WebKit&&!document.evaluate){a[c]=self["inner"+d];}else{if(b.Opera&&parseFloat(window.opera.version())<9.5){a[c]=document.body["client"+d];}else{a[c]=document.documentElement["client"+d];}}});return a;},getWidth:function(){return this.getDimensions().width;},getHeight:function(){return this.getDimensions().height;},getScrollOffsets:function(){return Element._returnOffset(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop);}};var Selector=Class.create({initialize:function(a){this.expression=a.strip();if(this.shouldUseSelectorsAPI()){this.mode="selectorsAPI";}else{if(this.shouldUseXPath()){this.mode="xpath";this.compileXPathMatcher();}else{this.mode="normal";this.compileMatcher();}}},shouldUseXPath:function(){if(!Prototype.BrowserFeatures.XPath){return false;
}var a=this.expression;if(Prototype.Browser.WebKit&&(a.include("-of-type")||a.include(":empty"))){return false;}if((/(\[[\w-]*?:|:checked)/).test(a)){return false;}return true;},shouldUseSelectorsAPI:function(){if(!Prototype.BrowserFeatures.SelectorsAPI){return false;}if(!Selector._div){Selector._div=new Element("div");}try{Selector._div.querySelector(this.expression);}catch(a){return false;}return true;},compileMatcher:function(){var e=this.expression,ps=Selector.patterns,h=Selector.handlers,c=Selector.criteria,le,p,m;if(Selector._cache[e]){this.matcher=Selector._cache[e];return;}this.matcher=["this.matcher = function(root) {","var r = root, h = Selector.handlers, c = false, n;"];while(e&&le!=e&&(/\S/).test(e)){le=e;for(var i in ps){p=ps[i];if(m=e.match(p)){this.matcher.push(Object.isFunction(c[i])?c[i](m):new Template(c[i]).evaluate(m));e=e.replace(m[0],"");break;}}}this.matcher.push("return h.unique(n);\n}");eval(this.matcher.join("\n"));Selector._cache[this.expression]=this.matcher;},compileXPathMatcher:function(){var c=this.expression,b=Selector.patterns,f=Selector.xpath,d,a;if(Selector._cache[c]){this.xpath=Selector._cache[c];return;}this.matcher=[".//*"];while(c&&d!=c&&(/\S/).test(c)){d=c;for(var e in b){if(a=c.match(b[e])){this.matcher.push(Object.isFunction(f[e])?f[e](a):new Template(f[e]).evaluate(a));c=c.replace(a[0],"");break;}}}this.xpath=this.matcher.join("");Selector._cache[this.expression]=this.xpath;},findElements:function(a){a=a||document;var d=this.expression,e;switch(this.mode){case"selectorsAPI":if(a!==document){var c=a.id,b=$(a).identify();d="#"+b+" "+d;}e=$A(a.querySelectorAll(d)).map(Element.extend);a.id=c;return e;case"xpath":return document._getElementsByXPath(this.xpath,a);default:return this.matcher(a);}},match:function(k){this.tokens=[];var e=this.expression,d=Selector.patterns,n=Selector.assertions;var c,a,m;while(e&&c!==e&&(/\S/).test(e)){c=e;for(var h in d){a=d[h];if(m=e.match(a)){if(n[h]){this.tokens.push([h,Object.clone(m)]);e=e.replace(m[0],"");}else{return this.findElements(document).include(k);}}}}var f=true,b,g;for(var h=0,l;l=this.tokens[h];h++){b=l[0],g=l[1];if(!Selector.assertions[b](k,g)){f=false;break;}}return f;},toString:function(){return this.expression;},inspect:function(){return"#<Selector:"+this.expression.inspect()+">";}});Object.extend(Selector,{_cache:{},xpath:{descendant:"//*",child:"/*",adjacent:"/following-sibling::*[1]",laterSibling:"/following-sibling::*",tagName:function(a){if(a[1]=="*"){return"";}return"[local-name()='"+a[1].toLowerCase()+"' or local-name()='"+a[1].toUpperCase()+"']";},className:"[contains(concat(' ', @class, ' '), ' #{1} ')]",id:"[@id='#{1}']",attrPresence:function(a){a[1]=a[1].toLowerCase();return new Template("[@#{1}]").evaluate(a);},attr:function(a){a[1]=a[1].toLowerCase();a[3]=a[5]||a[6];return new Template(Selector.xpath.operators[a[2]]).evaluate(a);},pseudo:function(a){var b=Selector.xpath.pseudos[a[1]];if(!b){return"";}if(Object.isFunction(b)){return b(a);}return new Template(Selector.xpath.pseudos[a[1]]).evaluate(a);},operators:{"=":"[@#{1}='#{3}']","!=":"[@#{1}!='#{3}']","^=":"[starts-with(@#{1}, '#{3}')]","$=":"[substring(@#{1}, (string-length(@#{1}) - string-length('#{3}') + 1))='#{3}']","*=":"[contains(@#{1}, '#{3}')]","~=":"[contains(concat(' ', @#{1}, ' '), ' #{3} ')]","|=":"[contains(concat('-', @#{1}, '-'), '-#{3}-')]"},pseudos:{"first-child":"[not(preceding-sibling::*)]","last-child":"[not(following-sibling::*)]","only-child":"[not(preceding-sibling::* or following-sibling::*)]",empty:"[count(*) = 0 and (count(text()) = 0)]",checked:"[@checked]",disabled:"[(@disabled) and (@type!='hidden')]",enabled:"[not(@disabled) and (@type!='hidden')]",not:function(h){var b=h[6],c=Selector.patterns,a=Selector.xpath,e,g;var d=[];while(b&&e!=b&&(/\S/).test(b)){e=b;for(var f in c){if(h=b.match(c[f])){g=Object.isFunction(a[f])?a[f](h):new Template(a[f]).evaluate(h);d.push("("+g.substring(1,g.length-1)+")");b=b.replace(h[0],"");break;}}}return"[not("+d.join(" and ")+")]";},"nth-child":function(a){return Selector.xpath.pseudos.nth("(count(./preceding-sibling::*) + 1) ",a);},"nth-last-child":function(a){return Selector.xpath.pseudos.nth("(count(./following-sibling::*) + 1) ",a);},"nth-of-type":function(a){return Selector.xpath.pseudos.nth("position() ",a);},"nth-last-of-type":function(a){return Selector.xpath.pseudos.nth("(last() + 1 - position()) ",a);},"first-of-type":function(a){a[6]="1";return Selector.xpath.pseudos["nth-of-type"](a);},"last-of-type":function(a){a[6]="1";return Selector.xpath.pseudos["nth-last-of-type"](a);},"only-of-type":function(a){var b=Selector.xpath.pseudos;return b["first-of-type"](a)+b["last-of-type"](a);},nth:function(d,f){var c,b=f[6],g;if(b=="even"){b="2n+0";}if(b=="odd"){b="2n+1";}if(c=b.match(/^(\d+)$/)){return"["+d+"= "+c[1]+"]";}if(c=b.match(/^(-?\d*)?n(([+-])(\d+))?/)){if(c[1]=="-"){c[1]=-1;}var e=c[1]?Number(c[1]):1;var a=c[2]?Number(c[2]):0;g="[((#{fragment} - #{b}) mod #{a} = 0) and ((#{fragment} - #{b}) div #{a} >= 0)]";return new Template(g).evaluate({fragment:d,a:e,b:a});}}}},criteria:{tagName:'n = h.tagName(n, r, "#{1}", c);      c = false;',className:'n = h.className(n, r, "#{1}", c);    c = false;',id:'n = h.id(n, r, "#{1}", c);           c = false;',attrPresence:'n = h.attrPresence(n, r, "#{1}", c); c = false;',attr:function(a){a[3]=(a[5]||a[6]);return new Template('n = h.attr(n, r, "#{1}", "#{3}", "#{2}", c); c = false;').evaluate(a);},pseudo:function(a){if(a[6]){a[6]=a[6].replace(/"/g,'\\"');}return new Template('n = h.pseudo(n, "#{1}", "#{6}", r, c); c = false;').evaluate(a);},descendant:'c = "descendant";',child:'c = "child";',adjacent:'c = "adjacent";',laterSibling:'c = "laterSibling";'},patterns:{laterSibling:/^\s*~\s*/,child:/^\s*>\s*/,adjacent:/^\s*\+\s*/,descendant:/^\s/,tagName:/^\s*(\*|[\w\-]+)(\b|$)?/,id:/^#([\w\-\*]+)(\b|$)/,className:/^\.([\w\-\*]+)(\b|$)/,pseudo:/^:((first|last|nth|nth-last|only)(-child|-of-type)|empty|checked|(en|dis)abled|not)(\((.*?)\))?(\b|$|(?=\s|[:+~>]))/,attrPresence:/^\[((?:[\w]+:)?[\w]+)\]/,attr:/\[((?:[\w-]*:)?[\w-]+)\s*(?:([!^$*~|]?=)\s*((['"])([^\4]*?)\4|([^'"][^\]]*?)))?\]/},assertions:{tagName:function(a,b){return b[1].toUpperCase()==a.tagName.toUpperCase();},className:function(a,b){return Element.hasClassName(a,b[1]);},id:function(a,b){return a.id===b[1];},attrPresence:function(a,b){return Element.hasAttribute(a,b[1]);},attr:function(c,b){var a=Element.readAttribute(c,b[1]);return a&&Selector.operators[b[2]](a,b[5]||b[6]);}},handlers:{concat:function(d,a){for(var c=0,b;b=a[c];c++){d.push(b);}return d;},mark:function(a){var b=Prototype.emptyFunction;for(var d=0,c;c=a[d];d++){c._countedByPrototype=b;}return a;},unmark:function(a){for(var c=0,b;b=a[c];c++){b._countedByPrototype=undefined;}return a;},index:function(a,e,b){a._countedByPrototype=Prototype.emptyFunction;if(e){for(var g=a.childNodes,d=g.length-1,f=1;d>=0;d--){var c=g[d];if(c.nodeType==1&&(!b||c._countedByPrototype)){c.nodeIndex=f++;}}}else{for(var d=0,f=1,g=a.childNodes;c=g[d];d++){if(c.nodeType==1&&(!b||c._countedByPrototype)){c.nodeIndex=f++;}}}},unique:function(e){if(e.length==0){return e;}var c=[],b;for(var d=0,a=e.length;d<a;d++){if(!(b=e[d])._countedByPrototype){b._countedByPrototype=Prototype.emptyFunction;c.push(Element.extend(b));}}return Selector.handlers.unmark(c);},descendant:function(a){var c=Selector.handlers;for(var d=0,e=[],b;b=a[d];d++){c.concat(e,b.getElementsByTagName("*"));}return e;},child:function(a){var d=Selector.handlers;for(var e=0,f=[],c;c=a[e];e++){for(var g=0,b;b=c.childNodes[g];g++){if(b.nodeType==1&&b.tagName!="!"){f.push(b);}}}return f;},adjacent:function(a){for(var d=0,e=[],b;b=a[d];d++){var c=this.nextElementSibling(b);if(c){e.push(c);}}return e;},laterSibling:function(a){var c=Selector.handlers;for(var d=0,e=[],b;b=a[d];d++){c.concat(e,Element.nextSiblings(b));}return e;},nextElementSibling:function(a){while(a=a.nextSibling){if(a.nodeType==1){return a;}}return null;},previousElementSibling:function(a){while(a=a.previousSibling){if(a.nodeType==1){return a;
}}return null;},tagName:function(d,f,b,c){var e=b.toUpperCase();var k=[],g=Selector.handlers;if(d){if(c){if(c=="descendant"){for(var h=0,a;a=d[h];h++){g.concat(k,a.getElementsByTagName(b));}return k;}else{d=this[c](d);}if(b=="*"){return d;}}for(var h=0,a;a=d[h];h++){if(a.tagName.toUpperCase()===e){k.push(a);}}return k;}else{return f.getElementsByTagName(b);}},id:function(h,a,b,d){var c=$(b),f=Selector.handlers;if(!c){return[];}if(!h&&a==document){return[c];}if(h){if(d){if(d=="child"){for(var g=0,e;e=h[g];g++){if(c.parentNode==e){return[c];}}}else{if(d=="descendant"){for(var g=0,e;e=h[g];g++){if(Element.descendantOf(c,e)){return[c];}}}else{if(d=="adjacent"){for(var g=0,e;e=h[g];g++){if(Selector.handlers.previousElementSibling(c)==e){return[c];}}}else{h=f[d](h);}}}}for(var g=0,e;e=h[g];g++){if(e==c){return[c];}}return[];}return(c&&Element.descendantOf(c,a))?[c]:[];},className:function(d,a,c,b){if(d&&b){d=this[b](d);}return Selector.handlers.byClassName(d,a,c);},byClassName:function(g,h,d){if(!g){g=Selector.handlers.descendant([h]);}var b=" "+d+" ";for(var e=0,f=[],c,a;c=g[e];e++){a=c.className;if(a.length==0){continue;}if(a==d||(" "+a+" ").include(b)){f.push(c);}}return f;},attrPresence:function(f,g,a,b){if(!f){f=g.getElementsByTagName("*");}if(f&&b){f=this[b](f);}var d=[];for(var e=0,c;c=f[e];e++){if(Element.hasAttribute(c,a)){d.push(c);}}return d;},attr:function(d,g,h,f,b,c){if(!d){d=g.getElementsByTagName("*");}if(d&&c){d=this[c](d);}var e=Selector.operators[b],l=[];for(var m=0,a;a=d[m];m++){var k=Element.readAttribute(a,h);if(k===null){continue;}if(e(k,f)){l.push(a);}}return l;},pseudo:function(e,d,b,a,c){if(e&&c){e=this[c](e);}if(!e){e=a.getElementsByTagName("*");}return Selector.pseudos[d](e,b,a);}},pseudos:{"first-child":function(f,b,a){for(var d=0,e=[],c;c=f[d];d++){if(Selector.handlers.previousElementSibling(c)){continue;}e.push(c);}return e;},"last-child":function(f,b,a){for(var d=0,e=[],c;c=f[d];d++){if(Selector.handlers.nextElementSibling(c)){continue;}e.push(c);}return e;},"only-child":function(g,b,a){var d=Selector.handlers;for(var e=0,f=[],c;c=g[e];e++){if(!d.previousElementSibling(c)&&!d.nextElementSibling(c)){f.push(c);}}return f;},"nth-child":function(c,b,a){return Selector.pseudos.nth(c,b,a);},"nth-last-child":function(c,b,a){return Selector.pseudos.nth(c,b,a,true);},"nth-of-type":function(c,b,a){return Selector.pseudos.nth(c,b,a,false,true);},"nth-last-of-type":function(c,b,a){return Selector.pseudos.nth(c,b,a,true,true);},"first-of-type":function(c,b,a){return Selector.pseudos.nth(c,"1",a,false,true);},"last-of-type":function(c,b,a){return Selector.pseudos.nth(c,"1",a,true,true);},"only-of-type":function(d,b,a){var c=Selector.pseudos;return c["last-of-type"](c["first-of-type"](d,b,a),b,a);},getIndices:function(c,a,b){if(c==0){return a>0?[a]:[];}return $R(1,b).inject([],function(e,d){if(0==(d-a)%c&&(d-a)/c>=0){e.push(d);}return e;});},nth:function(d,k,g,l,b){if(d.length==0){return[];}if(k=="even"){k="2n+0";}if(k=="odd"){k="2n+1";}var m=Selector.handlers,n=[],c=[],r;m.mark(d);for(var o=0,a;a=d[o];o++){if(!a.parentNode._countedByPrototype){m.index(a.parentNode,l,b);c.push(a.parentNode);}}if(k.match(/^\d+$/)){k=Number(k);for(var o=0,a;a=d[o];o++){if(a.nodeIndex==k){n.push(a);}}}else{if(r=k.match(/^(-?\d*)?n(([+-])(\d+))?/)){if(r[1]=="-"){r[1]=-1;}var f=r[1]?Number(r[1]):1;var h=r[2]?Number(r[2]):0;var e=Selector.pseudos.getIndices(f,h,d.length);for(var o=0,a,q=e.length;a=d[o];o++){for(var p=0;p<q;p++){if(a.nodeIndex==e[p]){n.push(a);}}}}}m.unmark(d);m.unmark(c);return n;},empty:function(f,b,a){for(var d=0,e=[],c;c=f[d];d++){if(c.tagName=="!"||c.firstChild){continue;}e.push(c);}return e;},not:function(d,a,f){var h=Selector.handlers,e,b;var g=new Selector(a).findElements(f);h.mark(g);for(var k=0,l=[],c;c=d[k];k++){if(!c._countedByPrototype){l.push(c);}}h.unmark(g);return l;},enabled:function(f,b,a){for(var d=0,e=[],c;c=f[d];d++){if(!c.disabled&&(!c.type||c.type!=="hidden")){e.push(c);}}return e;},disabled:function(f,b,a){for(var d=0,e=[],c;c=f[d];d++){if(c.disabled){e.push(c);}}return e;},checked:function(f,b,a){for(var d=0,e=[],c;c=f[d];d++){if(c.checked){e.push(c);}}return e;}},operators:{"=":function(b,a){return b==a;},"!=":function(b,a){return b!=a;},"^=":function(b,a){return b==a||b&&b.startsWith(a);},"$=":function(b,a){return b==a||b&&b.endsWith(a);},"*=":function(b,a){return b==a||b&&b.include(a);},"$=":function(b,a){return b.endsWith(a);},"*=":function(b,a){return b.include(a);},"~=":function(b,a){return(" "+b+" ").include(" "+a+" ");},"|=":function(b,a){return("-"+(b||"").toUpperCase()+"-").include("-"+(a||"").toUpperCase()+"-");}},split:function(b){var a=[];b.scan(/(([\w#:.~>+()\s-]+|\*|\[.*?\])+)\s*(,|$)/,function(c){a.push(c[1].strip());});return a;},matchElements:function(c,b){var d=$$(b),e=Selector.handlers;e.mark(d);for(var f=0,g=[],a;a=c[f];f++){if(a._countedByPrototype){g.push(a);}}e.unmark(d);return g;},findElement:function(c,b,a){if(Object.isNumber(b)){a=b;b=false;}return Selector.matchElements(c,b||"*")[a||0];},findChildElements:function(d,b){b=Selector.split(b.join(","));var e=[],c=Selector.handlers;for(var f=0,g=b.length,a;f<g;f++){a=new Selector(b[f].strip());c.concat(e,a.findElements(d));}return(g>1)?c.unique(e):e;}});if(Prototype.Browser.IE){Object.extend(Selector.handlers,{concat:function(d,a){for(var c=0,b;b=a[c];c++){if(b.tagName!=="!"){d.push(b);}}return d;},unmark:function(a){for(var c=0,b;b=a[c];c++){b.removeAttribute("_countedByPrototype");}return a;}});}function $$(){return Selector.findChildElements(document,$A(arguments));}var Form={reset:function(a){$(a).reset();return a;},serializeElements:function(b,g){if(typeof g!="object"){g={hash:!!g};}else{if(Object.isUndefined(g.hash)){g.hash=true;}}var f,c,a=false,d=g.submit;var e=b.inject({},function(k,h){if(!h.disabled&&h.name){f=h.name;c=$(h).getValue();if(c!=null&&h.type!="file"&&(h.type!="submit"||(!a&&d!==false&&(!d||f==d)&&(a=true)))){if(f in k){if(!Object.isArray(k[f])){k[f]=[k[f]];}k[f].push(c);}else{k[f]=c;}}}return k;});return g.hash?e:Object.toQueryString(e);}};Form.Methods={serialize:function(b,a){return Form.serializeElements(Form.getElements(b),a);},getElements:function(a){return $A($(a).getElementsByTagName("*")).inject([],function(c,b){if(Form.Element.Serializers[b.tagName.toLowerCase()]){c.push(Element.extend(b));}return c;});},getInputs:function(c,g,f){c=$(c);var a=c.getElementsByTagName("input");if(!g&&!f){return $A(a).map(Element.extend);}for(var e=0,b=[],d=a.length;e<d;e++){var h=a[e];if((g&&h.type!=g)||(f&&h.name!=f)){continue;}b.push(Element.extend(h));}return b;},disable:function(a){a=$(a);Form.getElements(a).invoke("disable");return a;},enable:function(a){a=$(a);Form.getElements(a).invoke("enable");return a;},findFirstElement:function(c){var b=$(c).getElements().findAll(function(d){return"hidden"!=d.type&&!d.disabled;});var a=b.findAll(function(d){return d.hasAttribute("tabIndex")&&d.tabIndex>=0;}).sortBy(function(d){return d.tabIndex;}).first();return a?a:b.find(function(d){return["input","select","textarea"].include(d.tagName.toLowerCase());});},focusFirstElement:function(a){a=$(a);a.findFirstElement().activate();return a;},request:function(d,a){d=$(d),a=Object.clone(a||{});var b=a.parameters,c=d.readAttribute("action")||"";if(c.blank()){c=window.location.href;}a.parameters=d.serialize(true);if(b){if(Object.isString(b)){b=b.toQueryParams();}Object.extend(a.parameters,b);}if(d.hasAttribute("method")&&!a.method){a.method=d.method;}return new Ajax.Request(c,a);}};Form.Element={focus:function(a){$(a).focus();return a;},select:function(a){$(a).select();return a;}};Form.Element.Methods={serialize:function(a){a=$(a);if(!a.disabled&&a.name){var c=a.getValue();if(c!=undefined){var b={};b[a.name]=c;return Object.toQueryString(b);}}return"";},getValue:function(a){a=$(a);var b=a.tagName.toLowerCase();return Form.Element.Serializers[b](a);},setValue:function(a,c){a=$(a);var b=a.tagName.toLowerCase();Form.Element.Serializers[b](a,c);return a;},clear:function(a){$(a).value="";
return a;},present:function(a){return $(a).value!="";},activate:function(a){a=$(a);try{a.focus();if(a.select&&(a.tagName.toLowerCase()!="input"||!["button","reset","submit"].include(a.type))){a.select();}}catch(b){}return a;},disable:function(a){a=$(a);a.disabled=true;return a;},enable:function(a){a=$(a);a.disabled=false;return a;}};var Field=Form.Element;var $F=Form.Element.Methods.getValue;Form.Element.Serializers={input:function(a,b){switch(a.type.toLowerCase()){case"checkbox":case"radio":return Form.Element.Serializers.inputSelector(a,b);default:return Form.Element.Serializers.textarea(a,b);}},inputSelector:function(a,b){if(Object.isUndefined(b)){return a.checked?a.value:null;}else{a.checked=!!b;}},textarea:function(a,b){if(Object.isUndefined(b)){return a.value;}else{a.value=b;}},select:function(f,c){if(Object.isUndefined(c)){return this[f.type=="select-one"?"selectOne":"selectMany"](f);}else{var g,e,b=!Object.isArray(c);for(var a=0,d=f.length;a<d;a++){g=f.options[a];e=this.optionValue(g);if(b){if(e==c){g.selected=true;return;}}else{g.selected=c.include(e);}}}},selectOne:function(b){var a=b.selectedIndex;return a>=0?this.optionValue(b.options[a]):null;},selectMany:function(c){var a,b=c.length;if(!b){return null;}for(var d=0,a=[];d<b;d++){var e=c.options[d];if(e.selected){a.push(this.optionValue(e));}}return a;},optionValue:function(a){return Element.extend(a).hasAttribute("value")?a.value:a.text;}};Abstract.TimedObserver=Class.create(PeriodicalExecuter,{initialize:function($super,a,c,b){$super(b,c);this.element=$(a);this.lastValue=this.getValue();},execute:function(){var a=this.getValue();if(Object.isString(this.lastValue)&&Object.isString(a)?this.lastValue!=a:String(this.lastValue)!=String(a)){this.callback(this.element,a);this.lastValue=a;}}});Form.Element.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.Element.getValue(this.element);}});Form.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.serialize(this.element);}});Abstract.EventObserver=Class.create({initialize:function(a,b){this.element=$(a);this.callback=b;this.lastValue=this.getValue();if(this.element.tagName.toLowerCase()=="form"){this.registerFormCallbacks();}else{this.registerCallback(this.element);}},onElementEvent:function(){var a=this.getValue();if(this.lastValue!=a){this.callback(this.element,a);this.lastValue=a;}},registerFormCallbacks:function(){Form.getElements(this.element).each(this.registerCallback,this);},registerCallback:function(a){if(a.type){switch(a.type.toLowerCase()){case"checkbox":case"radio":Event.observe(a,"click",this.onElementEvent.bind(this));break;default:Event.observe(a,"change",this.onElementEvent.bind(this));break;}}}});Form.Element.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.Element.getValue(this.element);}});Form.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.serialize(this.element);}});if(!window.Event){var Event={};}Object.extend(Event,{KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,KEY_INSERT:45,cache:{},relatedTarget:function(b){var a;switch(b.type){case"mouseover":a=b.fromElement;break;case"mouseout":a=b.toElement;break;default:return null;}return Element.extend(a);}});Event.Methods=(function(){var a;if(Prototype.Browser.IE){var b={0:1,1:4,2:2};a=function(c,d){return c.button==b[d];};}else{if(Prototype.Browser.WebKit){a=function(c,d){switch(d){case 0:return c.which==1&&!c.metaKey;case 1:return c.which==1&&c.metaKey;default:return false;}};}else{a=function(c,d){return c.which?(c.which===d+1):(c.button===d);};}}return{isLeftClick:function(c){return a(c,0);},isMiddleClick:function(c){return a(c,1);},isRightClick:function(c){return a(c,2);},element:function(d){d=Event.extend(d);var e=d.target,f=d.type,c=d.currentTarget;if(c&&c.tagName){if(f==="load"||f==="error"||(f==="click"&&c.tagName.toLowerCase()==="input"&&c.type==="radio")){e=c;}}if(e.nodeType==Node.TEXT_NODE){e=e.parentNode;}return Element.extend(e);},findElement:function(e,c){var f=Event.element(e);if(!c){return f;}var d=[f].concat(f.ancestors());return Selector.findElement(d,c,0);},pointer:function(c){var d=document.documentElement,e=document.body||{scrollLeft:0,scrollTop:0};return{x:c.pageX||(c.clientX+(d.scrollLeft||e.scrollLeft)-(d.clientLeft||0)),y:c.pageY||(c.clientY+(d.scrollTop||e.scrollTop)-(d.clientTop||0))};},pointerX:function(c){return Event.pointer(c).x;},pointerY:function(c){return Event.pointer(c).y;},stop:function(c){Event.extend(c);c.preventDefault();c.stopPropagation();c.stopped=true;}};})();Event.extend=(function(){var a=Object.keys(Event.Methods).inject({},function(c,b){c[b]=Event.Methods[b].methodize();return c;});if(Prototype.Browser.IE){Object.extend(a,{stopPropagation:function(){this.cancelBubble=true;},preventDefault:function(){this.returnValue=false;},inspect:function(){return"[object Event]";}});return function(c){if(!c){return false;}if(c._extendedByPrototype){return c;}c._extendedByPrototype=Prototype.emptyFunction;var b=Event.pointer(c);Object.extend(c,{target:c.srcElement,relatedTarget:Event.relatedTarget(c),pageX:b.x,pageY:b.y});return Object.extend(c,a);};}else{Event.prototype=Event.prototype||document.createEvent("HTMLEvents")["__proto__"];Object.extend(Event.prototype,a);return Prototype.K;}})();Object.extend(Event,(function(){var c=Event.cache;function b(l){if(l._prototypeEventID){return l._prototypeEventID[0];}arguments.callee.id=arguments.callee.id||1;return l._prototypeEventID=[++arguments.callee.id];}function g(l){if(l&&l.include(":")){return"dataavailable";}return l;}function d(l){return c[l]=c[l]||{};}function h(l,n){var m=d(l);return m[n]=m[n]||[];}function f(m,n,l){var o=b(m);var p=h(o,n);if(p.pluck("handler").include(l)){return false;}var q=function(r){if(!Event||!Event.extend||(r.eventName&&r.eventName!=n)){return false;}Event.extend(r);l.call(m,r);};q.handler=l;p.push(q);return q;}function e(o,n,m){var l=h(o,n);return l.find(function(p){return p.handler==m;});}function a(o,n,m){var l=d(o);if(!l[n]){return false;}l[n]=l[n].without(e(o,n,m));}function k(){for(var l in c){for(var m in c[l]){c[l][m]=null;}}}if(window.attachEvent){window.attachEvent("onunload",k);}if(Prototype.Browser.WebKit){window.addEventListener("unload",Prototype.emptyFunction,false);}return{observe:function(l,n,p){l=$(l);var m=g(n);var o=f(l,n,p);if(!o){return l;}if(l.addEventListener){l.addEventListener(m,o,false);}else{l.attachEvent("on"+m,o);}return l;},stopObserving:function(l,n,q){l=$(l);var o=b(l),m=g(n);if(!q&&n){h(o,n).each(function(r){l.stopObserving(n,r.handler);});return l;}else{if(!n){Object.keys(d(o)).each(function(r){l.stopObserving(r);});return l;}}var p=e(o,n,q);if(!p){return l;}if(l.removeEventListener){l.removeEventListener(m,p,false);}else{l.detachEvent("on"+m,p);}a(o,n,q);return l;},fire:function(l,m,n){l=$(l);if(l==document&&document.createEvent&&!l.dispatchEvent){l=document.documentElement;}var o;if(document.createEvent){o=document.createEvent("HTMLEvents");o.initEvent("dataavailable",true,true);}else{o=document.createEventObject();o.eventType="ondataavailable";}o.eventName=m;o.memo=n||{};if(document.createEvent){l.dispatchEvent(o);}else{l.fireEvent(o.eventType,o);}return Event.extend(o);}};})());Object.extend(Event,Event.Methods);Element.addMethods({fire:Event.fire,observe:Event.observe,stopObserving:Event.stopObserving});Object.extend(document,{fire:Element.Methods.fire.methodize(),observe:Element.Methods.observe.methodize(),stopObserving:Element.Methods.stopObserving.methodize(),loaded:false});(function(){var b;function a(){if(document.loaded){return;}if(b){window.clearInterval(b);}document.fire("dom:loaded");document.loaded=true;}if(document.addEventListener){if(Prototype.Browser.WebKit){b=window.setInterval(function(){if(/loaded|complete/.test(document.readyState)){a();}},0);Event.observe(window,"load",a);}else{document.addEventListener("DOMContentLoaded",a,false);
}}else{document.write("<script id=__onDOMContentLoaded defer src=//:><\/script>");$("__onDOMContentLoaded").onreadystatechange=function(){if(this.readyState=="complete"){this.onreadystatechange=null;a();}};}})();Hash.toQueryString=Object.toQueryString;var Toggle={display:Element.toggle};Element.Methods.childOf=Element.Methods.descendantOf;var Insertion={Before:function(a,b){return Element.insert(a,{before:b});},Top:function(a,b){return Element.insert(a,{top:b});},Bottom:function(a,b){return Element.insert(a,{bottom:b});},After:function(a,b){return Element.insert(a,{after:b});}};var $continue=new Error('"throw $continue" is deprecated, use "return" instead');var Position={includeScrollOffsets:false,prepare:function(){this.deltaX=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;this.deltaY=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;},within:function(c,a,b){if(this.includeScrollOffsets){return this.withinIncludingScrolloffsets(c,a,b);}this.xcomp=a;this.ycomp=b;this.offset=Element.cumulativeOffset(c);return(b>=this.offset[1]&&b<this.offset[1]+c.offsetHeight&&a>=this.offset[0]&&a<this.offset[0]+c.offsetWidth);},withinIncludingScrolloffsets:function(d,a,b){var c=Element.cumulativeScrollOffset(d);this.xcomp=a+c[0]-this.deltaX;this.ycomp=b+c[1]-this.deltaY;this.offset=Element.cumulativeOffset(d);return(this.ycomp>=this.offset[1]&&this.ycomp<this.offset[1]+d.offsetHeight&&this.xcomp>=this.offset[0]&&this.xcomp<this.offset[0]+d.offsetWidth);},overlap:function(b,a){if(!b){return 0;}if(b=="vertical"){return((this.offset[1]+a.offsetHeight)-this.ycomp)/a.offsetHeight;}if(b=="horizontal"){return((this.offset[0]+a.offsetWidth)-this.xcomp)/a.offsetWidth;}},cumulativeOffset:Element.Methods.cumulativeOffset,positionedOffset:Element.Methods.positionedOffset,absolutize:function(a){Position.prepare();return Element.absolutize(a);},relativize:function(a){Position.prepare();return Element.relativize(a);},realOffset:Element.Methods.cumulativeScrollOffset,offsetParent:Element.Methods.getOffsetParent,page:Element.Methods.viewportOffset,clone:function(c,b,a){a=a||{};return Element.clonePosition(b,c,a);}};if(!document.getElementsByClassName){document.getElementsByClassName=function(b){function a(c){return c.blank()?null:"[contains(concat(' ', @class, ' '), ' "+c+" ')]";}b.getElementsByClassName=Prototype.BrowserFeatures.XPath?function(e,c){c=c.toString().strip();var d=/\s/.test(c)?$w(c).map(a).join(""):a(c);return d?document._getElementsByXPath(".//*"+d,e):[];}:function(h,g){g=g.toString().strip();var f=[],e=(/\s/.test(g)?$w(g):null);if(!e&&!g){return f;}var l=$(h).getElementsByTagName("*");g=" "+g+" ";for(var k=0,c,d;c=l[k];k++){if(c.className&&(d=" "+c.className+" ")&&(d.include(g)||(e&&e.all(function(m){return !m.toString().blank()&&d.include(" "+m+" ");})))){f.push(Element.extend(c));}}return f;};return function(c,d){return $(d||document.body).getElementsByClassName(c);};}(Element.Methods);}Element.ClassNames=Class.create();Element.ClassNames.prototype={initialize:function(a){this.element=$(a);},_each:function(a){this.element.className.split(/\s+/).select(function(b){return b.length>0;})._each(a);},set:function(a){this.element.className=a;},add:function(a){if(this.include(a)){return;}this.set($A(this).concat(a).join(" "));},remove:function(a){if(!this.include(a)){return;}this.set($A(this).without(a).join(" "));},toString:function(){return $A(this).join(" ");}};Object.extend(Element.ClassNames.prototype,Enumerable);Element.addMethods();var Scriptaculous={Version:"1.8.2",require:function(a){document.write('<script type="text/javascript" src="'+a+'"><\/script>');},REQUIRED_PROTOTYPE:"1.6.0.3",load:function(){function a(c){var b=c.replace(/_.*|\./g,"");b=parseInt(b+"0".times(4-b.length));return c.indexOf("_")>-1?b-1:b;}if((typeof Prototype=="undefined")||(typeof Element=="undefined")||(typeof Element.Methods=="undefined")||(a(Prototype.Version)<a(Scriptaculous.REQUIRED_PROTOTYPE))){throw ("script.aculo.us requires the Prototype JavaScript framework >= "+Scriptaculous.REQUIRED_PROTOTYPE);}}};Scriptaculous.load();var Builder={NODEMAP:{AREA:"map",CAPTION:"table",COL:"table",COLGROUP:"table",LEGEND:"fieldset",OPTGROUP:"select",OPTION:"select",PARAM:"object",TBODY:"table",TD:"table",TFOOT:"table",TH:"table",THEAD:"table",TR:"table"},node:function(a){a=a.toUpperCase();var b=this.NODEMAP[a]||"div";var f=document.createElement(b);try{f.innerHTML="<"+a+"></"+a+">";}catch(c){}var d=f.firstChild||null;if(d&&(d.tagName.toUpperCase()!=a)){d=d.getElementsByTagName(a)[0];}if(!d){d=document.createElement(a);}if(!d){return;}if(arguments[1]){if(this._isStringOrNumber(arguments[1])||(arguments[1] instanceof Array)||arguments[1].tagName){this._children(d,arguments[1]);}else{var e=this._attributes(arguments[1]);if(e.length){try{f.innerHTML="<"+a+" "+e+"></"+a+">";}catch(c){}d=f.firstChild||null;if(!d){d=document.createElement(a);for(attr in arguments[1]){d[attr=="class"?"className":attr]=arguments[1][attr];}}if(d.tagName.toUpperCase()!=a){d=f.getElementsByTagName(a)[0];}}}}if(arguments[2]){this._children(d,arguments[2]);}return $(d);},_text:function(a){return document.createTextNode(a);},ATTR_MAP:{className:"class",htmlFor:"for"},_attributes:function(a){var b=[];for(attribute in a){b.push((attribute in this.ATTR_MAP?this.ATTR_MAP[attribute]:attribute)+'="'+a[attribute].toString().escapeHTML().gsub(/"/,"&quot;")+'"');}return b.join(" ");},_children:function(b,a){if(a.tagName){b.appendChild(a);return;}if(typeof a=="object"){a.flatten().each(function(c){if(typeof c=="object"){b.appendChild(c);}else{if(Builder._isStringOrNumber(c)){b.appendChild(Builder._text(c));}}});}else{if(Builder._isStringOrNumber(a)){b.appendChild(Builder._text(a));}}},_isStringOrNumber:function(a){return(typeof a=="string"||typeof a=="number");},build:function(b){var a=this.node("div");$(a).update(b.strip());return a.down();},dump:function(b){if(typeof b!="object"&&typeof b!="function"){b=window;}var a=("A ABBR ACRONYM ADDRESS APPLET AREA B BASE BASEFONT BDO BIG BLOCKQUOTE BODY BR BUTTON CAPTION CENTER CITE CODE COL COLGROUP DD DEL DFN DIR DIV DL DT EM FIELDSET FONT FORM FRAME FRAMESET H1 H2 H3 H4 H5 H6 HEAD HR HTML I IFRAME IMG INPUT INS ISINDEX KBD LABEL LEGEND LI LINK MAP MENU META NOFRAMES NOSCRIPT OBJECT OL OPTGROUP OPTION P PARAM PRE Q S SAMP SCRIPT SELECT SMALL SPAN STRIKE STRONG STYLE SUB SUP TABLE TBODY TD TEXTAREA TFOOT TH THEAD TITLE TR TT U UL VAR").split(/\s+/);a.each(function(c){b[c]=function(){return Builder.node.apply(Builder,[c].concat($A(arguments)));};});}};String.prototype.parseColor=function(){var a="#";if(this.slice(0,4)=="rgb("){var b=this.slice(4,this.length-1).split(",");var c=0;do{a+=parseInt(b[c]).toColorPart();}while(++c<3);}else{if(this.slice(0,1)=="#"){if(this.length==4){for(var c=1;c<4;c++){a+=(this.charAt(c)+this.charAt(c)).toLowerCase();}}if(this.length==7){a=this.toLowerCase();}}}return(a.length==7?a:(arguments[0]||this));};Element.collectTextNodes=function(a){return $A($(a).childNodes).collect(function(b){return(b.nodeType==3?b.nodeValue:(b.hasChildNodes()?Element.collectTextNodes(b):""));}).flatten().join("");};Element.collectTextNodesIgnoreClass=function(a,b){return $A($(a).childNodes).collect(function(c){return(c.nodeType==3?c.nodeValue:((c.hasChildNodes()&&!Element.hasClassName(c,b))?Element.collectTextNodesIgnoreClass(c,b):""));}).flatten().join("");};Element.setContentZoom=function(a,b){a=$(a);a.setStyle({fontSize:(b/100)+"em"});if(Prototype.Browser.WebKit){window.scrollBy(0,0);}return a;};Element.getInlineOpacity=function(a){return $(a).style.opacity||"";};Element.forceRerendering=function(a){try{a=$(a);var b=document.createTextNode(" ");a.appendChild(b);a.removeChild(b);}catch(c){}};var Effect={_elementDoesNotExistError:{name:"ElementDoesNotExistError",message:"The specified DOM element does not exist, but is required for this effect to operate"},Transitions:{linear:Prototype.K,sinoidal:function(a){return(-Math.cos(a*Math.PI)/2)+0.5;
},reverse:function(a){return 1-a;},flicker:function(a){var a=((-Math.cos(a*Math.PI)/4)+0.75)+Math.random()/4;return a>1?1:a;},wobble:function(a){return(-Math.cos(a*Math.PI*(9*a))/2)+0.5;},pulse:function(b,a){return(-Math.cos((b*((a||5)-0.5)*2)*Math.PI)/2)+0.5;},spring:function(a){return 1-(Math.cos(a*4.5*Math.PI)*Math.exp(-a*6));},none:function(a){return 0;},full:function(a){return 1;}},DefaultOptions:{duration:1,fps:100,sync:false,from:0,to:1,delay:0,queue:"parallel"},tagifyText:function(a){var b="position:relative";if(Prototype.Browser.IE){b+=";zoom:1";}a=$(a);$A(a.childNodes).each(function(c){if(c.nodeType==3){c.nodeValue.toArray().each(function(d){a.insertBefore(new Element("span",{style:b}).update(d==" "?String.fromCharCode(160):d),c);});Element.remove(c);}});},multiple:function(e,d){var b;if(((typeof e=="object")||Object.isFunction(e))&&(e.length)){b=e;}else{b=$(e).childNodes;}var a=Object.extend({speed:0.1,delay:0},arguments[2]||{});var c=a.delay;$A(b).each(function(f,g){new d(f,Object.extend(a,{delay:g*a.speed+c}));});},PAIRS:{slide:["SlideDown","SlideUp"],blind:["BlindDown","BlindUp"],appear:["Appear","Fade"]},toggle:function(c,b){c=$(c);b=(b||"appear").toLowerCase();var a=Object.extend({queue:{position:"end",scope:(c.id||"global"),limit:1}},arguments[2]||{});Effect[c.visible()?Effect.PAIRS[b][1]:Effect.PAIRS[b][0]](c,a);}};Effect.DefaultOptions.transition=Effect.Transitions.sinoidal;Effect.ScopedQueue=Class.create(Enumerable,{initialize:function(){this.effects=[];this.interval=null;},_each:function(a){this.effects._each(a);},add:function(c){var b=new Date().getTime();var a=Object.isString(c.options.queue)?c.options.queue:c.options.queue.position;switch(a){case"front":this.effects.findAll(function(d){return d.state=="idle";}).each(function(d){d.startOn+=c.finishOn;d.finishOn+=c.finishOn;});break;case"with-last":b=this.effects.pluck("startOn").max()||b;break;case"end":b=this.effects.pluck("finishOn").max()||b;break;}c.startOn+=b;c.finishOn+=b;if(!c.options.queue.limit||(this.effects.length<c.options.queue.limit)){this.effects.push(c);}if(!this.interval){this.interval=setInterval(this.loop.bind(this),15);}},remove:function(a){this.effects=this.effects.reject(function(b){return b==a;});if(this.effects.length==0){clearInterval(this.interval);this.interval=null;}},loop:function(){var b=new Date().getTime();for(var c=0,a=this.effects.length;c<a;c++){this.effects[c]&&this.effects[c].loop(b);}}});Effect.Queues={instances:$H(),get:function(a){if(!Object.isString(a)){return a;}return this.instances.get(a)||this.instances.set(a,new Effect.ScopedQueue());}};Effect.Queue=Effect.Queues.get("global");Effect.Base=Class.create({position:null,start:function(a){function b(c,d){return((c[d+"Internal"]?"this.options."+d+"Internal(this);":"")+(c[d]?"this.options."+d+"(this);":""));}if(a&&a.transition===false){a.transition=Effect.Transitions.linear;}this.options=Object.extend(Object.extend({},Effect.DefaultOptions),a||{});this.currentFrame=0;this.state="idle";this.startOn=this.options.delay*1000;this.finishOn=this.startOn+(this.options.duration*1000);this.fromToDelta=this.options.to-this.options.from;this.totalTime=this.finishOn-this.startOn;this.totalFrames=this.options.fps*this.options.duration;this.render=(function(){function c(d,e){if(d.options[e+"Internal"]){d.options[e+"Internal"](d);}if(d.options[e]){d.options[e](d);}}return function(d){if(this.state==="idle"){this.state="running";c(this,"beforeSetup");if(this.setup){this.setup();}c(this,"afterSetup");}if(this.state==="running"){d=(this.options.transition(d)*this.fromToDelta)+this.options.from;this.position=d;c(this,"beforeUpdate");if(this.update){this.update(d);}c(this,"afterUpdate");}};})();this.event("beforeStart");if(!this.options.sync){Effect.Queues.get(Object.isString(this.options.queue)?"global":this.options.queue.scope).add(this);}},loop:function(b){if(b>=this.startOn){if(b>=this.finishOn){this.render(1);this.cancel();this.event("beforeFinish");if(this.finish){this.finish();}this.event("afterFinish");return;}var c=(b-this.startOn)/this.totalTime,a=(c*this.totalFrames).round();if(a>this.currentFrame){this.render(c);this.currentFrame=a;}}},cancel:function(){if(!this.options.sync){Effect.Queues.get(Object.isString(this.options.queue)?"global":this.options.queue.scope).remove(this);}this.state="finished";},event:function(a){if(this.options[a+"Internal"]){this.options[a+"Internal"](this);}if(this.options[a]){this.options[a](this);}},inspect:function(){var a=$H();for(property in this){if(!Object.isFunction(this[property])){a.set(property,this[property]);}}return"#<Effect:"+a.inspect()+",options:"+$H(this.options).inspect()+">";}});Effect.Parallel=Class.create(Effect.Base,{initialize:function(a){this.effects=a||[];this.start(arguments[1]);},update:function(a){this.effects.invoke("render",a);},finish:function(a){this.effects.each(function(b){b.render(1);b.cancel();b.event("beforeFinish");if(b.finish){b.finish(a);}b.event("afterFinish");});}});Effect.Tween=Class.create(Effect.Base,{initialize:function(e,b,c){e=Object.isString(e)?$(e):e;var f=$A(arguments),d=f.last(),a=f.length==5?f[3]:null;this.method=Object.isFunction(d)?d.bind(e):Object.isFunction(e[d])?e[d].bind(e):function(g){e[d]=g;};this.start(Object.extend({from:b,to:c},a||{}));},update:function(a){this.method(a);}});Effect.Event=Class.create(Effect.Base,{initialize:function(){this.start(Object.extend({duration:0},arguments[0]||{}));},update:Prototype.emptyFunction});Effect.Opacity=Class.create(Effect.Base,{initialize:function(b){this.element=$(b);if(!this.element){throw (Effect._elementDoesNotExistError);}if(Prototype.Browser.IE&&(!this.element.currentStyle.hasLayout)){this.element.setStyle({zoom:1});}var a=Object.extend({from:this.element.getOpacity()||0,to:1},arguments[1]||{});this.start(a);},update:function(a){this.element.setOpacity(a);}});Effect.Move=Class.create(Effect.Base,{initialize:function(b){this.element=$(b);if(!this.element){throw (Effect._elementDoesNotExistError);}var a=Object.extend({x:0,y:0,mode:"relative"},arguments[1]||{});this.start(a);},setup:function(){this.element.makePositioned();this.originalLeft=parseFloat(this.element.getStyle("left")||"0");this.originalTop=parseFloat(this.element.getStyle("top")||"0");if(this.options.mode=="absolute"){this.options.x=this.options.x-this.originalLeft;this.options.y=this.options.y-this.originalTop;}},update:function(a){this.element.setStyle({left:(this.options.x*a+this.originalLeft).round()+"px",top:(this.options.y*a+this.originalTop).round()+"px"});}});Effect.MoveBy=function(c,a,b){return new Effect.Move(c,Object.extend({x:b,y:a},arguments[3]||{}));};Effect.Scale=Class.create(Effect.Base,{initialize:function(c,b){this.element=$(c);if(!this.element){throw (Effect._elementDoesNotExistError);}var a=Object.extend({scaleX:true,scaleY:true,scaleContent:true,scaleFromCenter:false,scaleMode:"box",scaleFrom:100,scaleTo:b},arguments[2]||{});this.start(a);},setup:function(){this.restoreAfterFinish=this.options.restoreAfterFinish||false;this.elementPositioning=this.element.getStyle("position");this.originalStyle={};["top","left","width","height","fontSize"].each(function(b){this.originalStyle[b]=this.element.style[b];}.bind(this));this.originalTop=this.element.offsetTop;this.originalLeft=this.element.offsetLeft;var a=this.element.getStyle("font-size")||"100%";["em","px","%","pt"].each(function(b){if(a.indexOf(b)>0){this.fontSize=parseFloat(a);this.fontSizeType=b;}}.bind(this));this.factor=(this.options.scaleTo-this.options.scaleFrom)/100;this.dims=null;if(this.options.scaleMode=="box"){this.dims=[this.element.offsetHeight,this.element.offsetWidth];}if(/^content/.test(this.options.scaleMode)){this.dims=[this.element.scrollHeight,this.element.scrollWidth];}if(!this.dims){this.dims=[this.options.scaleMode.originalHeight,this.options.scaleMode.originalWidth];}},update:function(a){var b=(this.options.scaleFrom/100)+(this.factor*a);if(this.options.scaleContent&&this.fontSize){this.element.setStyle({fontSize:this.fontSize*b+this.fontSizeType});
}this.setDimensions(this.dims[0]*b,this.dims[1]*b);},finish:function(a){if(this.restoreAfterFinish){this.element.setStyle(this.originalStyle);}},setDimensions:function(a,c){var b={};if(this.options.scaleX){b.width=c.round()+"px";}if(this.options.scaleY){b.height=a.round()+"px";}if(this.options.scaleFromCenter){var d=(a-this.dims[0])/2;var e=(c-this.dims[1])/2;if(this.elementPositioning=="absolute"){if(this.options.scaleY){b.top=this.originalTop-d+"px";}if(this.options.scaleX){b.left=this.originalLeft-e+"px";}}else{if(this.options.scaleY){b.top=-d+"px";}if(this.options.scaleX){b.left=-e+"px";}}}this.element.setStyle(b);}});Effect.Highlight=Class.create(Effect.Base,{initialize:function(b){this.element=$(b);if(!this.element){throw (Effect._elementDoesNotExistError);}var a=Object.extend({startcolor:"#ffff99"},arguments[1]||{});this.start(a);},setup:function(){if(this.element.getStyle("display")=="none"){this.cancel();return;}this.oldStyle={};if(!this.options.keepBackgroundImage){this.oldStyle.backgroundImage=this.element.getStyle("background-image");this.element.setStyle({backgroundImage:"none"});}if(!this.options.endcolor){this.options.endcolor=this.element.getStyle("background-color").parseColor("#ffffff");}if(!this.options.restorecolor){this.options.restorecolor=this.element.getStyle("background-color");}this._base=$R(0,2).map(function(a){return parseInt(this.options.startcolor.slice(a*2+1,a*2+3),16);}.bind(this));this._delta=$R(0,2).map(function(a){return parseInt(this.options.endcolor.slice(a*2+1,a*2+3),16)-this._base[a];}.bind(this));},update:function(a){this.element.setStyle({backgroundColor:$R(0,2).inject("#",function(d,c,b){return d+((this._base[b]+(this._delta[b]*a)).round().toColorPart());}.bind(this))});},finish:function(){this.element.setStyle(Object.extend(this.oldStyle,{backgroundColor:this.options.restorecolor}));}});Effect.ScrollTo=function(c){var d=arguments[1]||{},a=document.viewport.getScrollOffsets(),b=$(c).cumulativeOffset();if(d.offset){b[1]+=d.offset;}return new Effect.Tween(null,a.top,b[1],d,function(e){scrollTo(a.left,e.round());});};Effect.Fade=function(b){b=$(b);var a=b.getInlineOpacity();var c=Object.extend({from:b.getOpacity()||1,to:0,afterFinishInternal:function(d){if(d.options.to!=0){return;}d.element.hide().setStyle({opacity:a});}},arguments[1]||{});return new Effect.Opacity(b,c);};Effect.Appear=function(b){b=$(b);var a=Object.extend({from:(b.getStyle("display")=="none"?0:b.getOpacity()||0),to:1,afterFinishInternal:function(c){c.element.forceRerendering();},beforeSetup:function(c){c.element.setOpacity(c.options.from).show();}},arguments[1]||{});return new Effect.Opacity(b,a);};Effect.Puff=function(b){b=$(b);var a={opacity:b.getInlineOpacity(),position:b.getStyle("position"),top:b.style.top,left:b.style.left,width:b.style.width,height:b.style.height};return new Effect.Parallel([new Effect.Scale(b,200,{sync:true,scaleFromCenter:true,scaleContent:true,restoreAfterFinish:true}),new Effect.Opacity(b,{sync:true,to:0})],Object.extend({duration:1,beforeSetupInternal:function(c){Position.absolutize(c.effects[0].element);},afterFinishInternal:function(c){c.effects[0].element.hide().setStyle(a);}},arguments[1]||{}));};Effect.BlindUp=function(a){a=$(a);a.makeClipping();return new Effect.Scale(a,0,Object.extend({scaleContent:false,scaleX:false,restoreAfterFinish:true,afterFinishInternal:function(b){b.element.hide().undoClipping();}},arguments[1]||{}));};Effect.BlindDown=function(b){b=$(b);var a=b.getDimensions();return new Effect.Scale(b,100,Object.extend({scaleContent:false,scaleX:false,scaleFrom:0,scaleMode:{originalHeight:a.height,originalWidth:a.width},restoreAfterFinish:true,afterSetup:function(c){c.element.makeClipping().setStyle({height:"0px"}).show();},afterFinishInternal:function(c){c.element.undoClipping();}},arguments[1]||{}));};Effect.SwitchOff=function(b){b=$(b);var a=b.getInlineOpacity();return new Effect.Appear(b,Object.extend({duration:0.4,from:0,transition:Effect.Transitions.flicker,afterFinishInternal:function(c){new Effect.Scale(c.element,1,{duration:0.3,scaleFromCenter:true,scaleX:false,scaleContent:false,restoreAfterFinish:true,beforeSetup:function(d){d.element.makePositioned().makeClipping();},afterFinishInternal:function(d){d.element.hide().undoClipping().undoPositioned().setStyle({opacity:a});}});}},arguments[1]||{}));};Effect.DropOut=function(b){b=$(b);var a={top:b.getStyle("top"),left:b.getStyle("left"),opacity:b.getInlineOpacity()};return new Effect.Parallel([new Effect.Move(b,{x:0,y:100,sync:true}),new Effect.Opacity(b,{sync:true,to:0})],Object.extend({duration:0.5,beforeSetup:function(c){c.effects[0].element.makePositioned();},afterFinishInternal:function(c){c.effects[0].element.hide().undoPositioned().setStyle(a);}},arguments[1]||{}));};Effect.Shake=function(c){c=$(c);var e=Object.extend({distance:20,duration:0.5},arguments[1]||{});var b=parseFloat(e.distance);var d=parseFloat(e.duration)/10;var a={top:c.getStyle("top"),left:c.getStyle("left")};return new Effect.Move(c,{x:b,y:0,duration:d,afterFinishInternal:function(f){new Effect.Move(f.element,{x:-b*2,y:0,duration:d*2,afterFinishInternal:function(g){new Effect.Move(g.element,{x:b*2,y:0,duration:d*2,afterFinishInternal:function(h){new Effect.Move(h.element,{x:-b*2,y:0,duration:d*2,afterFinishInternal:function(k){new Effect.Move(k.element,{x:b*2,y:0,duration:d*2,afterFinishInternal:function(l){new Effect.Move(l.element,{x:-b,y:0,duration:d,afterFinishInternal:function(m){m.element.undoPositioned().setStyle(a);}});}});}});}});}});}});};Effect.SlideDown=function(b){b=$(b).cleanWhitespace();var a=b.down().getStyle("bottom");var c=b.getDimensions();return new Effect.Scale(b,100,Object.extend({scaleContent:false,scaleX:false,scaleFrom:window.opera?0:1,scaleMode:{originalHeight:c.height,originalWidth:c.width},restoreAfterFinish:true,afterSetup:function(d){d.element.makePositioned();d.element.down().makePositioned();if(window.opera){d.element.setStyle({top:""});}d.element.makeClipping().setStyle({height:"0px"}).show();},afterUpdateInternal:function(d){d.element.down().setStyle({bottom:(d.dims[0]-d.element.clientHeight)+"px"});},afterFinishInternal:function(d){d.element.undoClipping().undoPositioned();d.element.down().undoPositioned().setStyle({bottom:a});}},arguments[1]||{}));};Effect.SlideUp=function(b){b=$(b).cleanWhitespace();var a=b.down().getStyle("bottom");var c=b.getDimensions();return new Effect.Scale(b,window.opera?0:1,Object.extend({scaleContent:false,scaleX:false,scaleMode:"box",scaleFrom:100,scaleMode:{originalHeight:c.height,originalWidth:c.width},restoreAfterFinish:true,afterSetup:function(d){d.element.makePositioned();d.element.down().makePositioned();if(window.opera){d.element.setStyle({top:""});}d.element.makeClipping().show();},afterUpdateInternal:function(d){d.element.down().setStyle({bottom:(d.dims[0]-d.element.clientHeight)+"px"});},afterFinishInternal:function(d){d.element.hide().undoClipping().undoPositioned();d.element.down().undoPositioned().setStyle({bottom:a});}},arguments[1]||{}));};Effect.Squish=function(a){return new Effect.Scale(a,window.opera?1:0,{restoreAfterFinish:true,beforeSetup:function(b){b.element.makeClipping();},afterFinishInternal:function(b){b.element.hide().undoClipping();}});};Effect.Grow=function(g){g=$(g);var h=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.full},arguments[1]||{});var a={top:g.style.top,left:g.style.left,height:g.style.height,width:g.style.width,opacity:g.getInlineOpacity()};var c=g.getDimensions();var b,d;var e,f;switch(h.direction){case"top-left":b=d=e=f=0;break;case"top-right":b=c.width;d=f=0;e=-c.width;break;case"bottom-left":b=e=0;d=c.height;f=-c.height;break;case"bottom-right":b=c.width;d=c.height;e=-c.width;f=-c.height;break;case"center":b=c.width/2;d=c.height/2;e=-c.width/2;f=-c.height/2;break;}return new Effect.Move(g,{x:b,y:d,duration:0.01,beforeSetup:function(k){k.element.hide().makeClipping().makePositioned();
},afterFinishInternal:function(k){new Effect.Parallel([new Effect.Opacity(k.element,{sync:true,to:1,from:0,transition:h.opacityTransition}),new Effect.Move(k.element,{x:e,y:f,sync:true,transition:h.moveTransition}),new Effect.Scale(k.element,100,{scaleMode:{originalHeight:c.height,originalWidth:c.width},sync:true,scaleFrom:window.opera?1:0,transition:h.scaleTransition,restoreAfterFinish:true})],Object.extend({beforeSetup:function(l){l.effects[0].element.setStyle({height:"0px"}).show();},afterFinishInternal:function(l){l.effects[0].element.undoClipping().undoPositioned().setStyle(a);}},h));}});};Effect.Shrink=function(e){e=$(e);var f=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.none},arguments[1]||{});var a={top:e.style.top,left:e.style.left,height:e.style.height,width:e.style.width,opacity:e.getInlineOpacity()};var b=e.getDimensions();var c,d;switch(f.direction){case"top-left":c=d=0;break;case"top-right":c=b.width;d=0;break;case"bottom-left":c=0;d=b.height;break;case"bottom-right":c=b.width;d=b.height;break;case"center":c=b.width/2;d=b.height/2;break;}return new Effect.Parallel([new Effect.Opacity(e,{sync:true,to:0,from:1,transition:f.opacityTransition}),new Effect.Scale(e,window.opera?1:0,{sync:true,transition:f.scaleTransition,restoreAfterFinish:true}),new Effect.Move(e,{x:c,y:d,sync:true,transition:f.moveTransition})],Object.extend({beforeStartInternal:function(g){g.effects[0].element.makePositioned().makeClipping();},afterFinishInternal:function(g){g.effects[0].element.hide().undoClipping().undoPositioned().setStyle(a);}},f));};Effect.Pulsate=function(d){d=$(d);var e=arguments[1]||{},a=d.getInlineOpacity(),b=e.transition||Effect.Transitions.linear,c=function(f){return 1-b((-Math.cos((f*(e.pulses||5)*2)*Math.PI)/2)+0.5);};return new Effect.Opacity(d,Object.extend(Object.extend({duration:2,from:0,afterFinishInternal:function(f){f.element.setStyle({opacity:a});}},e),{transition:c}));};Effect.Fold=function(b){b=$(b);var a={top:b.style.top,left:b.style.left,width:b.style.width,height:b.style.height};b.makeClipping();return new Effect.Scale(b,5,Object.extend({scaleContent:false,scaleX:false,afterFinishInternal:function(c){new Effect.Scale(b,1,{scaleContent:false,scaleY:false,afterFinishInternal:function(d){d.element.hide().undoClipping().setStyle(a);}});}},arguments[1]||{}));};Effect.Morph=Class.create(Effect.Base,{initialize:function(b){this.element=$(b);if(!this.element){throw (Effect._elementDoesNotExistError);}var a=Object.extend({style:{}},arguments[1]||{});if(!Object.isString(a.style)){this.style=$H(a.style);}else{if(a.style.include(":")){this.style=a.style.parseStyle();}else{this.element.addClassName(a.style);this.style=$H(this.element.getStyles());this.element.removeClassName(a.style);var c=this.element.getStyles();this.style=this.style.reject(function(d){return d.value==c[d.key];});a.afterFinishInternal=function(d){d.element.addClassName(d.options.style);d.transforms.each(function(e){d.element.style[e.style]="";});};}}this.start(a);},setup:function(){function a(b){if(!b||["rgba(0, 0, 0, 0)","transparent"].include(b)){b="#ffffff";}b=b.parseColor();return $R(0,2).map(function(c){return parseInt(b.slice(c*2+1,c*2+3),16);});}this.transforms=this.style.map(function(b){var c=b[0],d=b[1],e=null;if(d.parseColor("#zzzzzz")!="#zzzzzz"){d=d.parseColor();e="color";}else{if(c=="opacity"){d=parseFloat(d);if(Prototype.Browser.IE&&(!this.element.currentStyle.hasLayout)){this.element.setStyle({zoom:1});}}else{if(Element.CSS_LENGTH.test(d)){var f=d.match(/^([\+\-]?[0-9\.]+)(.*)$/);d=parseFloat(f[1]);e=(f.length==3)?f[2]:null;}}}var g=this.element.getStyle(c);return{style:c.camelize(),originalValue:e=="color"?a(g):parseFloat(g||0),targetValue:e=="color"?a(d):d,unit:e};}.bind(this)).reject(function(b){return((b.originalValue==b.targetValue)||(b.unit!="color"&&(isNaN(b.originalValue)||isNaN(b.targetValue))));});},update:function(a){var b={},d,c=this.transforms.length;while(c--){b[(d=this.transforms[c]).style]=d.unit=="color"?"#"+(Math.round(d.originalValue[0]+(d.targetValue[0]-d.originalValue[0])*a)).toColorPart()+(Math.round(d.originalValue[1]+(d.targetValue[1]-d.originalValue[1])*a)).toColorPart()+(Math.round(d.originalValue[2]+(d.targetValue[2]-d.originalValue[2])*a)).toColorPart():(d.originalValue+(d.targetValue-d.originalValue)*a).toFixed(3)+(d.unit===null?"":d.unit);}this.element.setStyle(b,true);}});Effect.Transform=Class.create({initialize:function(a){this.tracks=[];this.options=arguments[1]||{};this.addTracks(a);},addTracks:function(a){a.each(function(c){c=$H(c);var b=c.values().first();this.tracks.push($H({ids:c.keys().first(),effect:Effect.Morph,options:{style:b}}));}.bind(this));return this;},play:function(){return new Effect.Parallel(this.tracks.map(function(a){var c=a.get("ids"),d=a.get("effect"),e=a.get("options");var b=[$(c)||$$(c)].flatten();return b.map(function(f){return new d(f,Object.extend({sync:true},e));});}).flatten(),this.options);}});Element.CSS_PROPERTIES=$w("backgroundColor backgroundPosition borderBottomColor borderBottomStyle borderBottomWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderSpacing borderTopColor borderTopStyle borderTopWidth bottom clip color fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop markerOffset maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex");Element.CSS_LENGTH=/^(([\+\-]?[0-9\.]+)(em|ex|px|in|cm|mm|pt|pc|\%))|0$/;String.__parseStyleElement=document.createElement("div");String.prototype.parseStyle=function(){var b,a=$H();if(Prototype.Browser.WebKit){b=new Element("div",{style:this}).style;}else{String.__parseStyleElement.innerHTML='<div style="'+this+'"></div>';b=String.__parseStyleElement.childNodes[0].style;}Element.CSS_PROPERTIES.each(function(c){if(b[c]){a.set(c,b[c]);}});if(Prototype.Browser.IE&&this.include("opacity")){a.set("opacity",this.match(/opacity:\s*((?:0|1)?(?:\.\d*)?)/)[1]);}return a;};if(document.defaultView&&document.defaultView.getComputedStyle){Element.getStyles=function(b){var a=document.defaultView.getComputedStyle($(b),null);return Element.CSS_PROPERTIES.inject({},function(d,c){d[c]=a[c];return d;});};}else{Element.getStyles=function(c){c=$(c);var a=c.currentStyle,b;b=Element.CSS_PROPERTIES.inject({},function(e,d){e[d]=a[d];return e;});if(!b.opacity){b.opacity=c.getOpacity();}return b;};}Effect.Methods={morph:function(a,b){a=$(a);new Effect.Morph(a,Object.extend({style:b},arguments[2]||{}));return a;},visualEffect:function(d,b,e){d=$(d);var c=b.dasherize().camelize(),a=c.charAt(0).toUpperCase()+c.substring(1);new Effect[a](d,e);return d;},highlight:function(b,a){b=$(b);new Effect.Highlight(b,a);return b;}};$w("fade appear grow shrink fold blindUp blindDown slideUp slideDown pulsate shake puff squish switchOff dropOut").each(function(a){Effect.Methods[a]=function(b,c){b=$(b);Effect[a.charAt(0).toUpperCase()+a.substring(1)](b,c);return b;};});$w("getInlineOpacity forceRerendering setContentZoom collectTextNodes collectTextNodesIgnoreClass getStyles").each(function(a){Effect.Methods[a]=Element[a];});Element.addMethods(Effect.Methods);if(Object.isUndefined(Effect)){throw ("dragdrop.js requires including script.aculo.us' effects.js library");}var Droppables={drops:[],remove:function(a){this.drops=this.drops.reject(function(b){return b.element==$(a);});},add:function(c){c=$(c);var a=Object.extend({greedy:true,hoverclass:null,tree:false},arguments[1]||{});if(a.containment){a._containers=[];var b=a.containment;if(Object.isArray(b)){b.each(function(d){a._containers.push($(d));});}else{a._containers.push($(b));}}if(a.accept){a.accept=[a.accept].flatten();}Element.makePositioned(c);a.element=c;this.drops.push(a);},findDeepestChild:function(a){deepest=a[0];
for(i=1;i<a.length;++i){if(Element.isParent(a[i].element,deepest.element)){deepest=a[i];}}return deepest;},isContained:function(c,a){var b;if(a.tree){b=c.treeNode;}else{b=c.parentNode;}return a._containers.detect(function(d){return b==d;});},isAffected:function(a,b,c){return((c.element!=b)&&((!c._containers)||this.isContained(b,c))&&((!c.accept)||(Element.classNames(b).detect(function(d){return c.accept.include(d);})))&&Position.within(c.element,a[0],a[1]));},deactivate:function(a){if(a.hoverclass){Element.removeClassName(a.element,a.hoverclass);}this.last_active=null;},activate:function(a){if(a.hoverclass){Element.addClassName(a.element,a.hoverclass);}this.last_active=a;},show:function(a,c){if(!this.drops.length){return;}var d,b=[];this.drops.each(function(e){if(Droppables.isAffected(a,c,e)){b.push(e);}});if(b.length>0){d=Droppables.findDeepestChild(b);}if(this.last_active&&this.last_active!=d){this.deactivate(this.last_active);}if(d){Position.within(d.element,a[0],a[1]);if(d.onHover){d.onHover(c,d.element,Position.overlap(d.overlap,d.element));}if(d!=this.last_active){Droppables.activate(d);}}},fire:function(b,a){if(!this.last_active){return;}Position.prepare();if(this.isAffected([Event.pointerX(b),Event.pointerY(b)],a,this.last_active)){if(this.last_active.onDrop){this.last_active.onDrop(a,this.last_active.element,b);return true;}}},reset:function(){if(this.last_active){this.deactivate(this.last_active);}}};var Draggables={drags:[],observers:[],register:function(a){if(this.drags.length==0){this.eventMouseUp=this.endDrag.bindAsEventListener(this);this.eventMouseMove=this.updateDrag.bindAsEventListener(this);this.eventKeypress=this.keyPress.bindAsEventListener(this);Event.observe(document,"mouseup",this.eventMouseUp);Event.observe(document,"mousemove",this.eventMouseMove);Event.observe(document,"keypress",this.eventKeypress);}this.drags.push(a);},unregister:function(a){this.drags=this.drags.reject(function(b){return b==a;});if(this.drags.length==0){Event.stopObserving(document,"mouseup",this.eventMouseUp);Event.stopObserving(document,"mousemove",this.eventMouseMove);Event.stopObserving(document,"keypress",this.eventKeypress);}},activate:function(a){if(a.options.delay){this._timeout=setTimeout(function(){Draggables._timeout=null;window.focus();Draggables.activeDraggable=a;}.bind(this),a.options.delay);}else{window.focus();this.activeDraggable=a;}},deactivate:function(){this.activeDraggable=null;},updateDrag:function(a){if(!this.activeDraggable){return;}var b=[Event.pointerX(a),Event.pointerY(a)];if(this._lastPointer&&(this._lastPointer.inspect()==b.inspect())){return;}this._lastPointer=b;this.activeDraggable.updateDrag(a,b);},endDrag:function(a){if(this._timeout){clearTimeout(this._timeout);this._timeout=null;}if(!this.activeDraggable){return;}this._lastPointer=null;this.activeDraggable.endDrag(a);this.activeDraggable=null;},keyPress:function(a){if(this.activeDraggable){this.activeDraggable.keyPress(a);}},addObserver:function(a){this.observers.push(a);this._cacheObserverCallbacks();},removeObserver:function(a){this.observers=this.observers.reject(function(b){return b.element==a;});this._cacheObserverCallbacks();},notify:function(c,a,b){if(this[c+"Count"]>0){this.observers.each(function(d){if(d[c]){d[c](c,a,b);}});}if(a.options[c]){a.options[c](a,b);}},_cacheObserverCallbacks:function(){["onStart","onEnd","onDrag"].each(function(a){Draggables[a+"Count"]=Draggables.observers.select(function(b){return b[a];}).length;});}};var Draggable=Class.create({initialize:function(c){var b={handle:false,reverteffect:function(e,f,g){var d=Math.sqrt(Math.abs(f^2)+Math.abs(g^2))*0.02;new Effect.Move(e,{x:-g,y:-f,duration:d,queue:{scope:"_draggable",position:"end"}});},endeffect:function(d){var e=Object.isNumber(d._opacity)?d._opacity:1;new Effect.Opacity(d,{duration:0.2,from:0.7,to:e,queue:{scope:"_draggable",position:"end"},afterFinish:function(){Draggable._dragging[d]=false;}});},zindex:1000,revert:false,quiet:false,scroll:false,scrollSensitivity:20,scrollSpeed:15,snap:false,delay:0};if(!arguments[1]||Object.isUndefined(arguments[1].endeffect)){Object.extend(b,{starteffect:function(d){d._opacity=Element.getOpacity(d);Draggable._dragging[d]=true;new Effect.Opacity(d,{duration:0.2,from:d._opacity,to:0.7});}});}var a=Object.extend(b,arguments[1]||{});this.element=$(c);if(a.handle&&Object.isString(a.handle)){this.handle=this.element.down("."+a.handle,0);}if(!this.handle){this.handle=$(a.handle);}if(!this.handle){this.handle=this.element;}if(a.scroll&&!a.scroll.scrollTo&&!a.scroll.outerHTML){a.scroll=$(a.scroll);this._isScrollChild=Element.childOf(this.element,a.scroll);}Element.makePositioned(this.element);this.options=a;this.dragging=false;this.eventMouseDown=this.initDrag.bindAsEventListener(this);Event.observe(this.handle,"mousedown",this.eventMouseDown);Draggables.register(this);},destroy:function(){Event.stopObserving(this.handle,"mousedown",this.eventMouseDown);Draggables.unregister(this);},currentDelta:function(){return([parseInt(Element.getStyle(this.element,"left")||"0"),parseInt(Element.getStyle(this.element,"top")||"0")]);},initDrag:function(a){if(!Object.isUndefined(Draggable._dragging[this.element])&&Draggable._dragging[this.element]){return;}if(Event.isLeftClick(a)){var c=Event.element(a);if((tag_name=c.tagName.toUpperCase())&&(tag_name=="INPUT"||tag_name=="SELECT"||tag_name=="OPTION"||tag_name=="BUTTON"||tag_name=="TEXTAREA")){return;}var d=[Event.pointerX(a),Event.pointerY(a)];var b=Position.cumulativeOffset(this.element);this.offset=[0,1].map(function(e){return(d[e]-b[e]);});Draggables.activate(this);Event.stop(a);}},startDrag:function(b){this.dragging=true;if(!this.delta){this.delta=this.currentDelta();}if(this.options.zindex){this.originalZ=parseInt(Element.getStyle(this.element,"z-index")||0);this.element.style.zIndex=this.options.zindex;}if(this.options.ghosting){this._clone=this.element.cloneNode(true);this._originallyAbsolute=(this.element.getStyle("position")=="absolute");if(!this._originallyAbsolute){Position.absolutize(this.element);}this.element.parentNode.insertBefore(this._clone,this.element);}if(this.options.scroll){if(this.options.scroll==window){var a=this._getWindowScroll(this.options.scroll);this.originalScrollLeft=a.left;this.originalScrollTop=a.top;}else{this.originalScrollLeft=this.options.scroll.scrollLeft;this.originalScrollTop=this.options.scroll.scrollTop;}}Draggables.notify("onStart",this,b);if(this.options.starteffect){this.options.starteffect(this.element);}},updateDrag:function(event,pointer){if(!this.dragging){this.startDrag(event);}if(!this.options.quiet){Position.prepare();Droppables.show(pointer,this.element);}Draggables.notify("onDrag",this,event);this.draw(pointer);if(this.options.change){this.options.change(this);}if(this.options.scroll){this.stopScrolling();var p;if(this.options.scroll==window){with(this._getWindowScroll(this.options.scroll)){p=[left,top,left+width,top+height];}}else{p=Position.page(this.options.scroll);p[0]+=this.options.scroll.scrollLeft+Position.deltaX;p[1]+=this.options.scroll.scrollTop+Position.deltaY;p.push(p[0]+this.options.scroll.offsetWidth);p.push(p[1]+this.options.scroll.offsetHeight);}var speed=[0,0];if(pointer[0]<(p[0]+this.options.scrollSensitivity)){speed[0]=pointer[0]-(p[0]+this.options.scrollSensitivity);}if(pointer[1]<(p[1]+this.options.scrollSensitivity)){speed[1]=pointer[1]-(p[1]+this.options.scrollSensitivity);}if(pointer[0]>(p[2]-this.options.scrollSensitivity)){speed[0]=pointer[0]-(p[2]-this.options.scrollSensitivity);}if(pointer[1]>(p[3]-this.options.scrollSensitivity)){speed[1]=pointer[1]-(p[3]-this.options.scrollSensitivity);}this.startScrolling(speed);}if(Prototype.Browser.WebKit){window.scrollBy(0,0);}Event.stop(event);},finishDrag:function(f,c){this.dragging=false;if(this.options.quiet){Position.prepare();var d=[Event.pointerX(f),Event.pointerY(f)];Droppables.show(d,this.element);}if(this.options.ghosting){if(!this._originallyAbsolute){Position.relativize(this.element);}delete this._originallyAbsolute;
Element.remove(this._clone);this._clone=null;}var b=false;if(c){b=Droppables.fire(f,this.element);if(!b){b=false;}}if(b&&this.options.onDropped){this.options.onDropped(this.element);}Draggables.notify("onEnd",this,f);var a=this.options.revert;if(a&&Object.isFunction(a)){a=a(this.element);}var e=this.currentDelta();if(a&&this.options.reverteffect){if(b==0||a!="failure"){this.options.reverteffect(this.element,e[1]-this.delta[1],e[0]-this.delta[0]);}}else{this.delta=e;}if(this.options.zindex){this.element.style.zIndex=this.originalZ;}if(this.options.endeffect){this.options.endeffect(this.element);}Draggables.deactivate(this);Droppables.reset();},keyPress:function(a){if(a.keyCode!=Event.KEY_ESC){return;}this.finishDrag(a,false);Event.stop(a);},endDrag:function(a){if(!this.dragging){return;}this.stopScrolling();this.finishDrag(a,true);Event.stop(a);},draw:function(a){var b=Position.cumulativeOffset(this.element);if(this.options.ghosting){var e=Position.realOffset(this.element);b[0]+=e[0]-Position.deltaX;b[1]+=e[1]-Position.deltaY;}var c=this.currentDelta();b[0]-=c[0];b[1]-=c[1];if(this.options.scroll&&(this.options.scroll!=window&&this._isScrollChild)){b[0]-=this.options.scroll.scrollLeft-this.originalScrollLeft;b[1]-=this.options.scroll.scrollTop-this.originalScrollTop;}var d=[0,1].map(function(g){return(a[g]-b[g]-this.offset[g]);}.bind(this));if(this.options.snap){if(Object.isFunction(this.options.snap)){d=this.options.snap(d[0],d[1],this);}else{if(Object.isArray(this.options.snap)){d=d.map(function(h,g){return(h/this.options.snap[g]).round()*this.options.snap[g];}.bind(this));}else{d=d.map(function(g){return(g/this.options.snap).round()*this.options.snap;}.bind(this));}}}var f=this.element.style;if((!this.options.constraint)||(this.options.constraint=="horizontal")){f.left=d[0]+"px";}if((!this.options.constraint)||(this.options.constraint=="vertical")){f.top=d[1]+"px";}if(f.visibility=="hidden"){f.visibility="";}},stopScrolling:function(){if(this.scrollInterval){clearInterval(this.scrollInterval);this.scrollInterval=null;Draggables._lastScrollPointer=null;}},startScrolling:function(a){if(!(a[0]||a[1])){return;}this.scrollSpeed=[a[0]*this.options.scrollSpeed,a[1]*this.options.scrollSpeed];this.lastScrolled=new Date();this.scrollInterval=setInterval(this.scroll.bind(this),10);},scroll:function(){var current=new Date();var delta=current-this.lastScrolled;this.lastScrolled=current;if(this.options.scroll==window){with(this._getWindowScroll(this.options.scroll)){if(this.scrollSpeed[0]||this.scrollSpeed[1]){var d=delta/1000;this.options.scroll.scrollTo(left+d*this.scrollSpeed[0],top+d*this.scrollSpeed[1]);}}}else{this.options.scroll.scrollLeft+=this.scrollSpeed[0]*delta/1000;this.options.scroll.scrollTop+=this.scrollSpeed[1]*delta/1000;}Position.prepare();Droppables.show(Draggables._lastPointer,this.element);Draggables.notify("onDrag",this);if(this._isScrollChild){Draggables._lastScrollPointer=Draggables._lastScrollPointer||$A(Draggables._lastPointer);Draggables._lastScrollPointer[0]+=this.scrollSpeed[0]*delta/1000;Draggables._lastScrollPointer[1]+=this.scrollSpeed[1]*delta/1000;if(Draggables._lastScrollPointer[0]<0){Draggables._lastScrollPointer[0]=0;}if(Draggables._lastScrollPointer[1]<0){Draggables._lastScrollPointer[1]=0;}this.draw(Draggables._lastScrollPointer);}if(this.options.change){this.options.change(this);}},_getWindowScroll:function(w){var T,L,W,H;with(w.document){if(w.document.documentElement&&documentElement.scrollTop){T=documentElement.scrollTop;L=documentElement.scrollLeft;}else{if(w.document.body){T=body.scrollTop;L=body.scrollLeft;}}if(w.innerWidth){W=w.innerWidth;H=w.innerHeight;}else{if(w.document.documentElement&&documentElement.clientWidth){W=documentElement.clientWidth;H=documentElement.clientHeight;}else{W=body.offsetWidth;H=body.offsetHeight;}}}return{top:T,left:L,width:W,height:H};}});Draggable._dragging={};var SortableObserver=Class.create({initialize:function(b,a){this.element=$(b);this.observer=a;this.lastValue=Sortable.serialize(this.element);},onStart:function(){this.lastValue=Sortable.serialize(this.element);},onEnd:function(){Sortable.unmark();if(this.lastValue!=Sortable.serialize(this.element)){this.observer(this.element);}}});var Sortable={SERIALIZE_RULE:/^[^_\-](?:[A-Za-z0-9\-\_]*)[_](.*)$/,sortables:{},_findRootElement:function(a){while(a.tagName.toUpperCase()!="BODY"){if(a.id&&Sortable.sortables[a.id]){return a;}a=a.parentNode;}},options:function(a){a=Sortable._findRootElement($(a));if(!a){return;}return Sortable.sortables[a.id];},destroy:function(a){a=$(a);var b=Sortable.sortables[a.id];if(b){Draggables.removeObserver(b.element);b.droppables.each(function(c){Droppables.remove(c);});b.draggables.invoke("destroy");delete Sortable.sortables[b.element.id];}},create:function(d){d=$(d);var e=Object.extend({element:d,tag:"li",dropOnEmpty:false,tree:false,treeTag:"ul",overlap:"vertical",constraint:"vertical",containment:d,handle:false,only:false,delay:0,hoverclass:null,ghosting:false,quiet:false,scroll:false,scrollSensitivity:20,scrollSpeed:15,format:this.SERIALIZE_RULE,elements:false,handles:false,onChange:Prototype.emptyFunction,onUpdate:Prototype.emptyFunction},arguments[1]||{});this.destroy(d);var a={revert:true,quiet:e.quiet,scroll:e.scroll,scrollSpeed:e.scrollSpeed,scrollSensitivity:e.scrollSensitivity,delay:e.delay,ghosting:e.ghosting,constraint:e.constraint,handle:e.handle};if(e.starteffect){a.starteffect=e.starteffect;}if(e.reverteffect){a.reverteffect=e.reverteffect;}else{if(e.ghosting){a.reverteffect=function(f){f.style.top=0;f.style.left=0;};}}if(e.endeffect){a.endeffect=e.endeffect;}if(e.zindex){a.zindex=e.zindex;}var c={overlap:e.overlap,containment:e.containment,tree:e.tree,hoverclass:e.hoverclass,onHover:Sortable.onHover};var b={onHover:Sortable.onEmptyHover,overlap:e.overlap,containment:e.containment,hoverclass:e.hoverclass};Element.cleanWhitespace(d);e.draggables=[];e.droppables=[];if(e.dropOnEmpty||e.tree){Droppables.add(d,b);e.droppables.push(d);}(e.elements||this.findElements(d,e)||[]).each(function(f,h){var g=e.handles?$(e.handles[h]):(e.handle?$(f).select("."+e.handle)[0]:f);e.draggables.push(new Draggable(f,Object.extend(a,{handle:g})));Droppables.add(f,c);if(e.tree){f.treeNode=d;}e.droppables.push(f);});if(e.tree){(Sortable.findTreeElements(d,e)||[]).each(function(f){Droppables.add(f,b);f.treeNode=d;e.droppables.push(f);});}this.sortables[d.id]=e;Draggables.addObserver(new SortableObserver(d,e.onUpdate));},findElements:function(b,a){return Element.findChildren(b,a.only,a.tree?true:false,a.tag);},findTreeElements:function(b,a){return Element.findChildren(b,a.only,a.tree?true:false,a.treeTag);},onHover:function(b,c,a){if(Element.isParent(c,b)){return;}if(a>0.33&&a<0.66&&Sortable.options(c).tree){return;}else{if(a>0.5){Sortable.mark(c,"before");if(c.previousSibling!=b){var e=b.parentNode;b.style.visibility="hidden";c.parentNode.insertBefore(b,c);if(c.parentNode!=e){Sortable.options(e).onChange(b);}Sortable.options(c.parentNode).onChange(b);}}else{Sortable.mark(c,"after");var d=c.nextSibling||null;if(d!=b){var e=b.parentNode;b.style.visibility="hidden";c.parentNode.insertBefore(b,d);if(c.parentNode!=e){Sortable.options(e).onChange(b);}Sortable.options(c.parentNode).onChange(b);}}}},onEmptyHover:function(k,g,f){var e=k.parentNode;var d=Sortable.options(g);if(!Element.isParent(g,k)){var h;var b=Sortable.findElements(g,{tag:d.tag,only:d.only});var c=null;if(b){var a=Element.offsetSize(g,d.overlap)*(1-f);for(h=0;h<b.length;h+=1){if(a-Element.offsetSize(b[h],d.overlap)>=0){a-=Element.offsetSize(b[h],d.overlap);}else{if(a-(Element.offsetSize(b[h],d.overlap)/2)>=0){c=h+1<b.length?b[h+1]:null;break;}else{c=b[h];break;}}}}g.insertBefore(k,c);Sortable.options(e).onChange(k);d.onChange(k);}},unmark:function(){if(Sortable._marker){Sortable._marker.hide();}},mark:function(d,a){var b=Sortable.options(d.parentNode);if(b&&!b.ghosting){return;}if(!Sortable._marker){Sortable._marker=($("dropmarker")||Element.extend(document.createElement("DIV"))).hide().addClassName("dropmarker").setStyle({position:"absolute"});
document.getElementsByTagName("body").item(0).appendChild(Sortable._marker);}var c=Position.cumulativeOffset(d);Sortable._marker.setStyle({left:c[0]+"px",top:c[1]+"px"});if(a=="after"){if(b.overlap=="horizontal"){Sortable._marker.setStyle({left:(c[0]+d.clientWidth)+"px"});}else{Sortable._marker.setStyle({top:(c[1]+d.clientHeight)+"px"});}}Sortable._marker.show();},_tree:function(d,g,c){var e=Sortable.findElements(d,g)||[];for(var f=0;f<e.length;++f){var a=e[f].id.match(g.format);if(!a){continue;}var b={id:encodeURIComponent(a?a[1]:null),element:d,parent:c,children:[],position:c.children.length,container:$(e[f]).down(g.treeTag)};if(b.container){this._tree(b.container,g,b);}c.children.push(b);}return c;},tree:function(b){b=$(b);var c=this.options(b);var d=Object.extend({tag:c.tag,treeTag:c.treeTag,only:c.only,name:b.id,format:c.format},arguments[1]||{});var a={id:null,parent:null,children:[],container:b,position:0};return Sortable._tree(b,d,a);},_constructIndex:function(b){var a="";do{if(b.id){a="["+b.position+"]"+a;}}while((b=b.parent)!=null);return a;},sequence:function(b){b=$(b);var a=Object.extend(this.options(b),arguments[1]||{});return $(this.findElements(b,a)||[]).map(function(c){return c.id.match(a.format)?c.id.match(a.format)[1]:"";});},setSequence:function(d,c){d=$(d);var a=Object.extend(this.options(d),arguments[2]||{});var b={};this.findElements(d,a).each(function(e){if(e.id.match(a.format)){b[e.id.match(a.format)[1]]=[e,e.parentNode];}e.parentNode.removeChild(e);});c.each(function(f){var e=b[f];if(e){e[1].appendChild(e[0]);delete b[f];}});},serialize:function(b){b=$(b);var c=Object.extend(Sortable.options(b),arguments[1]||{});var a=encodeURIComponent((arguments[1]&&arguments[1].name)?arguments[1].name:b.id);if(c.tree){return Sortable.tree(b,arguments[1]).children.map(function(d){return[a+Sortable._constructIndex(d)+"[id]="+encodeURIComponent(d.id)].concat(d.children.map(arguments.callee));}).flatten().join("&");}else{return Sortable.sequence(b,arguments[1]).map(function(d){return a+"[]="+encodeURIComponent(d);}).join("&");}}};Element.isParent=function(b,a){if(!b.parentNode||b==a){return false;}if(b.parentNode==a){return true;}return Element.isParent(b.parentNode,a);};Element.findChildren=function(c,e,a,d){if(!c.hasChildNodes()){return null;}d=d.toUpperCase();if(e){e=[e].flatten();}var b=[];$A(c.childNodes).each(function(f){if(f.tagName&&f.tagName.toUpperCase()==d&&(!e||(Element.classNames(f).detect(function(h){return e.include(h);})))){b.push(f);}if(a){var g=Element.findChildren(f,e,a,d);if(g){b.push(g);}}});return(b.length>0?b.flatten():[]);};Element.offsetSize=function(a,b){return a["offset"+((b=="vertical"||b=="height")?"Height":"Width")];};if(typeof Effect=="undefined"){throw ("controls.js requires including script.aculo.us' effects.js library");}var Autocompleter={};Autocompleter.Base=Class.create({baseInitialize:function(c,b,a){c=$(c);this.element=c;this.update=$(b);this.hasFocus=false;this.changed=false;this.active=false;this.index=0;this.entryCount=0;this.oldElementValue=this.element.value;if(this.setOptions){this.setOptions(a);}else{this.options=a||{};}this.options.paramName=this.options.paramName||this.element.name;this.options.tokens=this.options.tokens||[];this.options.frequency=this.options.frequency||0.4;this.options.minChars=this.options.minChars||1;this.options.onShow=this.options.onShow||function(e,d){if(!d.style.position||d.style.position=="absolute"){d.style.position="absolute";Position.clone(e,d,{setHeight:false,offsetTop:e.offsetHeight});}Effect.Appear(d,{duration:0.15});};this.options.onHide=this.options.onHide||function(e,d){new Effect.Fade(d,{duration:0.15});};if(typeof(this.options.tokens)=="string"){this.options.tokens=new Array(this.options.tokens);}if(!this.options.tokens.include("\n")){this.options.tokens.push("\n");}this.observer=null;this.element.setAttribute("autocomplete","off");Element.hide(this.update);Event.observe(this.element,"blur",this.onBlur.bindAsEventListener(this));Event.observe(this.element,"keydown",this.onKeyPress.bindAsEventListener(this));},show:function(){if(Element.getStyle(this.update,"display")=="none"){this.options.onShow(this.element,this.update);}if(!this.iefix&&(Prototype.Browser.IE)&&(Element.getStyle(this.update,"position")=="absolute")){new Insertion.After(this.update,'<iframe id="'+this.update.id+'_iefix" style="display:none;position:absolute;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0);" src="javascript:false;" frameborder="0" scrolling="no"></iframe>');this.iefix=$(this.update.id+"_iefix");}if(this.iefix){setTimeout(this.fixIEOverlapping.bind(this),50);}},fixIEOverlapping:function(){Position.clone(this.update,this.iefix,{setTop:(!this.update.style.height)});this.iefix.style.zIndex=1;this.update.style.zIndex=2;Element.show(this.iefix);},hide:function(){this.stopIndicator();if(Element.getStyle(this.update,"display")!="none"){this.options.onHide(this.element,this.update);}if(this.iefix){Element.hide(this.iefix);}},startIndicator:function(){if(this.options.indicator){Element.show(this.options.indicator);}},stopIndicator:function(){if(this.options.indicator){Element.hide(this.options.indicator);}},onKeyPress:function(a){if(this.active){switch(a.keyCode){case Event.KEY_TAB:case Event.KEY_RETURN:this.selectEntry();Event.stop(a);case Event.KEY_ESC:this.hide();this.active=false;Event.stop(a);return;case Event.KEY_LEFT:case Event.KEY_RIGHT:return;case Event.KEY_UP:this.markPrevious();this.render();Event.stop(a);return;case Event.KEY_DOWN:this.markNext();this.render();Event.stop(a);return;}}else{if(a.keyCode==Event.KEY_TAB||a.keyCode==Event.KEY_RETURN||(Prototype.Browser.WebKit>0&&a.keyCode==0)){return;}}this.changed=true;this.hasFocus=true;if(this.observer){clearTimeout(this.observer);}this.observer=setTimeout(this.onObserverEvent.bind(this),this.options.frequency*1000);},activate:function(){this.changed=false;this.hasFocus=true;this.getUpdatedChoices();},onHover:function(b){var a=Event.findElement(b,"LI");if(this.index!=a.autocompleteIndex){this.index=a.autocompleteIndex;this.render();}Event.stop(b);},onClick:function(b){var a=Event.findElement(b,"LI");this.index=a.autocompleteIndex;this.selectEntry();this.hide();},onBlur:function(a){setTimeout(this.hide.bind(this),250);this.hasFocus=false;this.active=false;},render:function(){if(this.entryCount>0){for(var a=0;a<this.entryCount;a++){this.index==a?Element.addClassName(this.getEntry(a),"selected"):Element.removeClassName(this.getEntry(a),"selected");}if(this.hasFocus){this.show();this.active=true;}}else{this.active=false;this.hide();}},markPrevious:function(){if(this.index>0){this.index--;}else{this.index=this.entryCount-1;}this.getEntry(this.index).scrollIntoView(true);},markNext:function(){if(this.index<this.entryCount-1){this.index++;}else{this.index=0;}this.getEntry(this.index).scrollIntoView(false);},getEntry:function(a){return this.update.firstChild.childNodes[a];},getCurrentEntry:function(){return this.getEntry(this.index);},selectEntry:function(){this.active=false;this.updateElement(this.getCurrentEntry());},updateElement:function(b){if(this.options.updateElement){this.options.updateElement(b);return;}var d="";if(this.options.select){var a=$(b).select("."+this.options.select)||[];if(a.length>0){d=Element.collectTextNodes(a[0],this.options.select);}}else{d=Element.collectTextNodesIgnoreClass(b,"informal");}var e=this.getTokenBounds();if(e[0]!=-1){var c=this.element.value.substr(0,e[0]);var f=this.element.value.substr(e[0]).match(/^\s+/);if(f){c+=f[0];}this.element.value=c+d+this.element.value.substr(e[1]);}else{this.element.value=d;}this.oldElementValue=this.element.value;this.element.focus();if(this.options.afterUpdateElement){this.options.afterUpdateElement(this.element,b);}},updateChoices:function(b){if(!this.changed&&this.hasFocus){this.update.innerHTML=b;Element.cleanWhitespace(this.update);Element.cleanWhitespace(this.update.down());if(this.update.firstChild&&this.update.down().childNodes){this.entryCount=this.update.down().childNodes.length;
for(var a=0;a<this.entryCount;a++){var c=this.getEntry(a);c.autocompleteIndex=a;this.addObservers(c);}}else{this.entryCount=0;}this.stopIndicator();this.index=0;if(this.entryCount==1&&this.options.autoSelect){this.selectEntry();this.hide();}else{this.render();}}},addObservers:function(a){Event.observe(a,"mouseover",this.onHover.bindAsEventListener(this));Event.observe(a,"click",this.onClick.bindAsEventListener(this));},onObserverEvent:function(){this.changed=false;this.tokenBounds=null;if(this.getToken().length>=this.options.minChars){this.getUpdatedChoices();}else{this.active=false;this.hide();}this.oldElementValue=this.element.value;},getToken:function(){var a=this.getTokenBounds();return this.element.value.substring(a[0],a[1]).strip();},getTokenBounds:function(){if(null!=this.tokenBounds){return this.tokenBounds;}var e=this.element.value;if(e.strip().empty()){return[-1,0];}var d=arguments.callee.getFirstDifferencePos(e,this.oldElementValue);var b=(d==this.oldElementValue.length?1:0);var f=-1,g=e.length;var c;for(var h=0,a=this.options.tokens.length;h<a;++h){c=e.lastIndexOf(this.options.tokens[h],d+b-1);if(c>f){f=c;}c=e.indexOf(this.options.tokens[h],d+b);if(-1!=c&&c<g){g=c;}}return(this.tokenBounds=[f+1,g]);}});Autocompleter.Base.prototype.getTokenBounds.getFirstDifferencePos=function(c,a){var b=Math.min(c.length,a.length);for(var d=0;d<b;++d){if(c[d]!=a[d]){return d;}}return b;};Ajax.Autocompleter=Class.create(Autocompleter.Base,{initialize:function(c,b,d,a){this.baseInitialize(c,b,a);this.options.asynchronous=true;this.options.onComplete=this.onComplete.bind(this);this.options.defaultParams=this.options.parameters||null;this.url=d;},getUpdatedChoices:function(){this.startIndicator();var a=encodeURIComponent(this.options.paramName)+"="+encodeURIComponent(this.getToken());this.options.parameters=this.options.callback?this.options.callback(this.element,a):a;if(this.options.defaultParams){this.options.parameters+="&"+this.options.defaultParams;}new Ajax.Request(this.url,this.options);},onComplete:function(a){this.updateChoices(a.responseText);}});Autocompleter.Local=Class.create(Autocompleter.Base,{initialize:function(d,b,c,a){this.baseInitialize(d,b,a);this.options.array=c;},getUpdatedChoices:function(){this.updateChoices(this.options.selector(this));},setOptions:function(a){this.options=Object.extend({choices:10,partialSearch:true,partialChars:2,ignoreCase:true,fullSearch:false,selector:function(k){var g=[];var h=[];var c=k.getToken();var d=0;for(var f=0;f<k.options.array.length&&g.length<k.options.choices;f++){var e=k.options.array[f];var b=k.options.ignoreCase?e.toLowerCase().indexOf(c.toLowerCase()):e.indexOf(c);while(b!=-1){if(b==0&&e.length!=c.length){g.push("<li><strong>"+e.substr(0,c.length)+"</strong>"+e.substr(c.length)+"</li>");break;}else{if(c.length>=k.options.partialChars&&k.options.partialSearch&&b!=-1){if(k.options.fullSearch||/\s/.test(e.substr(b-1,1))){h.push("<li>"+e.substr(0,b)+"<strong>"+e.substr(b,c.length)+"</strong>"+e.substr(b+c.length)+"</li>");break;}}}b=k.options.ignoreCase?e.toLowerCase().indexOf(c.toLowerCase(),b+1):e.indexOf(c,b+1);}}if(h.length){g=g.concat(h.slice(0,k.options.choices-g.length));}return"<ul>"+g.join("")+"</ul>";}},a||{});}});Field.scrollFreeActivate=function(a){setTimeout(function(){Field.activate(a);},1);};Ajax.InPlaceEditor=Class.create({initialize:function(b,c,a){this.url=c;this.element=b=$(b);this.prepareOptions();this._controls={};arguments.callee.dealWithDeprecatedOptions(a);Object.extend(this.options,a||{});if(!this.options.formId&&this.element.id){this.options.formId=this.element.id+"-inplaceeditor";if($(this.options.formId)){this.options.formId="";}}if(this.options.externalControl){this.options.externalControl=$(this.options.externalControl);}if(!this.options.externalControl){this.options.externalControlOnly=false;}this._originalBackground=this.element.getStyle("background-color")||"transparent";this.element.title=this.options.clickToEditText;this._boundCancelHandler=this.handleFormCancellation.bind(this);this._boundComplete=(this.options.onComplete||Prototype.emptyFunction).bind(this);this._boundFailureHandler=this.handleAJAXFailure.bind(this);this._boundSubmitHandler=this.handleFormSubmission.bind(this);this._boundWrapperHandler=this.wrapUp.bind(this);this.registerListeners();},checkForEscapeOrReturn:function(a){if(!this._editing||a.ctrlKey||a.altKey||a.shiftKey){return;}if(Event.KEY_ESC==a.keyCode){this.handleFormCancellation(a);}else{if(Event.KEY_RETURN==a.keyCode){this.handleFormSubmission(a);}}},createControl:function(b,f,g){var d=this.options[b+"Control"];var c=this.options[b+"Text"];if("button"==d){var a=document.createElement("input");a.type="submit";a.value=c;a.className="editor_"+b+"_button";if("cancel"==b){a.onclick=this._boundCancelHandler;}this._form.appendChild(a);this._controls[b]=a;}else{if("link"==d){var e=document.createElement("a");e.href="#";e.appendChild(document.createTextNode(c));e.onclick="cancel"==b?this._boundCancelHandler:this._boundSubmitHandler;e.className="editor_"+b+"_link";if(g){e.className+=" "+g;}this._form.appendChild(e);this._controls[b]=e;}}},createEditField:function(){var b=(this.options.loadTextURL?this.options.loadingText:this.getText());var c;if(1>=this.options.rows&&!/\r|\n/.test(this.getText())){c=document.createElement("input");c.type="text";var a=this.options.size||this.options.cols||0;if(0<a){c.size=a;}}else{c=document.createElement("textarea");c.rows=(1>=this.options.rows?this.options.autoRows:this.options.rows);c.cols=this.options.cols||40;}c.name=this.options.paramName;c.value=b;c.className="editor_field";if(this.options.submitOnBlur){c.onblur=this._boundSubmitHandler;}this._controls.editor=c;if(this.options.loadTextURL){this.loadExternalText();}this._form.appendChild(this._controls.editor);},createForm:function(){var b=this;function a(d,c){var e=b.options["text"+d+"Controls"];if(!e||c===false){return;}b._form.appendChild(document.createTextNode(e));}this._form=$(document.createElement("form"));this._form.id=this.options.formId;this._form.addClassName(this.options.formClassName);this._form.onsubmit=this._boundSubmitHandler;this.createEditField();if("textarea"==this._controls.editor.tagName.toLowerCase()){this._form.appendChild(document.createElement("br"));}if(this.options.onFormCustomization){this.options.onFormCustomization(this,this._form);}a("Before",this.options.okControl||this.options.cancelControl);this.createControl("ok",this._boundSubmitHandler);a("Between",this.options.okControl&&this.options.cancelControl);this.createControl("cancel",this._boundCancelHandler,"editor_cancel");a("After",this.options.okControl||this.options.cancelControl);},destroy:function(){if(this._oldInnerHTML){this.element.innerHTML=this._oldInnerHTML;}this.leaveEditMode();this.unregisterListeners();},enterEditMode:function(a){if(this._saving||this._editing){return;}this._editing=true;this.triggerCallback("onEnterEditMode");if(this.options.externalControl){this.options.externalControl.hide();}this.element.hide();this.createForm();this.element.parentNode.insertBefore(this._form,this.element);if(!this.options.loadTextURL){this.postProcessEditField();}if(a){Event.stop(a);}},enterHover:function(a){if(this.options.hoverClassName){this.element.addClassName(this.options.hoverClassName);}if(this._saving){return;}this.triggerCallback("onEnterHover");},getText:function(){return this.element.innerHTML.unescapeHTML();},handleAJAXFailure:function(a){this.triggerCallback("onFailure",a);if(this._oldInnerHTML){this.element.innerHTML=this._oldInnerHTML;this._oldInnerHTML=null;}},handleFormCancellation:function(a){this.wrapUp();if(a){Event.stop(a);}},handleFormSubmission:function(c){var e=this._form;var d=$F(this._controls.editor);this.prepareSubmission();var b=this.options.callback(e,d)||"";if(Object.isString(b)){b=b.toQueryParams();}b.editorId=this.element.id;if(this.options.htmlResponse){var a=Object.extend({evalScripts:true},this.options.ajaxOptions);Object.extend(a,{parameters:b,onComplete:this._boundWrapperHandler,onFailure:this._boundFailureHandler});
new Ajax.Updater({success:this.element},this.url,a);}else{var a=Object.extend({method:"get"},this.options.ajaxOptions);Object.extend(a,{parameters:b,onComplete:this._boundWrapperHandler,onFailure:this._boundFailureHandler});new Ajax.Request(this.url,a);}if(c){Event.stop(c);}},leaveEditMode:function(){this.element.removeClassName(this.options.savingClassName);this.removeForm();this.leaveHover();this.element.style.backgroundColor=this._originalBackground;this.element.show();if(this.options.externalControl){this.options.externalControl.show();}this._saving=false;this._editing=false;this._oldInnerHTML=null;this.triggerCallback("onLeaveEditMode");},leaveHover:function(a){if(this.options.hoverClassName){this.element.removeClassName(this.options.hoverClassName);}if(this._saving){return;}this.triggerCallback("onLeaveHover");},loadExternalText:function(){this._form.addClassName(this.options.loadingClassName);this._controls.editor.disabled=true;var a=Object.extend({method:"get"},this.options.ajaxOptions);Object.extend(a,{parameters:"editorId="+encodeURIComponent(this.element.id),onComplete:Prototype.emptyFunction,onSuccess:function(b){this._form.removeClassName(this.options.loadingClassName);var c=b.responseText;if(this.options.stripLoadedTextTags){c=c.stripTags();}this._controls.editor.value=c;this._controls.editor.disabled=false;this.postProcessEditField();}.bind(this),onFailure:this._boundFailureHandler});new Ajax.Request(this.options.loadTextURL,a);},postProcessEditField:function(){var a=this.options.fieldPostCreation;if(a){$(this._controls.editor)["focus"==a?"focus":"activate"]();}},prepareOptions:function(){this.options=Object.clone(Ajax.InPlaceEditor.DefaultOptions);Object.extend(this.options,Ajax.InPlaceEditor.DefaultCallbacks);[this._extraDefaultOptions].flatten().compact().each(function(a){Object.extend(this.options,a);}.bind(this));},prepareSubmission:function(){this._saving=true;this.removeForm();this.leaveHover();this.showSaving();},registerListeners:function(){this._listeners={};var a;$H(Ajax.InPlaceEditor.Listeners).each(function(b){a=this[b.value].bind(this);this._listeners[b.key]=a;if(!this.options.externalControlOnly){this.element.observe(b.key,a);}if(this.options.externalControl){this.options.externalControl.observe(b.key,a);}}.bind(this));},removeForm:function(){if(!this._form){return;}this._form.remove();this._form=null;this._controls={};},showSaving:function(){this._oldInnerHTML=this.element.innerHTML;this.element.innerHTML=this.options.savingText;this.element.addClassName(this.options.savingClassName);this.element.style.backgroundColor=this._originalBackground;this.element.show();},triggerCallback:function(b,a){if("function"==typeof this.options[b]){this.options[b](this,a);}},unregisterListeners:function(){$H(this._listeners).each(function(a){if(!this.options.externalControlOnly){this.element.stopObserving(a.key,a.value);}if(this.options.externalControl){this.options.externalControl.stopObserving(a.key,a.value);}}.bind(this));},wrapUp:function(a){this.leaveEditMode();this._boundComplete(a,this.element);}});Object.extend(Ajax.InPlaceEditor.prototype,{dispose:Ajax.InPlaceEditor.prototype.destroy});Ajax.InPlaceCollectionEditor=Class.create(Ajax.InPlaceEditor,{initialize:function($super,b,c,a){this._extraDefaultOptions=Ajax.InPlaceCollectionEditor.DefaultOptions;$super(b,c,a);},createEditField:function(){var a=document.createElement("select");a.name=this.options.paramName;a.size=1;this._controls.editor=a;this._collection=this.options.collection||[];if(this.options.loadCollectionURL){this.loadCollection();}else{this.checkForExternalText();}this._form.appendChild(this._controls.editor);},loadCollection:function(){this._form.addClassName(this.options.loadingClassName);this.showLoadingText(this.options.loadingCollectionText);var options=Object.extend({method:"get"},this.options.ajaxOptions);Object.extend(options,{parameters:"editorId="+encodeURIComponent(this.element.id),onComplete:Prototype.emptyFunction,onSuccess:function(transport){var js=transport.responseText.strip();if(!/^\[.*\]$/.test(js)){throw ("Server returned an invalid collection representation.");}this._collection=eval(js);this.checkForExternalText();}.bind(this),onFailure:this.onFailure});new Ajax.Request(this.options.loadCollectionURL,options);},showLoadingText:function(b){this._controls.editor.disabled=true;var a=this._controls.editor.firstChild;if(!a){a=document.createElement("option");a.value="";this._controls.editor.appendChild(a);a.selected=true;}a.update((b||"").stripScripts().stripTags());},checkForExternalText:function(){this._text=this.getText();if(this.options.loadTextURL){this.loadExternalText();}else{this.buildOptionList();}},loadExternalText:function(){this.showLoadingText(this.options.loadingText);var a=Object.extend({method:"get"},this.options.ajaxOptions);Object.extend(a,{parameters:"editorId="+encodeURIComponent(this.element.id),onComplete:Prototype.emptyFunction,onSuccess:function(b){this._text=b.responseText.strip();this.buildOptionList();}.bind(this),onFailure:this.onFailure});new Ajax.Request(this.options.loadTextURL,a);},buildOptionList:function(){this._form.removeClassName(this.options.loadingClassName);this._collection=this._collection.map(function(d){return 2===d.length?d:[d,d].flatten();});var c=("value" in this.options)?this.options.value:this._text;var a=this._collection.any(function(d){return d[0]==c;}.bind(this));this._controls.editor.update("");var b;this._collection.each(function(d,e){b=document.createElement("option");b.value=d[0];b.selected=a?d[0]==c:0==e;b.appendChild(document.createTextNode(d[1]));this._controls.editor.appendChild(b);}.bind(this));this._controls.editor.disabled=false;Field.scrollFreeActivate(this._controls.editor);}});Ajax.InPlaceEditor.prototype.initialize.dealWithDeprecatedOptions=function(a){if(!a){return;}function b(d,c){if(d in a||c===undefined){return;}a[d]=c;}b("cancelControl",(a.cancelLink?"link":(a.cancelButton?"button":a.cancelLink==a.cancelButton==false?false:undefined)));b("okControl",(a.okLink?"link":(a.okButton?"button":a.okLink==a.okButton==false?false:undefined)));b("highlightColor",a.highlightcolor);b("highlightEndColor",a.highlightendcolor);};Object.extend(Ajax.InPlaceEditor,{DefaultOptions:{ajaxOptions:{},autoRows:3,cancelControl:"link",cancelText:"cancel",clickToEditText:"Click to edit",externalControl:null,externalControlOnly:false,fieldPostCreation:"activate",formClassName:"inplaceeditor-form",formId:null,highlightColor:"#ffff99",highlightEndColor:"#ffffff",hoverClassName:"",htmlResponse:true,loadingClassName:"inplaceeditor-loading",loadingText:"Loading...",okControl:"button",okText:"ok",paramName:"value",rows:1,savingClassName:"inplaceeditor-saving",savingText:"Saving...",size:0,stripLoadedTextTags:false,submitOnBlur:false,textAfterControls:"",textBeforeControls:"",textBetweenControls:""},DefaultCallbacks:{callback:function(a){return Form.serialize(a);},onComplete:function(b,a){new Effect.Highlight(a,{startcolor:this.options.highlightColor,keepBackgroundImage:true});},onEnterEditMode:null,onEnterHover:function(a){a.element.style.backgroundColor=a.options.highlightColor;if(a._effect){a._effect.cancel();}},onFailure:function(b,a){alert("Error communication with the server: "+b.responseText.stripTags());},onFormCustomization:null,onLeaveEditMode:null,onLeaveHover:function(a){a._effect=new Effect.Highlight(a.element,{startcolor:a.options.highlightColor,endcolor:a.options.highlightEndColor,restorecolor:a._originalBackground,keepBackgroundImage:true});}},Listeners:{click:"enterEditMode",keydown:"checkForEscapeOrReturn",mouseover:"enterHover",mouseout:"leaveHover"}});Ajax.InPlaceCollectionEditor.DefaultOptions={loadingCollectionText:"Loading options..."};Form.Element.DelayedObserver=Class.create({initialize:function(c,a,b){this.delay=a||0.5;this.element=$(c);this.callback=b;this.timer=null;this.lastValue=$F(this.element);Event.observe(this.element,"keyup",this.delayedListener.bindAsEventListener(this));},delayedListener:function(a){if(this.lastValue==$F(this.element)){return;
}if(this.timer){clearTimeout(this.timer);}this.timer=setTimeout(this.onTimerEvent.bind(this),this.delay*1000);this.lastValue=$F(this.element);},onTimerEvent:function(){this.timer=null;this.callback(this.element,$F(this.element));}});if(!Control){var Control={};}Control.Slider=Class.create({initialize:function(b,a,d){var c=this;if(Object.isArray(b)){this.handles=b.collect(function(e){return $(e);});}else{this.handles=[$(b)];}this.track=$(a);this.options=d||{};this.axis=this.options.axis||"horizontal";this.increment=this.options.increment||1;this.step=parseInt(this.options.step||"1");this.range=this.options.range||$R(0,1);this.value=0;this.values=this.handles.map(function(){return 0;});this.spans=this.options.spans?this.options.spans.map(function(e){return $(e);}):false;this.options.startSpan=$(this.options.startSpan||null);this.options.endSpan=$(this.options.endSpan||null);this.restricted=this.options.restricted||false;this.maximum=this.options.maximum||this.range.end;this.minimum=this.options.minimum||this.range.start;this.alignX=parseInt(this.options.alignX||"0");this.alignY=parseInt(this.options.alignY||"0");this.trackLength=this.maximumOffset()-this.minimumOffset();this.handleLength=this.isVertical()?(this.handles[0].offsetHeight!=0?this.handles[0].offsetHeight:this.handles[0].style.height.replace(/px$/,"")):(this.handles[0].offsetWidth!=0?this.handles[0].offsetWidth:this.handles[0].style.width.replace(/px$/,""));this.active=false;this.dragging=false;this.disabled=false;if(this.options.disabled){this.setDisabled();}this.allowedValues=this.options.values?this.options.values.sortBy(Prototype.K):false;if(this.allowedValues){this.minimum=this.allowedValues.min();this.maximum=this.allowedValues.max();}this.eventMouseDown=this.startDrag.bindAsEventListener(this);this.eventMouseUp=this.endDrag.bindAsEventListener(this);this.eventMouseMove=this.update.bindAsEventListener(this);this.handles.each(function(e,f){f=c.handles.length-1-f;c.setValue(parseFloat((Object.isArray(c.options.sliderValue)?c.options.sliderValue[f]:c.options.sliderValue)||c.range.start),f);e.makePositioned().observe("mousedown",c.eventMouseDown);});this.track.observe("mousedown",this.eventMouseDown);document.observe("mouseup",this.eventMouseUp);document.observe("mousemove",this.eventMouseMove);this.initialized=true;},dispose:function(){var a=this;Event.stopObserving(this.track,"mousedown",this.eventMouseDown);Event.stopObserving(document,"mouseup",this.eventMouseUp);Event.stopObserving(document,"mousemove",this.eventMouseMove);this.handles.each(function(b){Event.stopObserving(b,"mousedown",a.eventMouseDown);});},setDisabled:function(){this.disabled=true;},setEnabled:function(){this.disabled=false;},getNearestValue:function(a){if(this.allowedValues){if(a>=this.allowedValues.max()){return(this.allowedValues.max());}if(a<=this.allowedValues.min()){return(this.allowedValues.min());}var b=Math.abs(this.allowedValues[0]-a);var c=this.allowedValues[0];this.allowedValues.each(function(e){var d=Math.abs(e-a);if(d<=b){c=e;b=d;}});return c;}if(a>this.range.end){return this.range.end;}if(a<this.range.start){return this.range.start;}return a;},setValue:function(b,a){if(!this.active){this.activeHandleIdx=a||0;this.activeHandle=this.handles[this.activeHandleIdx];this.updateStyles();}a=a||this.activeHandleIdx||0;if(this.initialized&&this.restricted){if((a>0)&&(b<this.values[a-1])){b=this.values[a-1];}if((a<(this.handles.length-1))&&(b>this.values[a+1])){b=this.values[a+1];}}b=this.getNearestValue(b);this.values[a]=b;this.value=this.values[0];this.handles[a].style[this.isVertical()?"top":"left"]=this.translateToPx(b);this.drawSpans();if(!this.dragging||!this.event){this.updateFinished();}},setValueBy:function(b,a){this.setValue(this.values[a||this.activeHandleIdx||0]+b,a||this.activeHandleIdx||0);},translateToPx:function(a){return Math.round(((this.trackLength-this.handleLength)/(this.range.end-this.range.start))*(a-this.range.start))+"px";},translateToValue:function(a){return((a/(this.trackLength-this.handleLength)*(this.range.end-this.range.start))+this.range.start);},getRange:function(b){var a=this.values.sortBy(Prototype.K);b=b||0;return $R(a[b],a[b+1]);},minimumOffset:function(){return(this.isVertical()?this.alignY:this.alignX);},maximumOffset:function(){return(this.isVertical()?(this.track.offsetHeight!=0?this.track.offsetHeight:this.track.style.height.replace(/px$/,""))-this.alignY:(this.track.offsetWidth!=0?this.track.offsetWidth:this.track.style.width.replace(/px$/,""))-this.alignX);},isVertical:function(){return(this.axis=="vertical");},drawSpans:function(){var a=this;if(this.spans){$R(0,this.spans.length-1).each(function(b){a.setSpan(a.spans[b],a.getRange(b));});}if(this.options.startSpan){this.setSpan(this.options.startSpan,$R(0,this.values.length>1?this.getRange(0).min():this.value));}if(this.options.endSpan){this.setSpan(this.options.endSpan,$R(this.values.length>1?this.getRange(this.spans.length-1).max():this.value,this.maximum));}},setSpan:function(b,a){if(this.isVertical()){b.style.top=this.translateToPx(a.start);b.style.height=this.translateToPx(a.end-a.start+this.range.start);}else{b.style.left=this.translateToPx(a.start);b.style.width=this.translateToPx(a.end-a.start+this.range.start);}},updateStyles:function(){this.handles.each(function(a){Element.removeClassName(a,"selected");});Element.addClassName(this.activeHandle,"selected");},startDrag:function(d){if(Event.isLeftClick(d)){if(!this.disabled){this.active=true;var c=Event.element(d);var b=[Event.pointerX(d),Event.pointerY(d)];var a=c;if(a==this.track){var e=Position.cumulativeOffset(this.track);this.event=d;this.setValue(this.translateToValue((this.isVertical()?b[1]-e[1]:b[0]-e[0])-(this.handleLength/2)));var e=Position.cumulativeOffset(this.activeHandle);this.offsetX=(b[0]-e[0]);this.offsetY=(b[1]-e[1]);}else{while((this.handles.indexOf(c)==-1)&&c.parentNode){c=c.parentNode;}if(this.handles.indexOf(c)!=-1){this.activeHandle=c;this.activeHandleIdx=this.handles.indexOf(this.activeHandle);this.updateStyles();var e=Position.cumulativeOffset(this.activeHandle);this.offsetX=(b[0]-e[0]);this.offsetY=(b[1]-e[1]);}}}Event.stop(d);}},update:function(a){if(this.active){if(!this.dragging){this.dragging=true;}this.draw(a);if(Prototype.Browser.WebKit){window.scrollBy(0,0);}Event.stop(a);}},draw:function(c){var b=[Event.pointerX(c),Event.pointerY(c)];var a=Position.cumulativeOffset(this.track);b[0]-=this.offsetX+a[0];b[1]-=this.offsetY+a[1];this.event=c;this.setValue(this.translateToValue(this.isVertical()?b[1]:b[0]));if(this.initialized&&this.options.onSlide){this.options.onSlide(this.values.length>1?this.values:this.value,this);}},endDrag:function(a){if(this.active&&this.dragging){this.finishDrag(a,true);Event.stop(a);}this.active=false;this.dragging=false;},finishDrag:function(a,b){this.active=false;this.dragging=false;this.updateFinished();},updateFinished:function(){if(this.initialized&&this.options.onChange){this.options.onChange(this.values.length>1?this.values:this.value,this);}this.event=null;}});Sound={tracks:{},_enabled:true,template:new Template('<embed style="height:0" id="sound_#{track}_#{id}" src="#{url}" loop="false" autostart="true" hidden="true"/>'),enable:function(){Sound._enabled=true;},disable:function(){Sound._enabled=false;},play:function(b){if(!Sound._enabled){return;}var a=Object.extend({track:"global",url:b,replace:false},arguments[1]||{});if(a.replace&&this.tracks[a.track]){$R(0,this.tracks[a.track].id).each(function(c){var d=$("sound_"+a.track+"_"+c);d.Stop&&d.Stop();d.remove();});this.tracks[a.track]=null;}if(!this.tracks[a.track]){this.tracks[a.track]={id:0};}else{this.tracks[a.track].id++;}a.id=this.tracks[a.track].id;$$("body")[0].insert(Prototype.Browser.IE?new Element("bgsound",{id:"sound_"+a.track+"_"+a.id,src:a.url,loop:1,autostart:true}):Sound.template.evaluate(a));}};if(Prototype.Browser.Gecko&&navigator.userAgent.indexOf("Win")>0){if(navigator.plugins&&$A(navigator.plugins).detect(function(a){return a.name.indexOf("QuickTime")!=-1;
})){Sound.template=new Template('<object id="sound_#{track}_#{id}" width="0" height="0" type="audio/mpeg" data="#{url}"/>');}else{Sound.play=function(){};}}var cnnLockToggle=false;var cnnDropdownOpen=false;var cnnDocDomain="";var cnnOverlayOpenId="";var cnnOverlayClickedId="";var cnnOverlayMenuOpen=false;function CNN_getCookies(){var d=[];var b;if(document.cookie){var c=document.cookie.split("; ");for(b=0;b<c.length;b++){var a=c[b].split("=");d[a[0]]=unescape(a[1])||null;}}return d;}function CNN_parseCookieData(a){var d={};var e=a.split("&");var b;for(b=0;b<e.length;b++){var c=e[b].split(":");d[c[0]]=c[1]||null;}return d;}function CNN_setCookie(c,e,a,g,d,f){var b=0;if(a){if((typeof(a)=="string")&&Date.parse(a)){b=a;}else{if(typeof(a)=="number"){b=(new Date((new Date()).getTime()+a*3600000)).toGMTString();}}}document.cookie=c+"="+escape(e)+((b)?(";expires="+b):"")+((g)?";path="+g:"")+((d)?";domain="+d:"")+((f&&(f===true))?"; secure":"");}function CNN_removeCookie(b,d,c){var a=CNN_getCookies();var e=a[b]||null;if(e){document.cookie=b+"="+escape(e)+"; expires=Fri, 13-Apr-1970 00:00:00 GMT"+((d)?";path="+d:"")+((c)?";domain="+c:"");}}var allCookies=CNN_getCookies();var cnnDomainArray=location.hostname.split(".");var cnnCurrDomain=(cnnDomainArray.length>1)?"."+cnnDomainArray[cnnDomainArray.length-2]+"."+cnnDomainArray[cnnDomainArray.length-1]:"";function cnnRenderT1TimeStamp(e){var g=(e)?new Date(e):cnnCurrTime;var l;var d=cnnCurrTime.getTime()-g.getTime();var c=Math.floor(d/1000/60/60/24);d-=c*1000*60*60*24;var a=Math.floor(d/1000/60/60);d-=a*1000*60*60;var k=Math.floor(d/1000/60);d-=k*1000*60;var h=Math.floor(d/1000);var f=(k>1)?"minutes":"minute";var b=(h>1)?"seconds":"second";l="updated ";if(a<1&&k>0){l+=k+" "+f+" ago";}else{if(a<1&&k<1){l+=h+" "+b+" ago";}else{if(a>=1){return"";}}}return l;}function CNN_openPopup(c,b,e,a){if(window==top){window.top.name="opener";}var d=window.open(c,b,e);if(d){window.cnnHasOpenPopup=1;}if(d&&d.opener){if(a){d.opener.location=a;}}if(d){d.focus();}}function cnnLiveVideo(a){if(!a){a="1";}var b="http://web.archive.org/web/20141022083301/http://www.cnn.com/video/live/live.html?stream=stream"+a;CNN_openPopup(b,"liveplayer","scrollbars=yes,resizable=yes,width=672,height=540");}function cnnToggleUGC(a,c){if(cnnLockToggle){return;}cnnLockToggle=true;var b=(c.parentNode.className.indexOf("Closed")>-1)?true:false;Effect.toggle(a,"blind",{beforeStart:function(f){try{c.blur();}catch(d){}if(b){switch(c.parentNode.className){case"cnnOpinionClosed":c.parentNode.className="cnnOpinion";break;case"cnnIReportClosed":c.parentNode.className="cnnIReport";break;case"cnnBlogsClosed":c.parentNode.className="cnnBlogs";Sphere.Widget.search();break;default:}}},afterFinish:function(d){if(!b){switch(c.parentNode.className){case"cnnOpinion":c.parentNode.className="cnnOpinionClosed";break;case"cnnIReport":c.parentNode.className="cnnIReportClosed";break;case"cnnBlogs":c.parentNode.className="cnnBlogsClosed";break;default:}}cnnLockToggle=false;}});}var cnnHorizontalSlider=(typeof Class=="object")?Class.create():{};cnnHorizontalSlider.prototype={initialize:function(d,g,b,c,a){try{this.locked=false;this.objName=d;this.elIdentifier=b;this.container=g;this.navDiv=c;this.viewPort=a;this.sliderWidth=this.findPanels();this.numScreens=Math.round(this.sliderWidth/2);this.negativeOffSetMax=this.setOffSet();this.positiveOffSetMax=0;this.currentPanel=0;this.setSliderWidth();this.buildNav();this.getCurrentOffSet();}catch(f){}},findPanels:function(){var a=$(this.container).getElementsByTagName("div");var c=0;var b;for(b=0;b<a.length;b++){if(a[b].className==this.elIdentifier+" cnnMar9L"||a[b].className==this.elIdentifier){c++;}}return c;},setCurrentPanel:function(a){this.getCurrentOffSet();this.currentPanel=(this.currOffSet/this.viewPort)*-1;this.updateNav();},setOffSet:function(){return((this.numScreens*this.viewPort)-this.viewPort)*-1;},calculateSliderWidth:function(){return this.viewPort*this.numScreens;},setSliderWidth:function(){$(this.container).style.width=this.calculateSliderWidth()+"px";},buildNav:function(){},updateNav:function(){},getCurrentOffSet:function(a){this.currOffSet=(!isNaN(parseInt($(this.container).style.left,10)))?parseInt($(this.container).style.left,10):0;},btnSlide:function(a){var b;if(!this.locked){this.locked=true;var c=this;this.timer=setTimeout(function(){c.getCurrentOffSet();var d=(a*c.viewPort)*-1;var e=(d>c.currOffSet)?(d-c.currOffSet):(c.currOffSet-d)*-1;var f=(e>0)?2*(e/c.viewPort):(2*(e/c.viewPort))*-1;if(f<0){f=f*-1;}if(c.currOffSet>c.negativeOffSetMax||c.currOffSet<c.positiveOffSetMax){b=new Effect.MoveBy($(c.container).id,0,e,{duration:f,beforeStart:function(){c.showImages();},afterFinish:function(){c.setCurrentPanel();}});}c.locked=false;},300);}}};var cnn_GallerySlider=(typeof Class==="object")?Class.create():{};cnn_GallerySlider.prototype=Object.extend(new cnnHorizontalSlider(),{initialize:function(a){this.config=a;this.defaults={galleryContainerId:"cnn_GallerySliderContainer",galleryStripClass:"cnn_fabcaslab",galleryTabContainerId:"cnnGalleryTabs",nextButtonContainerId:"cnn_fabcnext",prevButtonContainerId:"cnn_fabcprev",galleryAdPrefix:"gallery_",displayWidth:906};this.settings=Object.extend(this.defaults,this.config);try{this.elIdentifier=this.settings.galleryStripClass;this.container=this.settings.galleryContainerId;this.navDiv=this.settings.navContainer;this.viewPort=this.settings.displayWidth;this.currentTab=this.settings.currentTab||0;}catch(c){}try{this.locked=false;this.sliderWidth=this.findPanels();this.numScreens=this.sliderWidth;this.negativeOffSetMax=this.setOffSet();this.positiveOffSetMax=0;this.currentPanel=0;this.inactiveDot="";this.activeDot="";this.setSliderWidth();this.buildNav();this.getCurrentOffSet();this.requestPanelAd(this.currentTab,this.currentPanel);this.numImgsPerPanel=7;this.showImages("init");}catch(b){}},showImages:function(a){var b=a?$(this.settings.galleryContainerId).down():$(this.settings.galleryContainerId);b.select(".cnn_fabcatz img").each(function(d,c){if(d.className=="cnnContentImg"&&d.style.display!="block"){d.style.display="block";}});},buildTabs:function(d){var f=$(this.settings.galleryTabContainerId);this.tabLnks=f.getElementsByTagName("a");this.numTabs=this.tabLnks.length;var b=false;var e=this;var c=0,a;if(typeof d==="undefined"){for(c=0,a=this.numTabs;c<a;c++){if(this.tabLnks[c].className=="cnn_fabtabbtn cnn_fabtabbtnon"){d=c;b=true;}}if(!b){d=0;this.currentTab=0;}this.currentTab=d;}else{this.currentTab=d;}for(c=0,a=this.numTabs;c<a;c++){if(c!=d){this.tabLnks[c].className="cnn_fabtabbtn";this.tabLnks[c].onclick=function(){e.changeTab(this.href);return false;};}else{this.tabLnks[c].className="cnn_fabtabbtn cnn_fabtabbtnon";this.tabLnks[c].onclick=function(){return false;};}}},buildNav:function(){var b,a;this.buildTabs();b=$(this.settings.prevButtonContainerId);a=$(this.settings.nextButtonContainerId);b.className="cnn_fabcprv_off";a.className=this.sliderWidth>1?"cnn_fabcnxt":"cnn_fabcnxt_off";if(this.sliderWidth>1){b.observe("click",this.slidePrev.bind(this));a.observe("click",this.slideNext.bind(this));}},slideNext:function(){if((this.currentPanel+1)<this.numScreens){this.btnSlide(this.currentPanel+1);}},slidePrev:function(){if(this.currentPanel>0){this.btnSlide(this.currentPanel-1);}},updateNav:function(){this.requestPanelAd(this.currentTab,this.currentPanel);if((this.currentPanel+1)<this.numScreens){$(this.settings.nextButtonContainerId).className="cnn_fabcnxt";}else{$(this.settings.nextButtonContainerId).className="cnn_fabcnxt_off";}if(this.currentPanel>0){$(this.settings.prevButtonContainerId).className="cnn_fabcprv";}else{$(this.settings.prevButtonContainerId).className="cnn_fabcprv_off";}},changeTab:function(b,e){var c,a,d;var f=this;d=new Ajax.Request(b,{method:"get",onSuccess:function(g){f.resetSlider(g.responseText);for(c=0,a=f.numTabs;c<a;c++){if(b==f.tabLnks[c].href){f.buildTabs(c);}}}});},resetSlider:function(b){var c=this,a=$(c.settings.galleryContainerId).up();Effect.Fade(this.container,{duration:0.5,afterFinish:function(){$(c.container).remove();
var d=document.createElement("div");d.setAttribute("style","display:none");d.setAttribute("id",c.settings.galleryContainerId);a.appendChild(d);$(c.container).update(b);c.initialize(Object.extend(c.settings,{currentTab:c.currentTab}));Effect.Appear(c.container,{duration:0.5});}});},requestPanelAd:function(c,b){var d;var e=this;if($(this.settings.galleryAdPrefix+c+"_ad_"+b)&&!$(this.settings.galleryAdPrefix+c+"_ad_"+b+"Container")){if(this.varDefined("CNN_"+this.settings.galleryAdPrefix+c+"_ad_"+b)){var a=document.createElement("div");a.setAttribute("id",this.settings.galleryAdPrefix+c+"_ad_"+b+"Container");$(this.settings.galleryAdPrefix+c+"_ad_"+b).appendChild(a);d=new Ajax.Updater({success:$(this.settings.galleryAdPrefix+c+"_ad_"+b+"Container")},this.returnVarValue("CNN_"+this.settings.galleryAdPrefix+c+"_ad_"+b),{method:"get",evalScripts:true,asynchronous:true,onSuccess:function(){if($(e.settings.galleryAdPrefix+c+"_ad_"+b+"_adgif")){$(e.settings.galleryAdPrefix+c+"_ad_"+b+"_adgif").innerHTML='<img src="http://web.archive.org/web/20141022083301/http://i.cdn.turner.com/cnn/.element/img/3.0/global/misc/advertisement.gif" width="58" height="5" alt="" border="0">';}}});}}},varDefined:function(val){var t;var expression="t = (typeof("+val+') !== "undefined");';eval(expression);return t;},returnVarValue:function(val){return eval(val);}});var cnn_SectionGallery,cnn_SectionGallery2;var CNN_T1Flipper={prev:function(){},next:function(){},play:function(){},stop:function(){},imgClick:function(){}};var cnnT1Flipper=CNN_T1Flipper;if(typeof Class==="object"){CNN_T1Flipper=Class.create();CNN_T1Flipper.prototype={initialize:function(){var b,a;this.locked=false;this.panels=$$("#cnn_maint1lftf .cnn_flpprt1pnl");this.navboxes=$$("#cnn_maint1lftf .cnn_flpprt1nvbx");this.iterator=0;this.autoPlay=false;for(b=1,a=this.panels.length;b<a;++b){this.panels[b].hide();}},navigatePanel:function(b){var a=this.iterator;if(b==="prev"){if(a<=0){a=this.panels.size()-1;}else{a-=1;}}else{if(a>=this.panels.size()-1){a=0;}else{a+=1;}}this.showPanel(a);},showPanel:function(b){var a=this;if(a.panels.size()>0&&a.navboxes.size()>0&&typeof b==="number"&&b!==a.iterator&&0<=b&&b<=a.panels.size()){a.locked=true;Effect.Fade(a.panels[a.iterator],{duration:0.25,afterFinish:function(){a.panels[a.iterator].removeClassName("cnn_flpprt1pnl_active");a.navboxes[a.iterator].removeClassName("cnn_flpprt1nvbx_active");a.iterator=b;a.panels[a.iterator].addClassName("cnn_flpprt1pnl_active");a.navboxes[a.iterator].addClassName("cnn_flpprt1nvbx_active");Effect.Appear(a.panels[a.iterator],{duration:0.25,afterFinish:function(){a.locked=false;if(a.autoPlay){a.play();}}});}});}},prev:function(){this.stop();this.navigatePanel("prev");},next:function(){this.stop();this.navigatePanel("next");},play:function(){var a=this;if(a.panels.size()>0&&a.navboxes.size()>0){a.autoPlay=true;a.timer=window.setTimeout(function(){a.navigatePanel("next");},8000);}},stop:function(){this.autoPlay=false;window.clearTimeout(this.timer);},imgClick:function(a){if(a){window.location.href=a;}}};}function cnnSetShareLnks(){var d="http://web.archive.org/web/20141022083301/http://www.mixx.com/submit/story?page_url="+encodeURIComponent(location.href)+"&title="+cnnShareTitle+"&description="+cnnShareDesc+"&partner=CNN";if($("cnnSBtnMixx")){$("cnnSBtnMixx").href=d;$("cnnSBtnMixx").target="_blank";}if($("cnnSBtnMixxBot")){$("cnnSBtnMixxBot").href=d;$("cnnSBtnMixxBot").target="_blank";}if($("cnnMixxEmbedTop")){$("cnnMixxEmbedTop").href=d;$("cnnMixxEmbedTop").target="_blank";}if($("cnnMixxEmbedBot")){$("cnnMixxEmbedBot").href=d;$("cnnMixxEmbedBot").target="_blank";}var c="http://web.archive.org/web/20141022083301/http://digg.com/submit?phase=2&url="+encodeURIComponent(location.href)+"&title="+cnnShareTitle+"&bodytext="+cnnShareDesc;if($("cnnSBtnDigg")){$("cnnSBtnDigg").href=c;$("cnnSBtnDigg").target="_blank";}if($("cnnSBtnDiggBot")){$("cnnSBtnDiggBot").href=c;$("cnnSBtnDiggBot").target="_blank";}var a="http://web.archive.org/web/20141022083301/http://www.facebook.com/share.php?u="+encodeURIComponent(location.href);if($("cnnSBtnFacebook")){$("cnnSBtnFacebook").href=a;$("cnnSBtnFacebook").target="_blank";}if($("cnnSBtnFacebookBot")){$("cnnSBtnFacebookBot").href=a;$("cnnSBtnFacebookBot").target="_blank";}if($("cnnSBtnFacebookEmbedTop")){$("cnnSBtnFacebookEmbedTop").href=a;$("cnnSBtnFacebookEmbedTop").target="_blank";}if($("cnnSBtnFacebookEmbedBot")){$("cnnSBtnFacebookEmbedBot").href=a;$("cnnSBtnFacebookEmbedBot").target="_blank";}var h="http://web.archive.org/web/20141022083301/http://del.icio.us/post?v=4&partner=cnn&noui&jump=close&url="+encodeURIComponent(location.href)+"&title="+cnnShareTitle+"delicious";if($("cnnSBtnDelicious")){$("cnnSBtnDelicious").href=h;$("cnnSBtnDelicious").target="_blank";}if($("cnnSBtnDeliciousBot")){$("cnnSBtnDeliciousBot").href=h;$("cnnSBtnDeliciousBot").target="_blank";}var e="http://web.archive.org/web/20141022083301/http://reddit.com/submit?url="+encodeURIComponent(location.href)+"&title="+cnnShareTitle;if($("cnnSBtnReddit")){$("cnnSBtnReddit").href=e;$("cnnSBtnReddit").target="_blank";}if($("cnnSBtnRedditBot")){$("cnnSBtnRedditBot").href=e;$("cnnSBtnRedditBot").target="_blank";}var b="http://web.archive.org/web/20141022083301/http://www.stumbleupon.com/submit?url="+encodeURIComponent(location.href)+"&title="+cnnShareTitle;if($("cnnSBtnStumbleUpon")){$("cnnSBtnStumbleUpon").href=b;$("cnnSBtnStumbleUpon").target="_blank";}if($("cnnSBtnStumbleUponBot")){$("cnnSBtnStumbleUponBot").href=b;$("cnnSBtnStumbleUponBot").target="_blank";}var k="http://web.archive.org/web/20141022083301/http://www.myspace.com/Modules/PostTo/Pages/?"+"t="+cnnShareTitle+"&c="+cnnShareDesc+"&u="+encodeURIComponent(location.href);if($("cnnSBtnMyspace")){$("cnnSBtnMyspace").href=k;$("cnnSBtnMyspace").target="_blank";}if($("cnnSBtnMyspaceBot")){$("cnnSBtnMyspaceBot").href=k;$("cnnSBtnMyspaceBot").target="_blank";}var l="http://web.archive.org/web/20141022083301/http://cnntweet.appspot.com/articles/"+encodeURIComponent(location.href)+"/"+cnnShareTitle+"/tweet/";if($("cnnSBtnTwitter")){$("cnnSBtnTwitter").href=l;$("cnnSBtnTwitter").target="_blank";}if($("cnnSBtnTwitterBot")){$("cnnSBtnTwitterBot").href=l;$("cnnSBtnTwitterBot").target="_blank";}if($("cnnSBtnTwitterEmbedTop")){$("cnnSBtnTwitterEmbedTop").href=l;$("cnnSBtnTwitterEmbedTop").target="_blank";}if($("cnnSBtnTwitterEmbedBot")){$("cnnSBtnTwitterEmbedBot").href=l;$("cnnSBtnTwitterEmbedBot").target="_blank";}var f="http://web.archive.org/web/20141022083301/http://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(location.href)+"&title="+cnnShareTitle+"&summary="+cnnShareDesc+"&source=CNN";if($("cnnSBtnLinkedIn")){$("cnnSBtnLinkedIn").href=f;$("cnnSBtnLinkedIn").target="_blank";}if($("cnnSBtnLinkedInBot")){$("cnnSBtnLinkedInBot").href=f;$("cnnSBtnLinkedInBot").target="_blank";}var g="http://web.archive.org/web/20141022083301/http://www.viadeo.com/shareit/share/?url="+encodeURIComponent(location.href)+"&title="+cnnShareTitle+"&overview="+cnnShareDesc+"&urllanguage=en&urlaffiliate=40538&encoding=ISO 8859-1";if($("cnnSBtnViadeo")){$("cnnSBtnViadeo").href=g;$("cnnSBtnViadeo").target="_blank";}if($("cnnSBtnViadeoBot")){$("cnnSBtnViadeoBot").href=g;$("cnnSBtnViadeoBot").target="_blank";}}var cnn_stryichgcrr=1;var cnn_stryichgmax=0;function cnn_stryichgS(a){if(a!=cnn_stryichgcrr){$("cnn_stryichgnm"+cnn_stryichgcrr).className="cnn_stryichgn"+cnn_stryichgcrr;$("cnn_stryichgnm"+a).className="cnn_stryichgn"+a+" cnn_stryichgn"+a+"on";$("cnnImageChangerImg").src=CNN_storyImageGallery[a-1].image;if($("cnnImageChangerCap")){$("cnnImageChangerCap").update(CNN_storyImageGallery[a-1].caption);$("cnnImageChangerImg").setAttribute("alt",CNN_storyImageGallery[a-1].caption);}else{$("cnnImageChangerImg").setAttribute("alt",CNN_storyImageGallery[a-1].image);}cnn_stryichgcrr=a;}}function cnn_stryichgP(){var a=cnn_stryichgcrr;if(a==1){a=cnn_stryichgmax;}else{a--;}cnn_stryichgS(a);}function cnn_stryichgN(){var a=cnn_stryichgcrr;if(a==cnn_stryichgmax){a=1;}else{a++;}cnn_stryichgS(a);}function cnn_stryichgInit(){var b,a="";cnn_stryichgmax=CNN_storyImageGallery.length;for(b=1;b<=cnn_stryichgmax;b++){a+='<a id="cnn_stryichgnm'+b+'" href="javascript:cnn_stryichgS('+b+');" class="cnn_stryichgn'+b;if(b==1){a+=" cnn_stryichgn"+b+"on";}a+='"><img src="http://web.archive.org/web/20141022083301/http://i.cdn.turner.com/cnn/.element/img/3.0/1px.gif" border="0"></a>';}Element.update("cnn_stryichgnm",a);}function CNN_renderRecommend(e){var d;
var a=e.assets.length;var c=0;var b='<h4>We recommend</h4><ul class="cnn_bulletbin">';for(d=0;d<a;d++){var f="";if(e.assets[d].site.toLowerCase()!=="cnn"&&e.assets[d]["site-url"]!==""&&e.assets[d].siteId.indexOf("http://")===-1){f+=e.assets[d]["site-url"];}f+=e.assets[d].siteId;b+='<li><a href="'+f+'">'+e.assets[d].headline+"</a>";if(e.assets[d].wool!=""){b+=" <span>"+e.assets[d].wool.replace(": ","")+"</span>";}b+="</li>";c++;if(c>2){break;}}b+="</ul>";return b;}var cnnOverlayClass=[];function cnnShowOverlay(a){if($(a)){if($(a).style.display=="block"){$(a).style.display="none";}else{$(a).style.display="block";cnnOverlayOpenId=a;cnnOverlayMenuOpen=true;cnnOverlayClickedId="";}}}function cnnHideOverlay(a){if($(a)){$(a).style.display="none";cnnOverlayOpenId="";cnnOverlayMenuOpen=false;}}function cnnGetOverlayMenuId(a){return a.href.substring(a.href.indexOf("'")+1,a.href.lastIndexOf("'"));}function cnnOverlayMouseDownMenu(a){cnnOverlayClickedId=this.id;return true;}function cnnOverlayMouseDownBtn(a){var b=cnnGetOverlayMenuId(this);cnnOverlayClickedId=b;return true;}function cnnAddOverlayEvents(e){var d;var a=document.getElementsByClassName(e);for(d=0;d<a.length;d++){var c=a[d];c.onmousedown=cnnOverlayMouseDownBtn;var f=cnnGetOverlayMenuId(c);if($(f)){$(f).onmousedown=cnnOverlayMouseDownMenu;}cnnOverlayClass[f]=e;if((navigator.userAgent.indexOf("Safari")!=-1)&&(navigator.userAgent.indexOf("Mac")!=-1)){if(c.onmouseout&&c.onmouseout.toString().indexOf("cnnImgSwap")!=-1){c.onclick=function b(){this.onmouseout();return true;};}}}}function cnnOverlayMouseDownBody(a){if(cnnOverlayOpenId!=cnnOverlayClickedId){cnnHideOverlay(cnnOverlayOpenId);}cnnOverlayClickedId="";return true;}function cnnMouseDown(a){if(cnnDropdownOpen){cnnDD.mouseDownBody(a);}if(cnnOverlayMenuOpen){cnnOverlayMouseDownBody(a);}return true;}function cnnInitOverlay(){document.body.onmousedown=cnnMouseDown;cnnAddOverlayEvents("cnnOverlayLnk");}var cdn_prefix="http://web.archive.org/web/20141022083301/http://i.cdn.turner.com/cnn/";function cnn_EleObjs(a){if(typeof(a)=="string"){if(document.getElementById){a=document.getElementById(a);}else{if(document.all){a=document.all[a];}else{a=null;}}}return a;}function cnnRenderTimeStamp(k,b){var g;var s=(location.hostname.indexOf("edition.")>-1)?true:false;cnnStoryPublishTime=(k)?new Date(k):cnnStoryPublishTime;var q=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"];var d=["January","February","March","April","May","June","July","August","September","October","November","December"];var f=cnnCurrTime.getTime()-cnnStoryPublishTime.getTime();var c=Math.floor(f/1000/60/60/24);f-=c*1000*60*60*24;var a=Math.floor(f/1000/60/60);f-=a*1000*60*60;var r=Math.floor(f/1000/60);f-=r*1000*60;var e=(c>1)?"days":"day";var h=(a>1)?"hours":"hour";var l=(r>1)?"minutes":"minute";var p="min";var m="";var n="";if(b){m=(s)?b[0]:b[1];}else{m="updated "+(!s?q[cnnStoryPublishTime.getUTCDay()]:"")+" "+d[cnnStoryPublishTime.getUTCMonth()]+" "+cnnStoryPublishTime.getUTCDate()+", "+cnnStoryPublishTime.getUTCFullYear();}if((a>4&&c>=0)||c>=1){switch(pagetypeTS){case"homepage":g=n;break;case"mosaic":g='<div class="cnnGryTmeStmp">'+m+"</div>";break;case"search_07":if(c<1){if(r>0){g='<span class="cnnContentTimeStampGrey">updated '+a+" "+h+", "+r+" "+l+" ago</span>";}else{g='<span class="cnnContentTimeStampGrey">updated '+a+" "+h+" ago</span>";}}else{if(c<3){g='<span class="cnnContentTimeStampGrey">updated '+c+" "+e+" ago</span>";}else{g='<span class="cnnContentTimeStampGrey">'+m+"</span>";}}break;default:if(pagetypeTS=="section"&&s){g='<div class="cnnGryTmeStmp">'+m+"</div>";}else{g='<div class="cnnGryTmeStmp">updated '+(!s?q[cnnStoryPublishTime.getUTCDay()]:"")+" "+d[cnnStoryPublishTime.getUTCMonth()]+" "+cnnStoryPublishTime.getUTCDate()+", "+cnnStoryPublishTime.getUTCFullYear()+"</div>";}}}else{if(a<=4&&a>=1){switch(pagetypeTS){case"homepage":g=n;break;case"search_07":if(r>0){g='<span class="cnnContentTimeStampGrey">updated '+a+" "+h+", "+r+" "+l+" ago</span>";}else{g='<span class="cnnContentTimeStampGrey">updated '+a+" "+h+" ago</span>";}break;default:if(r>0){g='<div class="cnnGryTmeStmp">updated '+a+" "+h+", "+r+" "+l+" ago</div>";}else{g='<div class="cnnGryTmeStmp">updated '+a+" "+h+" ago</div>";}}}else{switch(pagetypeTS){case"homepage":if(a<1&&r>0){g="<span>"+r+" min</span>";}else{g="<span>1 min</span>";}break;case"search_07":if(a<1&&r>0){g='<span class="cnnContentTimeStamp">updated '+r+" "+l+" ago</span>";}else{g='<span class="cnnContentTimeStamp">updated 1 minute ago</span>';}break;default:if(a<1&&r>0){g="updated "+r+" "+l+" ago";}else{g="updated 1 minute ago";}}}}return g;}function cnn_clsbnbnnr(a){$("cnnBannerContainer").style.display="none";document.cookie="bannerLastClosed="+a+"; path=/; domain=cnn.com";}function cnnRenderGenericBanner(b,d,e,k){var l,c,h,a,f;if(document.cookie.length>0){h="bannerLastClosed";c=document.cookie.indexOf(h+"=");if(c!=-1){c=c+h.length+1;l=document.cookie.indexOf(";",c);if(l==-1){l=document.cookie.length;}a=unescape(document.cookie.substring(c,l));f=b.id;if(parseInt(a,10)>=parseInt(f,10)){return"<!-- Breaking news banner not updated since "+b.id+" -->";}}}var g='<div class="cnn_maincntnr" style="margin-top:6px;"><div class="cnn_contentarea"><div class="cnn_sdbx"><div class="cnn_sdbx1"><div class="cnn_sdbx2"><div class="cnn_sdbx3"><div class="cnn_sdbx4"><div class="cnn_sdbx5"><div class="cnn_sdbxcntnt"><div id="cnn_bnbcntr"><div id="cnn_bnblft">';if(swfobject.hasFlashPlayerVersion("8.0.0")){g+='<object id="cnnAnimatedBannerTitle" height="52" width="156" data="'+d+'" pluginspage="http://web.archive.org/web/20141022083301/http://www.macromedia.com/go/getflashplayer" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" type="application/x-shockwave-flash">';g+='<param value="'+d+'" name="movie"/>';g+='<param value="false" name="menu"/>';g+='<param value="high" name="quality"/>';g+='<param value="always" name="allowScriptAccess"/>';g+='<param value="transparent" name="wmode"/>';g+='<embed height="52" width="156" wmode="transparent" allowscriptaccess="always" quality="high" menu="false" src="'+d+'" name="cnnAnimatedBannerTitle" pluginspage="http://web.archive.org/web/20141022083301/http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash"/></object>';}else{g+='<img height="70" width="120" src="'+cdn_prefix+'/.element/img/3.0/main/breakingnews.gif">';}g+='</div><div id="cnn_bnbrgt0"></div><div id="cnn_bnbrgt1"><div>'+b.content+"&nbsp;";if(typeof(b.linkTitle)!="undefined"){g+='<a id="cnn_bnbrgt3" style="opacity: 1; filter: alpha(opacity = 100);" href="'+b.linkURL+'">'+b.linkTitle+"</a>";}g+="</div></div>";g+='<div id="cnn_bnbrgt2" style="opacity: 1; filter: alpha(opacity = 100);"><a href="javascript:cnn_clsbnbnnr('+b.id+');"><div id="cnn_bnbrgt4">';g+="</div></a></div></div>";return g;}function cnnRenderDomesticBanner(a){var d=cdn_prefix+"/.element/swf/3.0/breaking.news/yellowBanner2.swf";var b="";var c="";switch(a.type){case"Live Breaking News":b="cnnYellow";c="cnnBlack";break;case"Breaking News":b="cnnBlack";c="cnnYellow";img="breaking-120x70.png";break;case"Live Developing Story":b="cnnRed";c="cnnBlack";d="http://web.archive.org/web/20141022083301/http://i2.cdn.turner.com/cnn/.element/swf/2.0/breaking_news/bn_dev_domestic.swf";break;case"Developing Story":b="cnnBlack";c="cnnRed";break;case"Watch Now":b="cnnBlue";c="cnnBlue";break;case"Live Election Coverage":b="cnnBlackElex";c="cnnDrkBlue";break;case"Live Inauguration Coverage":b="cnnBlackElex";c="cnnDrkGry";break;case"Connect with CNN":b="cnnBlue";c="cnnBlack";d="http://web.archive.org/web/20141022083301/http://i2.cdn.turner.com/cnn/.element/swf/2.0/breaking_news/bn_connectWithCNN.swf";break;case"Live Now (sponsored)":b="cnnBlue";c="cnnBlack";d="http://web.archive.org/web/20141022083301/http://i2.cdn.turner.com/cnn/.element/swf/2.0/breaking_news/bn_liveNow.swf";break;case"Live Now":b="cnnBlue";c="cnnBlack";d="http://web.archive.org/web/20141022083301/http://i2.cdn.turner.com/cnn/.element/swf/2.0/breaking_news/bn_liveNow.swf";break;default:return"";}return cnnRenderGenericBanner(a,d,b,c);}function cnnRenderInternationalBanner(a){var d=cdn_prefix+"/.element/swf/3.0/breaking.news/yellowBanner2.swf";var b="";var c="";switch(a.type){case"Live Breaking News":b="cnnYellow";c="cnnBlack";
break;case"Breaking News":b="cnnBlack";c="cnnYellow";break;case"Live Developing Story":b="cnnYellow";c="cnnBlack";d=cdn_prefix+"/.element/swf/2.0/breaking_news/bn_dev.swf";break;case"Developing Story":b="cnnBlack";c="cnnYellow";break;case"Watch Now":b="cnnBlue";c="cnnBlue";break;case"Connect with CNN":b="cnnBlue";c="cnnBlack";d=cdn_prefix+"/.element/swf/2.0/breaking_news/bn_connectWithCNN.swf";break;case"Live Now (sponsored)":b="cnnBlue";c="cnnBlack";d=cdn_prefix+"/.element/swf/2.0/breaking_news/bn_liveNow.swf";break;case"Live Now":b="cnnBlue";c="cnnBlack";d=cdn_prefix+"/.element/swf/2.0/breaking_news/bn_liveNow.swf";break;default:return"";}return cnnRenderGenericBanner(a,d,b,c);}var VBS_Result=false;function CNN_FlashDetect(){}CNN_FlashDetect.prototype.maxVersionToDetect=10;CNN_FlashDetect.prototype.minVersionToDetect=3;CNN_FlashDetect.prototype.hasPlugin=(navigator.mimeTypes&&navigator.mimeTypes.length&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin);CNN_FlashDetect.prototype.hasActiveX=window.ActiveXObject;CNN_FlashDetect.prototype.hasWinIE=(navigator.userAgent&&(navigator.userAgent.indexOf("MSIE")!=-1)&&navigator.appVersion&&(navigator.appVersion.indexOf("Win")!=-1));CNN_FlashDetect.prototype.getVersion=function(){var b=0;var f=0;if(this.hasActiveX){var c=false;for(f=this.maxVersionToDetect;f>=this.minVersionToDetect&&!c;b=(c?f:b),f--){try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+f);}catch(g){}}}else{if(this.hasWinIE){VBS_Result=false;for(f=this.maxVersionToDetect;f>=this.minVersionToDetect&&!VBS_Result;b=(VBS_Result?f:b),f--){execScript('on error resume next: VBS_Result = IsObject( CreateObject( "ShockwaveFlash.ShockwaveFlash.'+f+'" ) )',"VBScript");}}else{if(this.hasPlugin){if(navigator.plugins&&navigator.plugins.length&&navigator.plugins["Shockwave Flash"]){var h=navigator.plugins["Shockwave Flash"].description.split(" ");var d=0,a;do{a=parseInt(h[d],10);if(!isNaN(a)){b=a;}d+=1;}while(isNaN(a)&&d<h.length);}}}}return(b);};CNN_FlashDetect.prototype.detectVersion=function(b){var a=false;if(!isNaN(b)){a=(parseInt(this.getVersion(),10)>=parseInt(b,10));}return(a);};function CNN_FlashObject(b,a,e,d,c,f){this.m_name=b;this.m_src=a;this.m_width=e;this.m_height=d;this.m_flashVars=f;if(c){this.setParams(c);}}CNN_FlashObject.prototype.m_name="";CNN_FlashObject.prototype.m_src="";CNN_FlashObject.prototype.m_width="";CNN_FlashObject.prototype.m_height="";CNN_FlashObject.prototype.m_flashVars="";CNN_FlashObject.prototype.m_params={menu:"false",quality:"high",allowScriptAccess:"always",wmode:"transparent"};CNN_FlashObject.prototype.setParam=function(a,b){this.m_params[a]=b;};CNN_FlashObject.prototype.setParams=function(a){var b;if(typeof a==="object"){for(b in a){if(a.hasOwnProperty(b)){if(a[b]){this.setParam(b,a[b]);}}}}};CNN_FlashObject.prototype.getParam=function(a){return(this.m_params[a]);};CNN_FlashObject.prototype.getParams=function(){return(this.m_params);};CNN_FlashObject.prototype.getFlashVarsString=function(){var a="",b;if(typeof this.m_flashVars==="string"){a=this.m_flashVars;}else{if(typeof this.m_flashVars==="object"){for(b in this.m_flashVars){if(this.m_flashVars.hasOwnProperty(b)){if(a!==""){a+="&";}a+=b+"="+escape(this.m_flashVars[b]);}}}}return a;};CNN_FlashObject.prototype.getAttributeString=function(a,b){return(b?" "+a+'="'+b+'"':"");};CNN_FlashObject.prototype.getParamTag=function(a,b){return(b?'<param name="'+a+'" value="'+b+'">':"");};CNN_FlashObject.prototype.getHtml=function(){var b="";var a="";var c="http://web.archive.org/web/20141022083301/http://www.macromedia.com/go/getflashplayer";b+='<object type="application/x-shockwave-flash" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"';b+=this.getAttributeString("pluginspage",c);b+=this.getAttributeString("id",this.m_name);b+=this.getAttributeString("data",this.m_src);b+=this.getAttributeString("width",this.m_width);b+=this.getAttributeString("height",this.m_height);b+=">";b+=this.getParamTag("movie",this.m_src);for(a in this.getParams()){if(this.getParams().hasOwnProperty(a)){b+=this.getParamTag(a,this.getParam(a));}}b+=this.getParamTag("flashVars",this.getFlashVarsString());b+='<embed type="application/x-shockwave-flash"';b+=this.getAttributeString("pluginspage",c);b+=this.getAttributeString("name",this.m_name);b+=this.getAttributeString("src",this.m_src);b+=this.getAttributeString("width",this.m_width);b+=this.getAttributeString("height",this.m_height);for(a in this.getParams()){if(this.getParams().hasOwnProperty(a)){b+=this.getAttributeString(a,this.getParam(a));}}b+=this.getAttributeString("flashVars",this.getFlashVarsString());b+=">";b+="</embed>";b+="</object>";return(b);};CNN_FlashObject.prototype.writeHtml=function(){document.write(this.getHtml());};CNN_FlashObject.prototype.writeMosaicHtml=function(a){document.getElementById(a).innerHTML=this.getHtml();};if(location.hostname.indexOf("cnn.com")>0){cnnDocDomain="cnn.com";}if(location.hostname.indexOf("turner.com")>0){cnnDocDomain="turner.com";}if(cnnDocDomain){document.domain=cnnDocDomain;}var cnnStrInvalidSrchMsg="Please enter a valid search term and try again."+"\n"+"HTML, URLs, and Scripts are not allowed.";function cnnLeftTrim(a){while(a.substring(0,1)==" "){a=a.substring(1,a.length);}return a;}function cnnGetSearchLoc(){var a="http://web.archive.org/web/20141022083301/http://www.cnn.com/search/?";if((location.hostname.indexOf("qai")!=-1)||(location.hostname.indexOf("dev")!=-1)||(location.hostname.indexOf("localhost")!=-1)){a="http://q"+"a"+"i"+"."+"c"+"n"+"n"+"."+"c"+"o"+"m"+"/search/?";}return a;}function cnnVerifySearchString(b){var a=/\[\w*|\W*\]*<\[\[\w*|\W*\]*|\/\[\w*|\W*\]\]>\[\w*|\W*\]*/;if(a.exec(b)||(b==null)||(cnnLeftTrim(b).length==0)||(b.indexOf(">")>=0)||(b.indexOf(";")>=0)){return false;}else{return true;}}function cnnSearch(a){return true;}function cnnFootSearch(a){return true;}var cnnPSproducts="";var cnnProducts=[];var html5Check=navigator.userAgent.indexOf("iPad")!==-1||navigator.userAgent.indexOf("iPhone")!==-1;if(typeof CNN==="undefined"){var CNN=Class.create();}if(typeof CNN.tracking==="undefined"){CNN.tracking={};}CNN.tracking.cnn_wpBlogPing=function(){var b=window.location.href;var a='<img src="http://web.archive.org/web/20141022083301/http://www.cnn.com/images/tracking/wpblog.gif?loc='+encodeURIComponent(b)+'" class="cnn-tracking-img" width="1" height="1">';$$("body")[0].insert(a);};CNN.Html5Video=(function(){var b=[];var a=function(c){c.each(function(d){d[0].replace('<iframe src="http://web.archive.org/web/20141022083301/http://cnn.com/video/iframeReceiver.html?videoId='+d[1]+'" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" vspace="0" hspace="0" width="416" height="234"></iframe>');});};return{init:function(){if(html5Check){$$("object").each(function(c){c.select("param").each(function(d){if(d.readAttribute("name")==="movie"&&d.readAttribute("value").indexOf("videoId")!="-1"&&d.readAttribute("value").indexOf("turner.com")!="-1"){b.push([c,d.readAttribute("value").toQueryParams().videoId]);}});});if(cnnClass4UnMounted&&cnnVID4UnMounted){$$("span."+cnnClass4UnMounted).each(function(c){if(c.readAttribute(cnnVID4UnMounted)){b.push([c,c.readAttribute(cnnVID4UnMounted)]);}});}if(b.length){a(b);}}}};}());if(location.hostname.match(/^[a-zA-Z0-9]+\.blogs\.cnn\.com$/)||location.hostname.match(/^(eatocracy|cnnespanol|live|cnnradio)\.cnn\.com$/)){document.observe("dom:loaded",function(){CNN.Html5Video.init();CNN.tracking.cnn_wpBlogPing();});}if(Object.isUndefined(cnn_metadata)){var cnn_metadata={"section":[],"friendly_name":"","template_type":"","business":{"cnn":{"page":{"broadcast_franchise":""},"video":{}}},"user":{"authenticated":"","segment":{"age":"","zip":"","gender":""}}};}if(allCookies.CNN_memberID){cnn_metadata.user.authenticated=1;}Event.observe(window,"load",function(){if($("cnn_GallerySliderContainer")&&typeof cnn_SectionGallery!=="object"){cnn_SectionGallery=new cnn_GallerySlider();}if($("cnn_Gallery2SliderContainer")&&typeof cnn_SectionGallery2!=="object"){cnn_SectionGallery2=new cnn_GallerySlider({galleryContainerId:"cnn_Gallery2SliderContainer",galleryTabContainerId:"cnnGallery2Tabs",nextButtonContainerId:"cnn_fabcnext2",prevButtonContainerId:"cnn_fabcprev2",galleryAdPrefix:"gallery2_"});
}cnnInitOverlay();});if(typeof(window.com)==="undefined"){var com={};}if(!com.cnn){com.cnn={};}if(!com.cnn.blogs){com.cnn.blogs={};}if(!com.cnn.blogs.featuredPosts){com.cnn.blogs.featuredPosts={};}if(!com.cnn.blogs.featuredPosts.util){com.cnn.blogs.featuredPosts.util={};}com.cnn.blogs.featuredPosts.FeaturedPosts=(typeof Class==="object")?Class.create():{};com.cnn.blogs.featuredPosts.FeaturedPosts.prototype=Object.extend(new cnnHorizontalSlider(),{initialize:function(b){this.config=b;this.defaults={galleryContainerId:"cnn_GallerySliderContainer",galleryStripClass:"cnn_fabcaslab",nextButtonContainerId:"cnn_fabcnext",prevButtonContainerId:"cnn_fabcprev",displayWidth:944};this.settings=Object.extend(this.defaults,this.config);try{this.elIdentifier=this.settings.galleryStripClass;this.container=this.settings.galleryContainerId;this.navDiv=this.settings.navContainer;this.viewPort=this.settings.displayWidth;this.currentTab=this.settings.currentTab||0;}catch(c){}try{this.locked=false;this.sliderWidth=this.findPanels();this.numScreens=this.sliderWidth;this.negativeOffSetMax=this.setOffSet();this.positiveOffSetMax=0;this.currentPanel=0;this.inactiveDot="";this.activeDot="";this.setSliderWidth();this.buildNav();this.getCurrentOffSet();this.showImages("init");}catch(a){}},showImages:function(a){var b=a?$(this.settings.galleryContainerId).down():$(this.settings.galleryContainerId);b.select(".cnn_fabcatz img").each(function(c){if(c.className==="cnnContentImg"&&c.style.display!=="block"){c.style.display="block";}});},buildNav:function(){var b,a;b=$(this.settings.prevButtonContainerId);a=$(this.settings.nextButtonContainerId);b.className="cnn_fabcprv_off";a.className=this.sliderWidth>1?"cnn_fabcnxt":"cnn_fabcnxt_off";if(this.sliderWidth>1){b.observe("click",this.slidePrev.bind(this));a.observe("click",this.slideNext.bind(this));}},slideNext:function(){if((this.currentPanel+1)<this.numScreens){this.btnSlide(this.currentPanel+1);}},slidePrev:function(){if(this.currentPanel>0){this.btnSlide(this.currentPanel-1);}},updateNav:function(){if((this.currentPanel+1)<this.numScreens){$(this.settings.nextButtonContainerId).className="cnn_fabcnxt";}else{$(this.settings.nextButtonContainerId).className="cnn_fabcnxt_off";}if(this.currentPanel>0){$(this.settings.prevButtonContainerId).className="cnn_fabcprv";}else{$(this.settings.prevButtonContainerId).className="cnn_fabcprv_off";}},resetSlider:function(b){var c=this,a=$(c.settings.galleryContainerId).up();Effect.Fade(this.container,{duration:0.5,afterFinish:function(){$(c.container).remove();var d=document.createElement("div");d.setAttribute("style","display:none");d.setAttribute("id",c.settings.galleryContainerId);a.appendChild(d);$(c.container).update(b);c.initialize(Object.extend(c.settings,{currentTab:c.currentTab}));Effect.Appear(c.container,{duration:0.5});}});},varDefined:function(val){var t,expression;expression="t = (typeof("+val+') !== "undefined");';eval(expression);return t;},returnVarValue:function(val){return eval(val);}});com.cnn.blogs.featuredPosts.util.transformList=function(e){var c,m,b,k,a,f,d,g,l,h;c=Object.extend({galleryContainerId:"cnn_GallerySliderContainer",galleryStripClass:"cnn_fabcaslab",galleryCatClass:"cnn_fabcatz",size:4},e);m=$$("#"+c.galleryContainerId+" ul li").inGroupsOf(c.size);b=m.inject([],function(n,o){k=o.inject([],function(q,p,r){a=(r+1)%c.size===0?" cnnLast":"";if(p===null){return q;}f=p.down().href;d=p.down().down().remove();g="<b><a href='"+f+"'>"+p.down().innerHTML+"</a></b>";p.down().update("");p.down().insert(d);d=p.down().remove();l=p.innerHTML;h="<div class='cnnBlurb'>"+g+l+"</div>";p.update(d);p.insert(h);q+="<div class='"+c.galleryCatClass+a+"'><div class='cnnGrad'>"+p.innerHTML+"</div></div>";return q;});n+="<div class='"+c.galleryStripClass+"'>"+k+"</div>";return n;});$(c.galleryContainerId).update(b);};function CSIManager(){if((CSIManager.caller&&CSIManager.getInstance)&&(CSIManager.caller!=CSIManager.getInstance)){if((navigator.userAgent.indexOf("Safari")==-1)&&(navigator.userAgent.indexOf("Opera")==-1)){throw new Error("There is no public constructor for CSIManager.");}}this.CSIObjects=new Array();this.delayedCSIList=new Array();this.domIDConfig=new Array();this.domOnLoad=new Array();this.domOnBeforeLoad=new Array();this.useDelayedCSI=false;this.numberofRequests=0;var a=new Date();this.iframeOffset=0;this.queueAllCalls=false;this.queuedCallArray=new Array();this.eventTypes=new Array();this.currentEventType="";this.eventTypeFunctions=new Array();this.watchEventTypeNodes=new Array();this.isPolling=false;this.pollingInterval=10000;this.minimumInterval=9999;this.domRefreshHook=false;this.pollingUrl=false;var d=navigator.userAgent.toLowerCase();if((d.indexOf("msie")>-1)&&(d.indexOf("mac")>-1)){this.useDelayedCSI=true;}this.dojoSupport=(typeof dojo=="undefined")?false:true;this.prototypeSupport=(typeof Prototype=="undefined")?false:true;this.noFramework=(!this.dojoSupport&&!this.prototypeSupport)?true:false;var e=this;var c=function(){e.initialize();};var b=function(g){if(g.persisted){window.setTimeout("CSIManager.getInstance().delayedProcessing();",2000);}};if(this.prototypeSupport){Event.observe(window,"load",c);Event.observe(window,"pageshow",b);}else{if(this.dojoSupport){dojo.addOnLoad(c);}else{if(this.noFramework){if(window.addEventListener){window.addEventListener("load",c,false);window.addEventListener("pageshow",b,false);}else{if(window.attachEvent){window.attachEvent("onload",c);}else{var f=null;if(window.onload){f=window.onload;}window.onload=function(){c();if(f!=null){f();}};}}}}}}CSIManager.prototype.initialize=function(){if(!this.useDelayedCSI){this.queueAllCalls=true;var a=document.createElement("div");a.setAttribute("id","csimanagerdiv");document.body.appendChild(a);var a=document.createElement("div");a.setAttribute("id","csimanagerdivdelayed");document.body.appendChild(a);this.useDelayedCSI=true;this.queueAllCalls=false;this.processAnyQueuedCalls();this.queuedCallArray=null;}};CSIManager.prototype.processAnyQueuedCalls=function(){if(this.queuedCallArray&&this.queuedCallArray!=null){for(var b=0;b<this.queuedCallArray.length;b++){var a=this.queuedCallArray[b];this.queuedCallArray[b]="";if(a){this.call(a.url,a.args,a.domId,a.funcObj,a.breakCache,a.overrideID);}}}};CSIManager.__instance__=null;CSIManager.getInstance=function(){if(this.__instance__==null){this.__instance__=new CSIManager();}return this.__instance__;};CSIManager.prototype.addOnLoadById=function(c,b){var a=this.domOnLoad[c];if(!a){a=new Array();}a.push(b);this.domOnLoad[c]=a;};CSIManager.prototype.addOnBeforeLoadById=function(c,b){var a=this.domOnBeforeLoad[c];if(!a){a=new Array();}a.push(b);this.domOnBeforeLoad[c]=a;};CSIManager.prototype.setConfigForId=function(b,a){this.domIDConfig[b]=a;};CSIManager.prototype.getConfigForId=function(b){var a=this.domIDConfig[b];if(!a){a=new Object();}return a;};CSIManager.prototype.registerEventType=function(b,a){if(b&&a){this.eventTypes[b]=a;}};CSIManager.prototype.callObject=function(callObj,eventType){var resultObj;var url;var args;var domId;var decoratingFunction;var breakCache;var overrideID;var callEventType=eventType;var forcediframe;this.currentEventType=eventType;if(callObj){resultObj=callObj;url=resultObj.url;args=resultObj.args;domId=resultObj.domId;funcObj=resultObj.funcObj;breakCache=resultObj.breakCache;overrideID=resultObj.overrideID;forcediframe=resultObj.isIframeForced;if(this.queueAllCalls){var queuedObj=new Object();queuedObj.url=url;queuedObj.args=args;queuedObj.domId=domId;queuedObj.funcObj=funcObj;queuedObj.breakCache=breakCache;queuedObj.overrideId=overrideId;this.queuedCallArray.push(queuedObj);}else{if((!this.useDelayedCSI)&&(document&&document.readyState&&(document.readyState=="complete"))){this.initialize();}if(forcediframe===undefined||forcediframe===false){forcediframe=false;if(url.indexOf("http")==0){forcediframe=true;if(url.indexOf(window.location.hostname)>-1){forcediframe=false;}}}this.numberofRequests++;var internalDomId="csi"+(this.iframeOffset+this.numberofRequests);
if(overrideID){internalDomId=overrideID;}var domList=new Array();var functionList=new Array();if(url.indexOf(document.domain)==-1&&url.indexOf("http")>-1){return false;}if(domId.join){domList=domId;}else{domList.push(domId);}if(funcObj){if(funcObj.join){functionList=funcObj;}else{functionList.push(funcObj);}}this.CSIObjects[internalDomId]={functionList:functionList,dom:domList,url:url,args:args,csiRequestNum:this.numberofRequests,disableCache:breakCache};var newCSI=new Object();newCSI.src=url;newCSI.id=internalDomId;newCSI.domId=domList;newCSI.args=args;newCSI.breakCache=breakCache;newCSI.csiRequestNum=this.numberofRequests;this.delayedCSIList[this.delayedCSIList.length]=newCSI;var today=new Date();var currTime=today.getTime()%60;var iframeArgs=(breakCache)?"time="+currTime:"";if(args){iframeArgs=(iframeArgs)?iframeArgs+"&":"";iframeArgs+=args;}if(forcediframe===false){try{if(funcObj){var xhrObject=null;if(this.dojoSupport){try{if(navigator.userAgent.toLowerCase().indexOf("msie 7.0")!=-1){throw new Error("NoDojoSupport");}var bindArgs={url:url+"?"+iframeArgs+"&csiID="+internalDomId,mimetype:"text/html",transport:"IframeTransport"};xhrObject=dojo.io.bind(bindArgs);}catch(err){throw new Error("DojoFailure");}}else{if(this.prototypeSupport){try{if(navigator.userAgent.toLowerCase().indexOf("safari")!=-1){throw new Error("SafariCrossDomainFailure");}var csiMgr=this;xhrObject=new Ajax.Request(url,{method:"get",parameters:iframeArgs+"&csiID="+internalDomId,onComplete:function(response){if(response&&response.responseText&&response.responseText.indexOf('id="jsCode"')!=-1){var startStr='id="jsCode"';var startPos=response.responseText.indexOf(startStr)+startStr.length;var firstSlice=response.responseText.slice(startPos,response.responseText.indexOf("</textarea>"));var beginningNode=firstSlice.indexOf(">")+1;var myCode=firstSlice.substring(beginningNode);var obj=eval("("+myCode+")");csiMgr.callBackJS(obj,internalDomId);}if(response&&(!response.responseText)){callObj.isIframeForced=true;CSIManager.getInstance().callObject(callObj,eventType);}},onException:function(x,o){throw new Error("PrototypeException for url ["+url+"]: "+o.messageText);},onFailure:function(x,o){throw new Error("PrototypeFailure");}});}catch(err){throw new Error("PrototypeFailure");}}else{throw new Error("NoXHRFramework");}}}else{throw new Error("NoCallBackFunction");}}catch(err){forcediframe=true;}}if(forcediframe){if(this.useDelayedCSI){var realIframeUrl=url+"?"+iframeArgs+"&csiID="+internalDomId;var iframeObj=document.createElement("iframe");iframeObj.setAttribute("src",realIframeUrl);iframeObj.setAttribute("id","csiDataIframe"+internalDomId);iframeObj.setAttribute("name","csiDataIframe"+internalDomId);iframeObj.setAttribute("width","10");iframeObj.setAttribute("height","10");iframeObj.setAttribute("style","visibility:hidden;position:absolute;top:0px;left:-100px;");iframeObj.style.top="0px";iframeObj.style.left="-100px";iframeObj.style.position="absolute";var containerDiv=document.createElement("div");containerDiv.setAttribute("id","csiIframeObjs"+internalDomId);containerDiv.appendChild(iframeObj);if(document.getElementById("csimanagerdiv")){document.getElementById("csimanagerdiv").appendChild(containerDiv);if(navigator.userAgent.indexOf("MSIE")!=-1){window.setTimeout("var tmpIframObj=document.getElementById('csiDataIframe"+internalDomId+"');if(tmpIframObj.readyState=='uninitialized'){tmpIframObj.src=tmpIframObj.getAttribute('src');tmpIframObj.position='absolute';tmpIframObj.style.left='-100px';}",500);}}}else{var iframeHtmlSrc='<div id="csiIframeObjs'+internalDomId+'"><iframe src="'+url+"?"+iframeArgs+"&csiID="+internalDomId+'" name="csiDataIframe'+internalDomId+'" id="csiDataIframe'+internalDomId+'" width="10" height="10" style="visibility:hidden;position:absolute;top:0px;left:-100px;"></iframe></div>';document.write(iframeHtmlSrc);}}}}};CSIManager.prototype.call=function(a,g,c,b,h,d,k,e){var f=new Object();f.url=a;f.args=g;f.domId=c;f.funcObj=b;f.breakCache=h;f.overrideID=d;f.isIframeForced=e;revertToCallObject(f,k);};CSIManager.prototype.callBackHtml=function(b,e){var a=false;if(document.getElementById){a=document.getElementById(e);if(!a){if(this.CSIObjects[e]&&this.CSIObjects[e].dom){e=this.CSIObjects[e].dom;a=document.getElementById(e);}}}else{if(document.all){a=document.all[e];if(!a){if(this.CSIObjects[e]&&this.CSIObjects[e].dom){e=this.CSIObjects[e].dom;a=document.all[e];}}}}if(a){a.innerHTML=b;}var c=0;if(c){var d=c.style.top||"0px";c.style.top="1px";c.style.top=d;}};CSIManager.prototype.callBackJS=function(p,n){if(this.CSIObjects[n]){var b=this.CSIObjects[n].functionList;var m=this.CSIObjects[n].dom;if(b){var q=b.length;var c=m.length;if(q!=c){if(c<q){var l=m[c-1];for(var g=c;g<q;g++){m.push(l);}c=m.length;}else{var a=b[q-1];for(var g=q;g<c;g++){b.push(a);}q=b.length;}}for(var h=0;h<b.length;h++){var k=b[h];if(k){var e=this.getConfigForId(m[h]);var o=this.domOnBeforeLoad[m[h]];if(o){for(var g=0;g<o.length;g++){var d=o[g];d(p,m[h],e);}}this.callBackHtml(k(p,m[h],e,this.currentEventType),m[h]);var f=this.domOnLoad[m[h]];if(f){for(var g=0;g<f.length;g++){var d=f[g];d(p,m[h],e);}}}}this.CSIObjects[n]="";}}};CSIManager.prototype.delayedProcessing=function(){if(document.body&&document.body.innerHTML&&this.useDelayedCSI){var d=document.getElementById("csimanagerdivdelayed")||document.all["csimanagerdivdelayed"];var k="";for(var f=0;f<this.delayedCSIList.length;f++){var a=this.delayedCSIList[f].src;var b=this.delayedCSIList[f].id;var h=new Date();var g=this.delayedCSIList[f].breakCache;var c=h.getTime()%60;var e=(g)?"&time="+c:"";if(this.delayedCSIList[f].args){e=e+"&"+this.delayedCSIList[f].args;}k+='<iframe src="'+a+"?csiID="+b+e+'" name="csiDataIframe'+b+'" id="csiDataIframe'+b+'" width="10" height="10" style="visibility:hidden;position:absolute;top:0px;left:-100px;"></iframe>';}if(d){d.innerHTML=k;}}};CSIManager.prototype.handleClientData=function(cliWinbj,cliDoc){var targetWindow=top;try{if(parent.CSIManager){targetWindow=parent;}}catch(err){}var docId="";var paramStr=cliWinbj.location.hash;if(!paramStr){paramStr=cliWinbj.location.search.substring(1);}var queryId="";var keyValPairs=paramStr.split("&");if(!keyValPairs){keyValPairs=new Array();keyValPairs[keyValPairs.length]=query;}for(var counter=0;counter<keyValPairs.length;counter++){var keyVal=keyValPairs[counter].split("=");if(keyVal[0]=="csiID"){queryId=keyVal[1];counter=keyValPairs.length+1;}}var wId="";if(cliWinbj.name&&(cliWinbj.name.indexOf("csiDataIframe")==0)){wId=cliWinbj.name.substring(13);}if(wId==""&&cliWinbj.frameElement&&cliWinbj.frameElement.id&&(cliWinbj.frameElement.id.indexOf("csiDataIframe")==0)){wId=cliWinbj.frameElement.id.substring(13);}docId=wId;if(cliDoc.mainForm.htmlArea&&cliDoc.mainForm.htmlArea.value){var rawHtml=cliDoc.mainForm.htmlArea.value;if(rawHtml){targetWindow.CSIManager.getInstance().callBackHtml(rawHtml,docId);}}else{if(cliDoc.mainForm.jsCode.value){var rawJS=cliDoc.mainForm.jsCode.value;if(rawJS){targetWindow.CSIManager.getInstance().callBackJS(eval("("+rawJS+")"),docId);}}}};CSIManager.prototype.registerEventTypeNode=function(b,a){if(this.eventTypes[a]){this.watchEventTypeNodes[b]=a;}if(!this.isPolling){this.startPoll();}};CSIManager.prototype.setPollingUrl=function(b,a){this.pollingUrl=b;if(a&&a>this.minimumInterval){this.pollingInterval=a;}};CSIManager.prototype.startPoll=function(){if(!this.isPolling&&(this.pollingUrl)){this.pollingId=window.setTimeout("CSIManager.getInstance().poll()",this.pollingInterval);this.isPolling=true;}};CSIManager.prototype.poll=function(){if(!this.domRefreshHook){var a=document.createElement("iframe");this.domRefreshHook=document.body.appendChild(a);}this.domRefreshHook.setAttribute("src",this.pollingUrl);};CSIManager.prototype.handleData=function(d){this.isPolling=false;if(d.intervalTime){if(d.intervalTime>this.minimumInterval){this.pollingInterval=d.intervalTime;}}if(d.entries){for(var a=0;a<d.entries.length;a++){var e=d.entries[a];var c=this.watchEventTypeNodes[e];
if(c){var b=this.eventTypes[c];b(c,e);}}}this.startPoll();};CSIManager.prototype.reset=function(){this.eventTypes=new Array();this.currentEventType="";this.eventTypeFunctions=new Array();this.watchEventTypeNodes=new Array();};CSIManager.getInstance();function revertToCallObject(b,a){CSIManager.getInstance().callObject(b,a);}function StorageManager(){if(StorageManager.caller!=StorageManager.getInstance){if((navigator.userAgent.indexOf("Safari")==-1)&&(navigator.userAgent.indexOf("Opera")==-1)){throw new Error("There is no public constructor for StorageManager.");}}this.ondownloadFunctionArray=new Array();this.onloadFunctionArray=new Array();this.failedStorageOptions=new Array();this.loadComplete=function(){var f=true;try{this.getStorage().put("validationTest","test");var e=this.getStorage().get("validationTest");if(e!="test"){f=false;}this.getStorage().remove("validationTest");}catch(c){f=false;}if(f){var d=this.onloadFunctionArray;for(var b=0;b<d.length;b++){var a=d[b];a(StorageManager.getInstance().getStorage());}}else{this.reselectStorage();}};this.downloadComplete=function(){this.loadComplete();var c=this.ondownloadFunctionArray;for(var b=0;b<c.length;b++){var a=c[b];a(StorageManager.getInstance().getStorage());}};this.addOnLoad=function(a){this.onloadFunctionArray.push(a);};this.addOnDownLoad=function(a){this.ondownloadFunctionArray.push(a);};this.availableStores=new Array();this.addStorageType=function(a){this.availableStores.push(a);};this.currentStorageMechanism=false;this.getStorage=function(){if(this.currentStorageMechanism){return this.currentStorageMechanism;}for(var b=0;b<this.availableStores.length;b++){var a=this.availableStores[b];if((a.isSupported())&&(!this.failedStorageOptions[a.name])){this.currentStorageMechanism=a;this.currentStorageMechanism.initialize();return this.currentStorageMechanism;}}return false;};this.reselectStorage=function(){this.failedStorageOptions[this.getStorage().name]=1;this.currentStorageMechanism=false;this.getStorage();};this.currentSync=false;this.setSyncMechanism=function(a){this.currentSync=a;};this.download=function(){this.getStorage().load();if(this.currentSync){if(this.currentSync.hasUpdatedContent(this.currentStorageMechanism)){this.currentSync.getUpdatedContent(this.currentStorageMechanism);}else{this.downloadComplete();}}};this.mergeNewData=function(c){var e=this.getStorage();var d=this.currentSync.getBaseManagedKey();for(var b=0;b<c.length;b++){var a=c[b];e.put(a.key,a.value);}e.save();this.downloadComplete();};this.upload=function(){if(this.currentSync){var g=this.getStorage();if(g){var f=g.getAllKeys();var b=new Array();var d=this.currentSync.getBaseManagedKey();for(var a=0;a<f.length;a++){var e=f[a].indexOf(d);if(e==0){var c=new Object();c.key=f[a].substring(e);c.value=g.get(f[a]);b.push(c);}}this.currentSync.send(b);}}};}StorageManager.__instance__=null;StorageManager.getInstance=function(){if(this.__instance__==null){this.__instance__=new StorageManager();}return this.__instance__;};function AbstractStorageMechanism(){this.name="AbstractStorage";this.dataObjects;this.keysExpireDates;this.maxCapacity=Number.MAX_VALUE;this.singleEntrymaxCapacity=Number.MAX_VALUE;this.allKeys;this.isSupported=function(){return false;};this.initialize=function(){this.dataObjects=new Array();this.allKeys=new Array();this.keysExpireDates=new Array();};this.setOnload=function(a){StorageManager.getInstance().addOnLoad(a);};this.put=function(b,d,a){try{if(this.dataObjects[b]===undefined||this.dataObjects[b]===false){if(!a){a=new Date(new Date().getTime()+7*24*3600000);}this.keysExpireDates[b]=a;this.allKeys.push(b);}this.dataObjects[b]=d;return true;}catch(c){return false;}};this.get=function(a){return this.dataObjects[a];};this.remove=function(c){if(this.contains(c)){var a=new Array();for(var b=0;b<this.allKeys.length;b++){if(this.allKeys[b]!=c){a.push(this.allKeys[b]);}}this.allKeys=a;this.dataObjects[c]=false;}};this.contains=function(a){if(this.dataObjects[a]){return true;}else{return false;}};this.getAllKeys=function(a){return this.allKeys;};this.save=function(){};this.load=function(){StorageManager.getInstance().loadComplete();};this.clear=function(){};}function CookieStorageMechanism(){this.name="CookieStorage";this.maxCapacity=20480;this.path="/";this.domain="";this.secure=false;this.createCookie=function(key,value,expiration){document.cookie=key+"="+value+((expiration)?(";expires="+expiration):"")+((this.path)?";path="+this.path:"")+((this.domain)?";domain="+this.domain:"")+((this.secure&&(this.secure==true))?"; secure":"");};this.isSupported=function(){return(document.cookie||document.cookie=="");};this.save=function(){this.clear();var allKeys=this.getAllKeys();var lengthCount=0;for(var i=0;i<allKeys.length;i++){var currentKey=allKeys[i];var value=this.get(currentKey);var newObject=new Object();newObject.value=value;newObject.expireDate=(this.keysExpireDates[currentKey]).getTime();dataString=escape(JSON.stringify(newObject));if((lengthCount+dataString.length)>this.maxCapacity){return false;}else{lengthCount+=dataString.length;this.createCookie("js_"+currentKey,dataString,(this.keysExpireDates[currentKey]).toGMTString());}}return true;};this.load=function(){if(document.cookie!=""){var cookieArr=document.cookie.split("; ");for(var i=0;i<cookieArr.length;i++){var key=cookieArr[i].substring(0,cookieArr[i].indexOf("="));if(key.indexOf("js_")==0){storedObject=eval("("+(unescape(cookieArr[i].substring(cookieArr[i].indexOf("=")+1)))+")");key=key.substring(3);this.put(key,storedObject.value,new Date(storedObject.expireDate));}}}StorageManager.getInstance().loadComplete();};this.clear=function(){if(document.cookie!=""){var cookieArr=document.cookie.split("; ");for(var i=0;i<cookieArr.length;i++){var key=cookieArr[i].substring(0,cookieArr[i].indexOf("="));if(key.indexOf("js_")==0){toExpireDateString=(new Date((new Date()).getTime()-(24*60*60*60*1000))).toGMTString();this.createCookie(key,"clear this",toExpireDateString);}}}};}function DOMStorageMechanism(){this.name="DOMStorage";this.maxCapacity=3145728;this.isSupported=function(){return(window.globalStorage&&(window.globalStorage!=null));};this.save=function(){var allKeys=this.getAllKeys();var storedObject=new Array();for(var i=0;i<allKeys.length;i++){var currentKey=allKeys[i];var value=this.get(currentKey);var newObject=new Object();newObject.key=currentKey;newObject.value=value;newObject.expireDate=(this.keysExpireDates[currentKey]).toGMTString();storedObject.push(newObject);}dataString=JSON.stringify(storedObject);if(dataString.length>this.maxCapacity){return false;}else{window.globalStorage[document.domain].storage=dataString;}return true;};this.load=function(){var storedDataObjectsStr=window.globalStorage[document.domain].storage+"";if(storedDataObjectsStr){storedDataObjects=eval("("+storedDataObjectsStr+")");if(storedDataObjects&&storedDataObjects!=""){for(var i=0;i<storedDataObjects.length;i++){var storedObject=storedDataObjects[i];if((new Date(storedObject.expireDate)).getTime()>(new Date().getTime())){this.put(storedObject.key,storedObject.value,new Date(storedObject.expireDate));}}}}StorageManager.getInstance().loadComplete();};this.clear=function(){window.globalStorage[document.domain].storage=JSON.stringify(new Object());};}function LocalStorageMechanism(){this.name="localStorage";this.maxCapacity=5000000;this.key="undefined";this.isSupported=function(){return(window.localStorage&&(window.localStorage!=null));};this.save=function(){var allKeys=this.getAllKeys();var currentSize=0;for(var i=0;i<allKeys.length;i++){var currentKey=allKeys[i];var value=this.get(currentKey);var newObject=new Object();newObject.key=currentKey;newObject.value=value;newObject.expireDate=(this.keysExpireDates[currentKey]).toGMTString();dataString=JSON.stringify(newObject);currentSize+=dataString.length;if(currentSize>this.maxCapacity){return false;}else{window.localStorage.setItem(currentKey,dataString);}}return true;};this.load=function(){if(window.localStorage){var localStorage=window.localStorage;
for(j=0;j<=localStorage.length-1;j++){var key=localStorage.key(j);var storedDataString=localStorage.getItem(key);var storedDataObject;try{storedDataObject=eval("("+storedDataString+")");}catch(e){}if(storedDataObject&&storedDataObject!=""){if((new Date(storedDataObject.expireDate)).getTime()>(new Date().getTime())){this.put(storedDataObject.key,storedDataObject.value,new Date(storedDataObject.expireDate));}}}}StorageManager.getInstance().loadComplete();};this.clear=function(){window.localStorage.clear();};}function IEStorageMechanism(){this.name="IEStorage";this.maxCapacity=65536;this.isSupported=function(){return(navigator.userAgent.indexOf("MSIE")!=-1);};this.initialize=function(){this.dataObjects=new Array();this.allKeys=new Array();this.keysExpireDates=new Array();this.dataHook=false;var a=document.createElement("iframe");a.setAttribute("src","/.element/js/3.0/scripts/IEPersistence.html");a.setAttribute("name","IEPersistence");a.setAttribute("width","10");a.setAttribute("height","10");a.setAttribute("style","visibility:hidden;position:absolute;top:0px;left:-100px;");a.style.top="0px";a.style.left="-100px";a.style.position="absolute";document.documentElement.appendChild(a);};this.load=function(){};this.save=function(){var c=this.getAllKeys();var e=new Array();for(var b=0;b<c.length;b++){var f=c[b];var d=this.get(f);var a=new Object();a.key=f;a.value=d;a.expireDate=(this.keysExpireDates[f]).toGMTString();e.push(a);}dataString=JSON.stringify(e);if(dataString.length>this.maxCapacity){return false;}else{if(this.dataHook&&this.dataHook.saveData){this.dataHook.saveData(JSON.stringify(e));}}return true;};this.clear=function(){this.dataHook.saveData("");};}CookieStorageMechanism.prototype=new AbstractStorageMechanism;DOMStorageMechanism.prototype=new AbstractStorageMechanism;LocalStorageMechanism.prototype=new AbstractStorageMechanism;IEStorageMechanism.prototype=new AbstractStorageMechanism;StorageManager.getInstance().addStorageType(new LocalStorageMechanism());StorageManager.getInstance().addStorageType(new DOMStorageMechanism());StorageManager.getInstance().addStorageType(new IEStorageMechanism());StorageManager.getInstance().addStorageType(new CookieStorageMechanism());var JSON;if(!JSON){JSON={};}(function(){function f(n){return n<10?"0"+n:n;}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}if(typeof rep==="function"){value=rep.call(holder,key,value);}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null";}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null";}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v;}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" ";}}else{if(typeof space==="string"){indent=space;}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":value});};}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");};}}());function cvpSearchTheClient(theObj,thePath){if(theObj===null){theObj=window;}var index=thePath.indexOf(".");if(index==-1){if(thePath.indexOf("(")!=-1&&thePath.indexOf(")")!=-1){return eval("theObj."+thePath);}else{return theObj[thePath];}}var objName=thePath.substring(0,index);var subPath=thePath.substring(index+1);var childObj=theObj[objName];if(objName.indexOf("(")!=-1&&objName.indexOf(")")!=-1){childObj=eval("theObj."+objName);}if(childObj===null){return"";}if(subPath.length<1){return childObj.toString();}return cvpSearchTheClient(childObj,subPath);}(function(){var debug=false;if(typeof window.CVP!="undefined"){log("Warning - CVP.js has already been instantiated on the page...exiting");return;}var VERSION=1.4;var FLASH_VERSION="9.0.115.0";var CVP=window.CVP=function(options){this.options=extend({id:"cvp_player",width:"320",height:"240",flashVars:{},initialize:function(){}},options||{});this.options.embed=extend({containerSwf:"",expressInstallSwf:"http://web.archive.org/web/20141022083301/http://i.cdn.turner.com/v5cache/turnerplayer/flash/expressInstall.swf",flashVersion:FLASH_VERSION},this.options.embed||{});this.options.embed.options=extend({quality:"high",bgcolor:"#000000",allowFullScreen:"true",allowScriptAccess:"always"},this.options.embed.options||{});if(!this.options.embed.containerSwf||this.options.embed.containerSwf==""){log("Invalid containerSwf...exiting");throw"Invalid containerSwf";return;}this.options.initialize();var id=this.options.id,width=this.options.width,height=this.options.height,flashVars=this.options.flashVars,embed=this.options.embed;if(CVP.findInstance(id)||byId(id)){log(id+" is already in use...exiting");throw id+" is already in use";return;}this.getId=function(){return id;};this.getWidth=function(){return width;};this.getHeight=function(){return height;};this.getFlashVars=function(){return flashVars;};this.getEmbed=function(){return embed;};if(!createCallbackHandler(id)){log('callback handler for id "'+id+'" could not be created...exiting');throw'callback handler for id "'+id+'" could not be created...exiting';return;}this.callbacks={};delete this.options.initialize;for(var p in this.options){if(isFunc(this.options[p])){this.callbacks[p]=this.options[p];}}this.handleCallBack=function(){var ret=null;if(arguments.length){var funcName=arguments[0];var args=Array.prototype.slice.call(arguments,1);log("handleCallback - "+funcName+" args("+args.length+")");if(typeof this[funcName]!="undefined"&&isFunc(this[funcName])){try{log("Found internal CB");
ret=this[funcName].apply(this,args);}catch(e){log("Warning - exception on internal CB "+funcName);log("Exception - "+e.message);}}if(this.callbacks[funcName]&&isFunc(this.callbacks[funcName])){try{log("Found user CB");ret=this.callbacks[funcName].apply(this,args);}catch(e){log("Warning - exception on user CB "+funcName);log("Exception - "+e.message);}}}return ret;};var contentId=this.options.flashVars.contentId||"",contentUrl=this.options.flashVars.contentUrl||"",playlistId=this.options.flashVars.playlistId||"",context=this.options.flashVars.context||"",playerInstance=context,contentType="",contentWidth=0,contentHeight=0,duration=0,playhead=0,buffering=false,bufferProgress=0,paused=false;this.getPlayerInstance=function(){return playerInstance;};this.getContentId=function(){return contentId;};this.getContentUrl=function(){return contentUrl;};this.playlistId=function(){return playlistId;};this.getContext=function(){return context;};this.getContentWidth=function(){return contentWidth;};this.getContentHeight=function(){return contentHeight;};this.getDuration=function(){return duration;};this.getPlayhead=function(){return playhead;};this.isBuffering=function(){return buffering;};this.getBufferProgress=function(){return bufferProgress;};this.isPaused=function(){return paused;};this.onContentMetadata=function(pContentId,pDuration,pWidth,pHeight){contentId=pContentId;playhead=0;duration=pDuration;contentWidth=pWidth;contentHeight=pHeight;};this.onContentBegin=function(pContentId){contentId=pContentId;};this.onContentBuffering=function(pBuffering,pBufferProgress){buffering=pBuffering;bufferProgress=pBufferProgress;};this.onContentPlayHead=function(pContentId,pPlayhead,pTotalDuration){playhead=pPlayhead;};this.onContentPause=function(pContentId,pPaused){paused=pPaused;};this.onPlayerReady=function(){playerInstance=this.getPlayer().getPlayerInstance();};CVP.registerInstance(id,this);return this;};CVP.prototype={getPlayer:function(){if(navigator.appName.indexOf("Microsoft")!=-1){return window[this.getId()];}else{return document[this.getId()];}},embedSWF:function(containerElementId){var flashvars=this.getFlashVars();flashvars.domId=this.getId();flashvars.w=this.getWidth();flashvars.h=this.getHeight();var embed=this.getEmbed();var container=embed.containerSwf;var params=embed.options;var express=embed.expressInstallSwf;var version=validateFlashVersion(embed.flashVersion);var attributes={id:this.getId(),name:this.getId()};if(!CVP.swfobject.hasFlashPlayerVersion("1.0.0")){this.handleCallBack("onNoFlashDetected");}CVP.swfobject.embedSWF(container,containerElementId,this.getWidth(),this.getHeight(),version,express,flashvars,params,attributes);return this;},removeSWF:function(){if(CVP.swfobject&&CVP.swfobject.removeSWF){CVP.swfobject.removeSWF(this.getId());}return this;},play:function(id,options){this.getPlayer().playContent(id,options||{});return this;},playVideoFromUrl:function(url){this.getPlayer().playVideoFromUrl(url);return this;},pause:function(){this.getPlayer().pause();return this;},resume:function(){this.getPlayer().resume();return this;},queue:function(id,options){this.getPlayer().queue(id,options||{});return this;},emptyQueue:function(){this.getPlayer().emptyQueue();return this;},seek:function(time){this.getPlayer().seek(time);return this;},mute:function(){this.getPlayer().mute();return this;},unmute:function(){this.getPlayer().unmute();return this;},setVolume:function(volume){this.getPlayer().setVolume(volume);return this;},getVolume:function(){return this.getPlayer().getVolume();},isMuted:function(){return this.getPlayer().isMuted();},showMenu:function(){this.getPlayer().showMenu();return this;},hideMenu:function(){this.getPlayer().hideMenu();return this;},squeeze:function(secs){this.getPlayer().squeeze(secs);return this;},unsqueeze:function(secs){this.getPlayer().unsqueeze(secs);return this;},getContentEntry:function(id){var t_val=null;try{t_val=this.getPlayer().getContentEntry(id);}catch(err){t_val='{ "id" : "" }';}return t_val;},goFullScreen:function(){this.getPlayer().goFullScreen();return this;},getCompanionAd:function(size){return this.getPlayer().getCompanionAd(size);},getAdId:function(){return this.getPlayer().getAdId();},getTileId:function(){return this.getPlayer().getTileId();},setContentQuality:function(quality){this.getPlayer().setContentQuality(quality);return this;},getContentQuality:function(){return this.getPlayer().getContentQuality();},disableToolBar:function(){this.getPlayer().disableToolBar();return this;},enableToolBar:function(){this.getPlayer().enableToolBar();return this;},enableNextUpSlate:function(){this.getPlayer().enableNextUpSlate();return this;},disableNextUpSlate:function(){this.getPlayer().disableNextUpSlate();return this;},startLogging:function(filters){this.getPlayer().startLogging(filters);return this;},resetAdFrequency:function(){this.getPlayer().resetAdFrequency();return this;},setAdCurrentContext:function(strContextName,bGlobalFrequency){this.getPlayer().setAdCurrentContext(strContextName,bGlobalFrequency);return this;},setAdSection:function(section){this.getPlayer().setAdSection(section);return this;},setAdKeyValue:function(key,value){this.getPlayer().setAdKeyValue(key,value);return this;},getAvailableBitrates:function(filter){return this.getPlayer().getAvailableBitrates(filter);},getBitrateLabel:function(bitrateId){return this.getPlayer().getBitrateLabel(bitrateId);},getBitrateId:function(){return this.getPlayer().getBitrateId();},setBitrateId:function(bitrateId){return this.getPlayer().setBitrateId(bitrateId);},setTrackingContext:function(value){this.getPlayer().setTrackingContext(value);return this;},getTrackingContext:function(){return this.getPlayer().getTrackingContext();},pauseNextUpCountdown:function(){this.getPlayer().pauseNextUpCountdown(true);return this;},resumeNextUpCountdown:function(){this.getPlayer().pauseNextUpCountdown(false);return this;}};CVP.version=VERSION;CVP.VIDEO_NOT_FOUND_ERROR="video not found";CVP.VIDEO_XML_NOT_FOUND_ERROR="cms error";CVP.instances={};CVP.registerInstance=function(id,instance){CVP.instances[id]=instance;};CVP.unregisterInstance=function(id){CVP.instances[id]=null;};CVP.findInstance=function(id){return CVP.instances[id];};CVP.onCallback=function(id,args){var instance=CVP.findInstance(id);if(instance){return instance.handleCallBack.apply(instance,args);}else{log("Error - onCallback - unable to find instance "+id);}};CVP.cleanup=function(){for(var inst in CVP.instances){window[inst+"_callback_handler"]=null;CVP.instances[inst]=null;}};addBeforeUnLoadEvent(CVP.cleanup);function createCallbackHandler(id){var funcName=id+"_callback_handler";if(typeof window[funcName]!="undefined"){return false;}window[funcName]=function(){var ret=CVP.onCallback(id,arguments);if(typeof ret!="undefined"){return ret;}};return true;}function byId(id){return document.getElementById(id);}function extend(target,source){for(var p in source){target[p]=source[p];}return target;}function isFunc(f){return typeof f=="function";}function validateFlashVersion(embedVersion){if(embedVersion===FLASH_VERSION){return embedVersion;}if(typeof embedVersion=="undefined"||embedVersion==null){return FLASH_VERSION;}FLASH_VERSION+="";embedVersion+="";var f1=FLASH_VERSION.split(".");f2=embedVersion.split("."),f1V=0,f2V=0;for(var i=0;i<f1.length;i++){f1V=f1[i]*1;f2V=f2[i]*1;if(isNaN(f2V)||f1V>f2V){return FLASH_VERSION;}else{if(f2V>f1V){return embedVersion;}}}return FLASH_VERSION;}function addBeforeUnLoadEvent(func){var oldfunc=window.onbeforeunload;if(typeof window.onbeforeunload!="function"){window.onbeforeunload=func;}else{window.onbeforeunload=function(){if(oldfunc){oldfunc();}func();};}}function log(msg){if(typeof window.console!="undefined"&&window.console.log&&debug){window.console.log("CVP : "+msg);}}CVP.swfobject=function(){var UNDEF="undefined",OBJECT="object",SHOCKWAVE_FLASH="Shockwave Flash",SHOCKWAVE_FLASH_AX="ShockwaveFlash.ShockwaveFlash",FLASH_MIME_TYPE="application/x-shockwave-flash",EXPRESS_INSTALL_ID="SWFObjectExprInst",win=window,doc=document,nav=navigator,domLoadFnArr=[],regObjArr=[],objIdArr=[],listenersArr=[],script,timer=null,storedAltContent=null,storedAltContentId=null,isDomLoaded=false,isExpressInstallActive=false;
var ua=function(){var w3cdom=typeof doc.getElementById!==UNDEF&&typeof doc.getElementsByTagName!==UNDEF&&typeof doc.createElement!==UNDEF,playerVersion=[0,0,0],d=null;if(typeof nav.plugins!==UNDEF&&typeof nav.plugins[SHOCKWAVE_FLASH]===OBJECT){d=nav.plugins[SHOCKWAVE_FLASH].description;if(d&&!(typeof nav.mimeTypes!==UNDEF&&nav.mimeTypes[FLASH_MIME_TYPE]&&!nav.mimeTypes[FLASH_MIME_TYPE].enabledPlugin)){d=d.replace(/^.*\s+(\S+\s+\S+$)/,"$1");playerVersion[0]=parseInt(d.replace(/^(.*)\..*$/,"$1"),10);playerVersion[1]=parseInt(d.replace(/^.*\.(.*)\s.*$/,"$1"),10);playerVersion[2]=/r/.test(d)?parseInt(d.replace(/^.*r(.*)$/,"$1"),10):0;}}else{if(typeof win.ActiveXObject!==UNDEF){var a=null,fp6Crash=false;try{a=new ActiveXObject(SHOCKWAVE_FLASH_AX+".7");}catch(e){try{a=new ActiveXObject(SHOCKWAVE_FLASH_AX+".6");playerVersion=[6,0,21];a.AllowScriptAccess="always";}catch(e2){if(playerVersion[0]===6){fp6Crash=true;}}if(!fp6Crash){try{a=new ActiveXObject(SHOCKWAVE_FLASH_AX);}catch(e3){}}}if(!fp6Crash&&a){try{d=a.GetVariable("$version");if(d){d=d.split(" ")[1].split(",");playerVersion=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)];}}catch(e4){}}}}var u=nav.userAgent.toLowerCase(),p=nav.platform.toLowerCase(),webkit=/webkit/.test(u)?parseFloat(u.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,ie=false,windows=p?(/win/).test(p):(/win/).test(u),mac=p?(/mac/).test(p):(/mac/).test(u);
/*@cc_on
				ie = true;
				@if (@_win32)
					windows = true;
				@elif (@_mac)
					mac = true;
				@end
			@*/
return{w3cdom:w3cdom,pv:playerVersion,webkit:webkit,ie:ie,win:windows,mac:mac};}();var onDomLoad=function(){if(!ua.w3cdom){return;}addDomLoadEvent(main);if(ua.ie&&ua.win){try{doc.write("<scr"+"ipt id=__ie_ondomload defer=true src=//:></scr"+"ipt>");script=getElementById("__ie_ondomload");if(script){addListener(script,"onreadystatechange",checkReadyState);}}catch(e){}}if(ua.webkit&&typeof doc.readyState!==UNDEF){timer=window.setInterval(function(){if(/loaded|complete/.test(doc.readyState)){callDomLoadFunctions();}},10);}if(typeof doc.addEventListener!==UNDEF){doc.addEventListener("DOMContentLoaded",callDomLoadFunctions,null);}addLoadEvent(callDomLoadFunctions);}();function checkReadyState(){if(script.readyState==="complete"){script.parentNode.removeChild(script);callDomLoadFunctions();}}function callDomLoadFunctions(){if(isDomLoaded){return;}if(ua.ie&&ua.win){var s=createElement("span");try{var t=doc.getElementsByTagName("body")[0].appendChild(s);t.parentNode.removeChild(t);}catch(e){return;}}isDomLoaded=true;if(timer){window.clearInterval(timer);timer=null;}var dl=domLoadFnArr.length;for(var i=0;i<dl;i++){domLoadFnArr[i]();}}function addDomLoadEvent(fn){if(isDomLoaded){fn();}else{domLoadFnArr[domLoadFnArr.length]=fn;}}function addLoadEvent(fn){if(typeof win.addEventListener!==UNDEF){win.addEventListener("load",fn,false);}else{if(typeof doc.addEventListener!==UNDEF){doc.addEventListener("load",fn,false);}else{if(typeof win.attachEvent!==UNDEF){addListener(win,"onload",fn);}else{if(typeof win.onload==="function"){var fnOld=win.onload;win.onload=function(){fnOld();fn();};}else{win.onload=fn;}}}}}function main(){var rl=regObjArr.length;for(var i=0;i<rl;i++){var id=regObjArr[i].id;if(ua.pv[0]>0){var obj=getElementById(id);if(obj){regObjArr[i].width=obj.getAttribute("width")?obj.getAttribute("width"):"0";regObjArr[i].height=obj.getAttribute("height")?obj.getAttribute("height"):"0";if(hasPlayerVersion(regObjArr[i].swfVersion)){if(ua.webkit&&ua.webkit<312){fixParams(obj);}setVisibility(id,true);}else{if(regObjArr[i].expressInstall&&!isExpressInstallActive&&hasPlayerVersion("6.0.65")&&(ua.win||ua.mac)){showExpressInstall(regObjArr[i]);}else{displayAltContent(obj);}}}}else{setVisibility(id,true);}}}function fixParams(obj){var nestedObj=obj.getElementsByTagName(OBJECT)[0];if(nestedObj){var e=createElement("embed"),a=nestedObj.attributes;if(a){var al=a.length;for(var i=0;i<al;i++){if(a[i].nodeName==="DATA"){e.setAttribute("src",a[i].nodeValue);}else{e.setAttribute(a[i].nodeName,a[i].nodeValue);}}}var c=nestedObj.childNodes;if(c){var cl=c.length;for(var j=0;j<cl;j++){if(c[j].nodeType===1&&c[j].nodeName==="PARAM"){e.setAttribute(c[j].getAttribute("name"),c[j].getAttribute("value"));}}}obj.parentNode.replaceChild(e,obj);}}function showExpressInstall(regObj){isExpressInstallActive=true;var obj=getElementById(regObj.id);if(obj){if(regObj.altContentId){var ac=getElementById(regObj.altContentId);if(ac){storedAltContent=ac;storedAltContentId=regObj.altContentId;}}else{storedAltContent=abstractAltContent(obj);}if(!(/%$/.test(regObj.width))&&parseInt(regObj.width,10)<214){regObj.width="214";}if(!(/%$/.test(regObj.height))&&parseInt(regObj.height,10)<137){regObj.height="137";}doc.title=doc.title.slice(0,47)+" - Flash Player Installation";var pt=ua.ie&&ua.win?"ActiveX":"PlugIn",dt=doc.title,fv="MMredirectURL="+win.location+"&MMplayerType="+pt+"&MMdoctitle="+dt,replaceId=regObj.id;if(ua.ie&&ua.win&&obj.readyState!==4){var newObj=createElement("div");replaceId+="SWFObjectNew";newObj.setAttribute("id",replaceId);obj.parentNode.insertBefore(newObj,obj);obj.style.display="none";var fn=function(){obj.parentNode.removeChild(obj);};addListener(win,"onload",fn);}createSWF({data:regObj.expressInstall,id:EXPRESS_INSTALL_ID,width:regObj.width,height:regObj.height},{flashvars:fv},replaceId);}}function displayAltContent(obj){if(ua.ie&&ua.win&&obj.readyState!==4){var el=createElement("div");obj.parentNode.insertBefore(el,obj);el.parentNode.replaceChild(abstractAltContent(obj),el);obj.style.display="none";var fn=function(){obj.parentNode.removeChild(obj);};addListener(win,"onload",fn);}else{obj.parentNode.replaceChild(abstractAltContent(obj),obj);}}function abstractAltContent(obj){var ac=createElement("div");if(ua.win&&ua.ie){ac.innerHTML=obj.innerHTML;}else{var nestedObj=obj.getElementsByTagName(OBJECT)[0];if(nestedObj){var c=nestedObj.childNodes;if(c){var cl=c.length;for(var i=0;i<cl;i++){if(!(c[i].nodeType===1&&c[i].nodeName==="PARAM")&&!(c[i].nodeType===8)){ac.appendChild(c[i].cloneNode(true));}}}}}return ac;}function createSWF(attObj,parObj,id){var r,el=getElementById(id);if(el){if(typeof attObj.id===UNDEF){attObj.id=id;}if(ua.ie&&ua.win){var att="";for(var i in attObj){if(attObj[i]!==Object.prototype[i]){if(i.toLowerCase()==="data"){parObj.movie=attObj[i];}else{if(i.toLowerCase()==="styleclass"){att+=' class="'+attObj[i]+'"';}else{if(i.toLowerCase()!=="classid"){att+=" "+i+'="'+attObj[i]+'"';}}}}}var par="";for(var j in parObj){if(parObj[j]!==Object.prototype[j]){par+='<param name="'+j+'" value="'+parObj[j]+'" />';}}el.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+att+">"+par+"</object>";objIdArr[objIdArr.length]=attObj.id;r=getElementById(attObj.id);}else{if(ua.webkit&&ua.webkit<312){var e=createElement("embed");e.setAttribute("type",FLASH_MIME_TYPE);for(var k in attObj){if(attObj[k]!==Object.prototype[k]){if(k.toLowerCase()==="data"){e.setAttribute("src",attObj[k]);}else{if(k.toLowerCase()==="styleclass"){e.setAttribute("class",attObj[k]);}else{if(k.toLowerCase()!=="classid"){e.setAttribute(k,attObj[k]);}}}}}for(var l in parObj){if(parObj[l]!==Object.prototype[l]){if(l.toLowerCase()!=="movie"){e.setAttribute(l,parObj[l]);}}}el.parentNode.replaceChild(e,el);r=e;}else{var o=createElement(OBJECT);o.setAttribute("type",FLASH_MIME_TYPE);for(var m in attObj){if(attObj[m]!==Object.prototype[m]){if(m.toLowerCase()==="styleclass"){o.setAttribute("class",attObj[m]);}else{if(m.toLowerCase()!=="classid"){o.setAttribute(m,attObj[m]);}}}}for(var n in parObj){if(parObj[n]!==Object.prototype[n]&&n.toLowerCase()!=="movie"){createObjParam(o,n,parObj[n]);}}el.parentNode.replaceChild(o,el);r=o;}}}return r;}function createObjParam(el,pName,pValue){var p=createElement("param");p.setAttribute("name",pName);p.setAttribute("value",pValue);el.appendChild(p);}function removeSWF(id){var obj=getElementById(id);if(obj&&(obj.nodeName==="OBJECT"||obj.nodeName==="EMBED")){if(ua.ie&&ua.win){if(obj.readyState===4){removeObjectInIE(id);
}else{win.attachEvent("onload",function(){removeObjectInIE(id);});}}else{obj.parentNode.removeChild(obj);}}}function removeObjectInIE(id){var obj=getElementById(id);if(obj){for(var i in obj){if(typeof obj[i]==="function"){obj[i]=null;}}obj.parentNode.removeChild(obj);}}function getElementById(id){var el=null;try{el=doc.getElementById(id);}catch(e){}return el;}function createElement(el){return doc.createElement(el);}function addListener(target,eventType,fn){target.attachEvent(eventType,fn);listenersArr[listenersArr.length]=[target,eventType,fn];}function hasPlayerVersion(rv){var pv=ua.pv,v=rv.split(".");v[0]=parseInt(v[0],10);v[1]=parseInt(v[1],10)||0;v[2]=parseInt(v[2],10)||0;return(pv[0]>v[0]||(pv[0]===v[0]&&pv[1]>v[1])||(pv[0]===v[0]&&pv[1]===v[1]&&pv[2]>=v[2]))?true:false;}function createCSS(sel,decl){if(ua.ie&&ua.mac){return;}var h=doc.getElementsByTagName("head")[0],s=createElement("style");s.setAttribute("type","text/css");s.setAttribute("media","screen");if(!(ua.ie&&ua.win)&&typeof doc.createTextNode!==UNDEF){s.appendChild(doc.createTextNode(sel+" {"+decl+"}"));}h.appendChild(s);if(ua.ie&&ua.win&&typeof doc.styleSheets!==UNDEF&&doc.styleSheets.length>0){var ls=doc.styleSheets[doc.styleSheets.length-1];if(typeof ls.addRule===OBJECT){ls.addRule(sel,decl);}}}function setVisibility(id,isVisible){var v=isVisible?"visible":"hidden";if(isDomLoaded&&getElementById(id)){getElementById(id).style.visibility=v;}else{createCSS("#"+id,"visibility:"+v);}}function urlEncodeIfNecessary(s){var regex=/[\\\"<>\.;]/;var hasBadChars=regex.exec(s)!==null;return hasBadChars?encodeURIComponent(s):s;}var cleanup=function(){if(ua.ie&&ua.win){window.attachEvent("onunload",function(){var ll=listenersArr.length;for(var i=0;i<ll;i++){listenersArr[i][0].detachEvent(listenersArr[i][1],listenersArr[i][2]);}var il=objIdArr.length;for(var j=0;j<il;j++){removeSWF(objIdArr[j]);}ua=null;CVP.swfobject=null;});}}();return{registerObject:function(objectIdStr,swfVersionStr,xiSwfUrlStr){if(!ua.w3cdom||!objectIdStr||!swfVersionStr){return;}var regObj={};regObj.id=objectIdStr;regObj.swfVersion=swfVersionStr;regObj.expressInstall=xiSwfUrlStr?xiSwfUrlStr:false;regObjArr[regObjArr.length]=regObj;setVisibility(objectIdStr,false);},getObjectById:function(objectIdStr){var r=null;if(ua.w3cdom){var o=getElementById(objectIdStr);if(o){var n=o.getElementsByTagName(OBJECT)[0];if(!n||(n&&typeof o.SetVariable!==UNDEF)){r=o;}else{if(typeof n.SetVariable!==UNDEF){r=n;}}}}return r;},embedSWF:function(swfUrlStr,replaceElemIdStr,widthStr,heightStr,swfVersionStr,xiSwfUrlStr,flashvarsObj,parObj,attObj){if(!ua.w3cdom||!swfUrlStr||!replaceElemIdStr||!widthStr||!heightStr||!swfVersionStr){return;}widthStr+="";heightStr+="";if(hasPlayerVersion(swfVersionStr)){setVisibility(replaceElemIdStr,false);var att={};if(attObj&&typeof attObj===OBJECT){for(var i in attObj){if(attObj[i]!==Object.prototype[i]){att[i]=attObj[i];}}}att.data=swfUrlStr;att.width=widthStr;att.height=heightStr;var par={};if(parObj&&typeof parObj===OBJECT){for(var j in parObj){if(parObj[j]!==Object.prototype[j]){par[j]=parObj[j];}}}if(flashvarsObj&&typeof flashvarsObj===OBJECT){for(var k in flashvarsObj){if(flashvarsObj[k]!==Object.prototype[k]){if(typeof par.flashvars!==UNDEF){par.flashvars+="&"+k+"="+flashvarsObj[k];}else{par.flashvars=k+"="+flashvarsObj[k];}}}}addDomLoadEvent(function(){createSWF(att,par,replaceElemIdStr);if(att.id===replaceElemIdStr){setVisibility(replaceElemIdStr,true);}});}else{if(xiSwfUrlStr&&!isExpressInstallActive&&hasPlayerVersion("6.0.65")&&(ua.win||ua.mac)){isExpressInstallActive=true;setVisibility(replaceElemIdStr,false);addDomLoadEvent(function(){var regObj={};regObj.id=regObj.altContentId=replaceElemIdStr;regObj.width=widthStr;regObj.height=heightStr;regObj.expressInstall=xiSwfUrlStr;showExpressInstall(regObj);});}}},getFlashPlayerVersion:function(){return{major:ua.pv[0],minor:ua.pv[1],release:ua.pv[2]};},hasFlashPlayerVersion:hasPlayerVersion,createSWF:function(attObj,parObj,replaceElemIdStr){if(ua.w3cdom){return createSWF(attObj,parObj,replaceElemIdStr);}else{return undefined;}},removeSWF:function(objElemIdStr){if(ua.w3cdom){removeSWF(objElemIdStr);}},createCSS:function(sel,decl){if(ua.w3cdom){createCSS(sel,decl);}},addDomLoadEvent:addDomLoadEvent,addLoadEvent:addLoadEvent,getQueryParamValue:function(param){var q=doc.location.search||doc.location.hash;if(param===null){return urlEncodeIfNecessary(q);}if(q){var pairs=q.substring(1).split("&");for(var i=0;i<pairs.length;i++){if(pairs[i].substring(0,pairs[i].indexOf("="))===param){return urlEncodeIfNecessary(pairs[i].substring((pairs[i].indexOf("=")+1)));}}}return"";},expressInstallCallback:function(){if(isExpressInstallActive&&storedAltContent){var obj=getElementById(EXPRESS_INSTALL_ID);if(obj){obj.parentNode.replaceChild(storedAltContent,obj);if(storedAltContentId){setVisibility(storedAltContentId,true);if(ua.ie&&ua.win){storedAltContent.style.display="block";}}storedAltContent=null;storedAltContentId=null;isExpressInstallActive=false;}}}};}();})();var requiredMajorVersion=10;var requiredMinorVersion=1;var requiredRevision=51;var logOutput;var adbp_embed_count=0;var cnnLoadIt;var cnnPlayerID=0;var cnnVideoLocation="";var T1="T1";var hasRelatedPlaylistVidBeenClicked=false;var cnnErroredVideos=new Array();var cnnClearTimeoutAfterError;var cnnNextVideoToPlay;var cnnCVPErrorId="cnnCVPError";var cnnCVPPlayer;var hasAPlayListVidBeenClicked=false;var cnnStoredVideoVolume,cnnStoredVideoMute;var cnnClass4UnMounted="cnnClass4UnMounted";var cnnVID4UnMounted="_cnnVideoID";var videoPlayCount=0;var cnnTheExpressInstallSwf="http://web.archive.org/web/20141022083301/http://i.cdn.turner.com/cnn/.element/apps/cvp/3.0/swf/expressInstall.swf";if(typeof(CNN_getCookies)=="function"){var cnnCookiesAvailable=CNN_getCookies();cnnStoredVideoVolume=parseFloat(cnnCookiesAvailable["VideoVolume"]);cnnStoredVideoMute=cnnCookiesAvailable["VideoMute"];}var cnnIsUnMounted=(location.hostname.indexOf("blogs.cnn.com")>-1||location.hostname.indexOf("live.cnn.com")>-1||location.hostname.indexOf("cnntest.wordpress.com")>-1);var cnnIsUnMountedLoaded=false;var cvpAdConfig={"home_page":{pageSelectionRules:[{ruleName:"useWhenFrom",rule:{substringMatchArr:["www.cnn.com","us.cnn.com","edition.cnn.com"]}},{ruleName:"skipWhenFrom",rule:{substringMatchArr:[]}},{ruleName:"skipWhenOn",rule:{substringMatchArr:["newspulse.cnn.com/","blogs.cnn.com/"]}}],paramRules:[{ruleName:"setWhenRegExp",ruleType:"videoCount",rule:{ruleReg:new RegExp(/^0/)},params:{from_homepage:"yes"}},{ruleName:"setWhenRegExp",ruleType:"videoCount",rule:{ruleReg:new RegExp(/^[^0]/)},params:{from_homepage:"no"}}]}};var cvpHistoryConfig={"/":"home_page"};var isAutoStart=false;var cvpPlayers=new Array();function log(a){}function cnnLoadPLayer(a,n,c,k,h,b,f){adbp_embed_count++;var e=n+"_child";var m=document.getElementById(n);var d="";if(isBVPPage){d='style="position: relative;"';}else{if(cnnIsUnMounted){d='class="'+cnnClass4UnMounted+'" '+cnnVID4UnMounted+'="'+a+'"';}}m.innerHTML='<span id="'+e+'"'+d+"></span>";var g=getEditionizedContext(c);var l=cnnGetPlayer(a,g,k,"",h,b,f);if(typeof l==="object"&&l.options){l.g_domIdStr=n;l.g_context=c;l.canSetVolume=false;l.canSetMute=false;l.adVolumeEvents=[];l.isAdPlaying=false;l.embedSWF(e);}else{if(typeof CVP.swfobject==="object"&&!(CVP.swfobject.hasFlashPlayerVersion("6.0.65"))){cnnGetNoFlash(c,e,a);}}return l;}var cnnT1VideoId="";function cnnLoadStoryPlayer(c,b,a,d,e){if(e==T1&&typeof cnnCVPAdSectionT1=="string"&&cnnCVPAdSectionT1.length>1){cnnT1VideoId=c;cnnCVPAdSection=cnnCVPAdSectionT1;}else{if(typeof cnnCVPAdSectionInPage=="string"&&cnnCVPAdSectionInPage.length>1){cnnCVPAdSection=cnnCVPAdSectionInPage;}}cnnLoadPLayer(c,b,a,d);}function cnnCVPErroredOut(e,d){if(!$(cnnCVPErrorId)){var k=$(e).childElements();for(var c=0;c<k.length;c++){k[c]._styleLeft=k[c].offsetLeft;k[c].style.left="-10000px";}var a=416;var h=250;var l=new RegExp(/(\d+)x(\d+)/);var b=l.exec(d);if(b&&typeof b=="object"&&b.length>2){a=b[1];h=b[2];}var g="";if(isBVPPage){g=' id="'+cnnCVPErrorId+'"';
}var f='<div class="cnn_viderrbx cnn_viderrbx640"'+g+"><div>The video timed out attempting to play. Please ensure that you do not have any Flash or JavaScript blocking plugins active. </div></div>";switch(a){case"640":f='<div class="cnn_viderrbx cnn_viderrbx640"'+g+"><div>The video timed out attempting to play. Please ensure that you do not have any Flash or JavaScript blocking plugins active. </div></div>";break;case"416":f='<div class="cnn_viderrbx cnn_viderrbx416"'+g+"><div>The video timed out attempting to play. Please ensure that you do not have any Flash or JavaScript blocking plugins active. </div></div>";break;case"320":f='<div class="cnn_viderrbx cnn_viderrbx320"'+g+"><div>The video timed out attempting to play. Please ensure that you do not have any Flash or JavaScript blocking plugins active. </div></div>";}if(isBVPPage){$(e).insert({top:f});}else{$(e).update(f);}}}var CNN_VideoTracker=function(a,b){this.video=a;this.video.addEventListener("playing",this,false);this.video.addEventListener("ended",this,false);this.videoId=b.querySelector("video:root").getAttribute("id");this.videoHeadline=b.querySelector("video:root > headline").firstChild.nodeValue;};CNN_VideoTracker.prototype.edition=(window.location.host.search("^edition|:94$")!==-1?"international":"domestic");CNN_VideoTracker.prototype.nielsenBug=function(){this.nielsenBug=function(){};var a=new Image();a.src=(this.edition==="international"?"http://web.archive.org/web/20141022083301/http://secure-us.imrworldwide.com/cgi-bin/m?cc=1&ci=us-100120&c6=vc,b01&tl=dav0-HTML5&cg=HTML5&rnd=":"http://web.archive.org/web/20141022083301/http://secure-us.imrworldwide.com/cgi-bin/m?cc=1&ci=us-100120&c6=vc,b01&tl=dav0-HTML5&cg=HTML5&rnd=")+Date.now().toString().slice(0,-3);};CNN_VideoTracker.prototype.comscoreBug=function(){this.comscoreBug=function(){};var a=new Image();a.src=(this.edition==="international"?"http://web.archive.org/web/20141022083301/http://beacon.securestudies.com/scripts/beacon.dll?CXNID=3005117&CDID=3005117&CPID=3005117&CGID=020100&CBID=html5&rnd=":"http://web.archive.org/web/20141022083301/http://beacon.securestudies.com/scripts/beacon.dll?CXNID=3005117&CDID=3005117&CPID=3005117&CGID=010000&CBID=html5&rnd=")+Date.now().toString().slice(0,-3);};CNN_VideoTracker.prototype.omniStart=function(){this.omniStart=function(){};var a=s_gi((this.edition==="international"?"cnnintloffsite":"cnn2globaloffsite"));a.linkTrackVars="prop1,prop2,eVar1,eVar2,channel,events";a.linkTrackEvents="event1";a.trackingServer="metrics.cnn.com";a.events="event1";a.channel=(this.edition==="international"?"HTML5 Onsite International":"HTML5 Onsite Domestic");a.prop1=window.location.pathname;a.prop2="video";a.eVar1="video/"+this.videoId;a.eVar2=(this.edition==="international"?"HTML5 Onsite International":"HTML5 Onsite Domestic");a.tl(this,"o",this.videoHeadline);};CNN_VideoTracker.prototype.omniEnd=function(){this.omniEnd=function(){};var a=s_gi((this.edition==="international"?"cnnintloffsite":"cnn2globaloffsite"));a.linkTrackVars="eVar1,eVar2,channel,events";a.linkTrackEvents="event2";a.trackingServer="metrics.cnn.com";a.events="event2";a.channel=(this.edition==="international"?"HTML5 Onsite International":"HTML5 Onsite Domestic");a.eVar1="video/"+this.videoId;a.eVar2=(this.edition==="international"?"HTML5 Onsite International":"HTML5 Onsite Domestic");a.tl(this,"o",this.videoHeadline);};CNN_VideoTracker.prototype.handleEvent=function(a){switch(a.type){case"playing":this.video.removeEventListener("playing",this,false);this.omniStart();this.nielsenBug();this.comscoreBug();break;case"ended":this.video.removeEventListener("ended",this,false);this.omniEnd();break;}};function cnnUpdateFBWidget(a){var b=a.videoId,c=$("cnnVPInfoRightCol");if(c){c.update('<fb:like action="recommend" width="310" show_faces="true" layout="standard" href="http://web.archive.org/web/20141022083301/http://www.cnn.com/video/data/2.0/video/'+b+'.html"></fb:like>');FB.XFBML.parse(c);}}function cnnCVPPause(){if(typeof(cnnCVPPlayer)=="object"&&typeof(cnnCVPPlayer.pause)=="function"){cnnCVPPlayer.pause();}}function cnnCVPPlay(c,d,b,a){if(typeof cnnCVPPlayer==="object"){if(typeof cnnCVPAdSection=="string"&&cnnCVPAdSection.length>1){cnnCVPPlayer.play(c,{adSection:cnnCVPAdSection});}else{cnnCVPPlayer.play(c);}}else{cnnCVPPlayer=cnnLoadPLayer(c,d,b,{},"",a,true);}}function cnnCVPQueue(c,d,b,a){if(typeof cnnCVPPlayer==="object"){cnnCVPPlayer.queue(c);}else{cnnCVPPlayer=cnnLoadPLayer(c,d,b,{},"",a,true);}}function cnnGetNoFlash(d,o,k){var b=416;var l=250;var n=new RegExp(/(\d+)x(\d+)/);var c=n.exec(d);if(c&&typeof c=="object"&&c.length>2){b=c[1];l=c[2];}var g="";if(d.indexOf("_tve")>-1){g="10.1";}var m="http://web.archive.org/web/20141022083301/http://i.cdn.turner.com/cnn/.element/img/3.0/global/misc/640x360_no_flash"+g+".gif";switch(b){case"640":m="http://web.archive.org/web/20141022083301/http://i.cdn.turner.com/cnn/.element/img/3.0/global/misc/640x360_no_flash"+g+".gif";break;case"416":m="http://web.archive.org/web/20141022083301/http://i.cdn.turner.com/cnn/.element/img/3.0/global/misc/416x234_no_flash"+g+".gif";break;case"320":m="http://web.archive.org/web/20141022083301/http://i.cdn.turner.com/cnn/.element/img/3.0/global/misc/320x180_no_flash"+g+".gif";}if(html5Check){try{b=playerOverRide.images[0].image.width||b;l=playerOverRide.images[0].image.height||l;}catch(h){}if(cnnIsUnMounted){if(!cnnIsUnMountedLoaded){Event.observe(window,"dom:loaded",function(){CNN.Html5Video.init();});}cnnIsUnMountedLoaded=true;}else{if(isBVPPage){if(document.getElementById("cnn_bvphdrlnfo")){$("cnn_bvphdrlnfo").update('<div><a href="/services/podcasting/index.html">Podcasts</a></div>');}if(document.getElementById("cnnVPSections")){$("cnnVPSections").removeClassName("cnn_bvpsctnwdw");}new Ajax.Updater("cnnVPRightCol","/.element/ssi/misc/3.0/bvp_rightcol.ajax.html",{method:"get"});}var f=isBVPPage?"html5videoplayer":o+"_html5videoplayer";var a="/video/data/3.0/video/"+k+"/index.xml";new Ajax.Request(a,{method:"get",onSuccess:function(q){var w=q.responseXML,F="",M="",K=w.querySelector("video:root > isLive"),A=K!==null&&K.firstChild.nodeValue==="true",x=A?w.querySelector("video:root > streamIndex").firstChild.nodeValue||-1:-1,O=w.querySelector('video:root > files > file[bitrate="ipadFile"]'),S="",P=(w.querySelector('video:root > images > image[width="'+b+'"][height="'+l+'"]')||w.querySelector('video:root > images > image[height="'+l+'"]')||w.querySelector('video:root > images > image[width="'+b+'"]')),G=document.getElementById(f),B=null;if(O!==null){S=O.firstChild.nodeValue;}if(O===null){O=w.querySelector('video:root > files > file[bitrate="ios_150"]');if(O!==null){S=O.firstChild.nodeValue.replace(/_ios_150.mp4$/,"_ios_,audio,150,440,650,840,1240,.mp4.csmil/master.m3u8?__b__=650");}}if(O===null){O=w.querySelector('video:root > files > file[bitrate^="'+b+'x"]');if(O!==null){S=O.firstChild.nodeValue.replace(/_[0-9]+x[0-9]+_dl\.flv/,"_ios_,audio,150,440,650,840,1240,.mp4.csmil/master.m3u8?__b__=650");}}if(S!==""&&S.substring(0,4)!=="http"){S="http://web.archive.org/web/20141022083301/http://cnnios-f.akamaihd.net/i/cnn/big/"+S;}if(A&&x!==-1){S="http://web.archive.org/web/20141022083301/http://iphone-cnn.cdn.turner.com/cnn/iphone2/cnn_live/cnn_live_"+x+"_ipad-cell.m3u8";}if(!A){var H=parseInt(w.querySelector("video:root > dateCreated").getAttribute("uts"),10);if(H<1290229200000){S=(O!==null?("http://web.archive.org/web/20141022083301/http://ht.cdn.turner.com/cnn/big/"+O.firstChild.nodeValue).replace(/_[0-9]+x[0-9]+_dl\.flv/,".qtref.mov"):"");}}if(typeof playerOverRide!=="undefined"){F=playerOverRide.headline||"";if(typeof playerOverRide.images!=="undefined"&&typeof playerOverRide.images.length!=="undefined"&&playerOverRide.images.length>0&&typeof playerOverRide.images[0].image!=="undefined"&&typeof playerOverRide.images[0].image.text!=="undefined"){M=playerOverRide.images[0].image.text||"";}}if(F===""){F=w.querySelector("video:root > headline").firstChild.nodeValue||"";}if(M===""){M=P?P.firstChild.nodeValue:"";}if(M&&S){if(G!==null){G.setAttribute("poster",M);G.setAttribute("src",S);}else{var u=""+o+"H5hdln",D=""+'<div class="html5player">'+'<video width="'+b+'"'+' height="'+l+'"'+' id="'+f+'"'+' poster="'+M+'"'+' controls="controls"'+' src="'+S+'"'+"></video>"+'<div class="cnn_cvphtml5hdln" id="'+u+'">'+"<span>"+F+"</span>"+"</div>"+"</div>";document.getElementById(o).innerHTML=D;var I=document.getElementById(u);G=document.getElementById(f);G.addEventListener("play",function(V){if(window.getComputedStyle(document.getElementById(u)).getPropertyValue("position")==="absolute"){I.style.display="none";
}},false);G.addEventListener("ended",function(V){document.getElementById(o).innerHTML=D;},false);}B=new CNN_VideoTracker(G,w);}else{$(o).update('<img src="http://web.archive.org/web/20141022083301/http://i.cdn.turner.com/cnn/.element/img/3.0/global/misc/640x360_ns_ipad.gif" width="'+b+'" height="'+l+'" alt="" border="0">');}if(isBVPPage){F=w.querySelector("video:root > headline").firstChild.nodeValue||"";var r=document.getElementById("html5vidHeadline");if(r){r.firstChild.nodeValue=F;}else{r=document.createElement("div");r.setAttribute("class","cnn_mtt1imghtitle");var R=document.createElement("h1");var s=document.createElement("span");s.setAttribute("id","html5vidHeadline");var Q=document.createTextNode(F);s.appendChild(Q);R.appendChild(s);r.appendChild(R);document.getElementById("cnnVPInfoL").insertBefore(r,document.getElementById("cnnVPInfoLeftCol"));}var T=w.querySelector("video:root > lastModified").firstChild.nodeValue||"";var E=document.getElementById("commentsPadding");var z=T.split("/");var J="";if(z&&typeof z.length!=="undefined"&&z.length>=2){J=" "+["January","February","March","April","May","June","July","August","September","October","November","December"][z[1]-1]+" "+z[2]+", "+z[0];if(E){document.getElementById("addedOnL").childNodes[1].nodeValue=J;}else{E=document.createElement("div");E.setAttribute("id","commentsPadding");var C=document.createElement("div");C.setAttribute("id","addedOnL");var v=document.createElement("b");var y=document.createTextNode("Added On");v.appendChild(y);var U=document.createTextNode(J);C.appendChild(v);C.appendChild(U);E.appendChild(C);document.getElementById("cnnVPInfoLeftCol").appendChild(E);}}else{document.getElementById("cnnVPInfoLeftCol").removeChild(E);}var N=w.querySelector("video:root > description").firstChild.nodeValue||"";var e=document.getElementById("contentL");if(e){e.firstChild.firstChild.nodeValue=N;}else{e=document.createElement("div");e.setAttribute("id","contentL");var L=document.createElement("div");L.setAttribute("class","bvp_desctext");var p=document.createTextNode(N);L.appendChild(p);e.appendChild(L);document.getElementById("cnnVPInfoLeftCol").appendChild(e);}cnnUpdateFBWidget({videoId:k});}}});}}else{$(o).update('<a href="http://web.archive.org/web/20141022083301/http://get.adobe.com/flashplayer/" target="_blank"><img src="'+m+'" width="'+b+'" height="'+l+'" alt="" border="0"></a>');}}if(html5Check){Event.observe(window,"dom:loaded",function(){if($("cnnCVP2")){$("cnnCVP2").onclick();}if($("cnnCVP2Bottom")){$("cnnCVP2Bottom").onclick();}});}function getEditionizedContext(a){var c=(location.hostname.indexOf("edition.")>-1||location.port==="94");editionizedContext=(c)?a+"_edition":a;var b=a;switch(editionizedContext){case"hp_edition":case"hp_autostartOff_edition":case"640x406_start_sw_edition":case"640x406_start_bvp_edition":case"640x384_edition":case"640x384_start_art_edition":case"640x384_start_art_inpage_edition":case"416x280_start_sw_edition":case"416x280_live_edition":case"416x250_start_edition":case"416x250_live_edition":case"320x216_edition":case"320x180_start_ns_edition":case"embed_edition":b=editionizedContext;break;default:b=a;}return b;}var isBVPPage=false;var currentPlayListId=false;var playListLength=12;function loadPlayList(f,k,g){if(g){cnnGoClearTimeoutIfAfterError();}var h=f.substring(0,f.indexOf("/"));var l="/video/"+h;var c=bvpManager.findChannelBySection(l);var b=bvpManager.getChannel(c);var e="by_section_"+h+".xml";if(b.xml_url&&b.xml_url.length>0){e=b.xml_url;}if(!h){var d=(location.hostname.indexOf("edition.")>-1||location.port==="94");var a=(d)?"by_section_international":"top_stories";e=a+".xml";}if(!k&&bvpManager.currentVideoPlayingChannelXML&&bvpManager.currentVideoPlayingChannelXML!=""){e=bvpManager.currentVideoPlayingChannelXML;}currentPlayListId=f;AjaxManager.sendCommand("/.element/ssi/www/auto/2.0/video/xml/"+e,loadInPlayList);}function cnnIsGoodVideo(b){for(var a=0;a<cnnErroredVideos.length;a++){if(cnnErroredVideos[a]==b){return false;}}return true;}function cnnGoClearTimeoutIfAfterError(){if(typeof cnnClearTimeoutAfterError=="number"){clearTimeout(cnnClearTimeoutAfterError);cnnClearTimeoutAfterError="";}}function cnnRemoveFromPlaylist(c){var b=new Array();for(var a=0;a<currentPlayListListing.length;a++){if(currentPlayListListing[a]!=c){b.push(currentPlayListListing[a]);}}currentPlayListListing=b.slice(0);}var lastPlaying="";function getRelatedsURL(b,f){var e=416;var g=250;var c=new RegExp(/(\d+)x(\d+)/);var d=c.exec(b);if(d&&typeof d=="object"&&d.length>2){e=d[1];g=d[2];}var a="";switch(e){case"640":a=12;break;case"416":a=9;break;case"320":a=6;}if(f&&f.indexOf("relateds.xml")>0&&a){f=f.substring(0,f.indexOf("relateds.xml"))+"relateds_"+a+".xml";}return f;}function getReferrerPathname(){var a=document.referrer.replace(/^http:\/\/[^\/]*\//,"/");a=a.replace(/index\.html?.*/,"");return a;}function cnnGetAdKeyValuePairs(){var e=cvpHistoryConfig[getReferrerPathname()];var o=document.referrer+"";var a=window.location+"";var b=(e)?cvpAdConfig[e]:false;var q=false;var c=[];if(b&&b.pageSelectionRules&&Object.isArray(b.pageSelectionRules)){for(var g=0;g<b.pageSelectionRules.length;g++){var n=b.pageSelectionRules[g];if(n.ruleName=="useWhenFrom"||n.ruleName=="skipWhenFrom"||n.ruleName=="skipWhenOn"){if(Object.isArray(n.rule.substringMatchArr)){for(var m=0;m<n.rule.substringMatchArr.length;m++){var l=n.rule.substringMatchArr[m];if(n.ruleName=="useWhenFrom"){if(o.indexOf(l)>-1){q=true;}}else{if(n.ruleName=="skipWhenFrom"){if(o.indexOf(l)>-1){q=false;}}else{if(n.ruleName=="skipWhenOn"){if(a.indexOf(l)>-1){q=false;}}}}}}}}}if(q&&b&&b.paramRules&&Object.isArray(b.paramRules)){for(var h=0;h<b.paramRules.length;h++){if(b.paramRules[h].ruleName&&b.paramRules[h].ruleName=="setWhenRegExp"&&b.paramRules[h].ruleType=="videoCount"){var d=videoPlayCount+"";if(b.paramRules[h].rule&&b.paramRules[h].rule.ruleReg&&(typeof(b.paramRules[h].rule.ruleReg)=="object"||typeof(b.paramRules[h].rule.ruleReg)=="function")&&b.paramRules[h].rule.ruleReg.test(d)){var p=new Hash(b.paramRules[h].params);var f=p.keys();for(var m=0;m<f.length;m++){c.push([f[m],p.get(f[m])]);}}}}}return c;}function cnnGuessOmniturePageType(d){var e="section";var g=window.location.pathname;var b=window.location.hostname;var c=new RegExp("^/20\\d\\d/");var h=c.match(g);var a=new RegExp("^/[A-Z]+/");var f=a.match(g);if(g.startsWith("/video/")){e="bvp";}else{if(h){e="story";}else{if(d.indexOf("embed")>=0){if(b.indexOf(".cnn.com")>=0){e="embed_onsite";}else{e="embed";}}else{if(b.indexOf("newspulse")>=0){e="newspulse";}else{if(g.indexOf("/SPECIAL")===0||g.indexOf("/SpecialCoverage")===0||g.indexOf("/CNN")===0){e="special";}else{if(g.length<2||g.startsWith("/index.htm")){e="homepage";}else{if(f){e="section";}}}}}}}return e;}function cnnFindTrackingContext(k,d,e){var c=(location.hostname.indexOf("edition.")>-1||location.port==="94");var b="section";var f=(c)?"_edition":"";var g=new RegExp("_live");var a=g.match(d);var n="";if(a){n="_live";}if(isBVPPage||e=="bvp"){var l=""+window.location.hash+window.location.search;b="bvp"+f;if(hasAPlayListVidBeenClicked||hasAChannelVidBeenClicked||hasRelatedPlaylistVidBeenClicked){b+="_PageViewOn_AutoStartOff";}else{if(!cnnCVPPlayer.options.hasVideoPlayed&&l.indexOf("/video/")>=0){b+="_PageViewOff_AutoStartOff";}else{b+="_PageViewOff_AutoStartOn";}}}else{if(e=="homepage"||(typeof cnnIsHomePage!="undefined"&&cnnIsHomePage)){b="homepage"+n+f;}else{if(e=="special"||(typeof cnnIsSpecialPage!="undefined"&&cnnIsSpecialPage)){b="special"+f;}else{if(e=="story"||(typeof cnnIsStoryPage!="undefined"&&cnnIsStoryPage)){b="story"+f;var h=window.location.toString().toQueryParams();if(typeof h.video!="undefined"&&k==cnnT1VideoId){b+="_AutoStartOn";}else{b+="_AutoStartOff";}}else{if(e=="section"||(typeof cnnIsSectionPage!="undefined"&&cnnIsSectionPage)){b="section"+n+f;}else{if(typeof e=="string"&&e.indexOf("embed")>=0){b=e+f;}else{if(e=="newspulse"){b=e+f;}else{if(d.indexOf("tve")>=0){b="tve";}else{var m=cnnGuessOmniturePageType(d);return cnnFindTrackingContext(k,d,m);}}}}}}}}return b;}function cnnGetPlayer(videoID,context,playerOverRide,cvpDomId,cvpAdSection,adCountdownDomId,aPlaylistPLayer){var player;
var theID="";if(typeof(cvpDomId)=="string"&&cvpDomId.length>1){theID=cvpDomId;}else{cnnPlayerID++;theID="cvp_"+cnnPlayerID;}var playerWidth=640;var playerHeight=360;var re=new RegExp(/(\d+)x(\d+)/);var dimensions=re.exec(context);if(dimensions&&typeof dimensions=="object"&&dimensions.length>2){playerWidth=dimensions[1];playerHeight=dimensions[2];}var flashVars={contentId:videoID,context:context};var isAdTest=false;var isQATest=false;if(typeof CVP.swfobject=="object"){isAdTest=CVP.swfobject.getQueryParamValue("adTest");isQATest=CVP.swfobject.getQueryParamValue("qaTest");}var containerSwf="http://web.archive.org/web/20141022083301/http://i.cdn.turner.com/cnn/.element/apps/cvp/3.0/swf/cnn_video.swf";if(context.indexOf("embed")>=0){containerSwf="http://web.archive.org/web/20141022083301/http://i.cdn.turner.com/cnn/.element/apps/cvp/3.0/swf/cnn_embed.swf";}else{if(context.indexOf("tve")>=0){containerSwf="http://web.archive.org/web/20141022083301/http://i.cdn.turner.com/cnn/.element/apps/cvp/3.0/swf/cnn_tve_video.swf";}}if(context.indexOf("416x374_start_embed_onsite")>=0){containerSwf="http://web.archive.org/web/20141022083301/http://i.cdn.turner.com/cnn/.element/apps/cvp/3.0/swf/cnn_416x234_embed.swf";}if(isAdTest){containerSwf="http://web.archive.org/web/20141022083301/http://i.cdn.turner.com/cnn/.element/apps/cvp/3.0/testing/confidential/swf/cnn_staging.swf";if(context.indexOf("embed")>=0){containerSwf="http://web.archive.org/web/20141022083301/http://i.cdn.turner.com/cnn/.element/apps/cvp/3.0/swf/cnn_embed_staging.swf";}flashVars.configUrl="http://web.archive.org/web/20141022083301/http://i.cdn.turner.com/cnn/.element/apps/cvp/3.0/testing/confidential/cfg/config.xml";}else{if(isQATest){containerSwf="http://web.archive.org/web/20141022083301/http://i.cdn.turner.com/cnn/.element/apps/cvp/3.0/testing/confidential/swf/cnn_staging.swf";if(context.indexOf("embed")>=0){containerSwf="http://web.archive.org/web/20141022083301/http://i.cdn.turner.com/cnn/.element/apps/cvp/3.0/swf/cnn_embed_staging.swf";}flashVars.configUrl="/.element/apps/cvp/3.0/testing/confidential/cfg/config.qaTest.xml";flashVars.containerUrl="/.element/apps/cvp/3.0/testing/confidential/cfg/container.qaTest.xml";}}if(typeof CVP.swfobject=="object"&&CVP.swfobject.hasFlashPlayerVersion("6.0.65")){player=new CVP({id:theID,width:playerWidth,height:playerHeight,flashVars:flashVars,hasVideoPlayed:false,lastVideoErrored:false,cvpAdSection:cvpAdSection,adCountdownDomId:adCountdownDomId,lastAdCountdownNumber:0,aPlaylistPLayer:(aPlaylistPLayer)?true:false,embed:{containerSwf:containerSwf,expressInstallSwf:cnnTheExpressInstallSwf,options:{quality:"high",bgcolor:"#000000",allowFullScreen:"true",allowScriptAccess:"always",wmode:"transparent"}},onPlayerReady:function(){if(this.options&&typeof this.options.cvpAdSection=="string"&&this.options.cvpAdSection.length>1){this.setAdSection(this.options.cvpAdSection);}else{if(typeof cnnCVPAdSection=="string"&&cnnCVPAdSection.length>1){this.setAdSection(cnnCVPAdSection);}}try{this.canSetVolume=true;if(typeof cnnStoredVideoVolume!="undefined"&&cnnStoredVideoVolume>=0&&cnnStoredVideoVolume<=1){this.setVolume(cnnStoredVideoVolume);}this.canSetMute=true;if(typeof cnnStoredVideoMute!="undefined"&&cnnStoredVideoMute=="true"){this.mute();}}catch(e){}try{this.setAdKeyValue("transactionID",cnnad_transactionID);this.setAdKeyValue("guID",cnnad_readCookie("ug"));}catch(e){}if(isBVPPage){var thisVidId=this.getContentId();loadPlayList(thisVidId);renderVideoMetaData(thisVidId);cnnUpdateFBWidget({videoId:thisVidId});}else{if(typeof(isTVEPage)!="undefined"&&isTVEPage&&typeof(playTVEStream)=="function"){playTVEStream();}else{if(typeof(loadInPlayList)=="function"&&typeof(cnnPlaylistJSON)=="object"&&this.options.aPlaylistPLayer){loadInPlayList(cnnPlaylistJSON,adCountdownDomId,true);}}}},onAdPostrollUrl:function(videoId,adUrl){},onAdStarted:function(token){this.adVolumeEvents=[[cnnStoredVideoVolume,cnnStoredVideoMute]];this.isAdPlaying=true;if(this.options&&typeof this.options.adCountdownDomId=="string"&&this.options.adCountdownDomId.length>1&&$(adCountdownDomId)){if(adCountdownDomId.indexOf("Visibility")>-1){$(adCountdownDomId).style.visibility="visible";}else{$(adCountdownDomId).style.display="";}}for(var i=0;i<cvpPlayers.length;i++){var cvpData=cvpPlayers[i].getContentEntry(videoId);var cvpObject=window.JSON.parse(cvpData);if(cvpObject.id==videoId){}}},onAdFinished:function(token){if(this.options&&typeof this.options.adCountdownDomId=="string"&&this.options.adCountdownDomId.length>1&&$(adCountdownDomId)){if(adCountdownDomId.indexOf("Visibility")>-1){$(adCountdownDomId).style.visibility="hidden";}else{$(adCountdownDomId).style.display="none";}}try{this.isAdPlaying=false;if(typeof(this.adVolumeEvents)!=="undefined"&&this.adVolumeEvents.length&&this.adVolumeEvents.length>1){var cnnFixTheVol=this.adVolumeEvents[(this.adVolumeEvents.length-2)][0];var cnnFixTheMuted=""+this.adVolumeEvents[(this.adVolumeEvents.length-2)][1];if(typeof(CNN_setCookie)=="function"){CNN_setCookie("VideoVolume",cnnFixTheVol,854400,"/",document.domain);}cnnStoredVideoVolume=cnnFixTheVol;if(typeof(CNN_setCookie)=="function"){CNN_setCookie("VideoMute",cnnFixTheMuted,854400,"/",document.domain);}cnnStoredVideoMute=cnnFixTheMuted;}}catch(e){var ss=1;}},onContentBegin:function(videoId,json){if(isBVPPage){(function adRemove(){try{var divHeader=document.getElementsByTagName("body")[0],clickableAreaLeft=document.getElementById("cnn_video_leftadarea"),clickableAreaRight=document.getElementById("cnn_video_rightadarea");if(divHeader!=null){divHeader.style.cssText="background: #FFFFFF";}if(clickableAreaLeft!=null){clickableAreaLeft.innerHTML="";}if(clickableAreaRight!=null){clickableAreaRight.innerHTML="";}}catch(err){}}());}var trackingContext=cnnFindTrackingContext(videoId,this.g_context);this.setTrackingContext(trackingContext);var adKeyValues=cnnGetAdKeyValuePairs();for(var i=0;i<adKeyValues.length;i++){this.setAdKeyValue(adKeyValues[i][0],adKeyValues[i][1]);}videoPlayCount++;this.options.hasVideoPlayed=true;this.options.lastVideoErrored=false;currentPlayListId=videoId;if(!hasAPlayListVidBeenClicked&&!hasAChannelVidBeenClicked&&!hasRelatedPlaylistVidBeenClicked){isAutoStart=true;}if(isBVPPage){cnnGoClearTimeoutIfAfterError();if(hasAChannelVidBeenClicked||hasRelatedPlaylistVidBeenClicked){var resetPlayList=(hasRelatedPlaylistVidBeenClicked)?true:false;hasAChannelVidBeenClicked=false;hasRelatedPlaylistVidBeenClicked=false;loadPlayList(videoId,resetPlayList);}else{renderPlayList();}hasAPlayListVidBeenClicked=false;renderVideoMetaData(videoId);cnnUpdateFBWidget({videoId:videoId});if($(cnnCVPErrorId)){$(cnnCVPErrorId).remove();var cvpDomChildren=$(this.g_domIdStr).childElements();for(var i=0;i<cvpDomChildren.length;i++){cvpDomChildren[i].style.left=(cvpDomChildren[i]._styleLeft)?cvpDomChildren[i]._styleLeft+"px":"";cvpDomChildren[i].style.position="static";}}}else{if(this.options.aPlaylistPLayer&&typeof(renderPlayList)=="function"&&typeof(renderVideoMetaData)=="function"){renderPlayList();renderVideoMetaData(videoId);}}},onContentBuffering:function(){sendVideoEvent(this.getContentEntry(this.getContentId()),"video-buffer");},onRelatedPlaylistClick:function(contentId,clickMode){hasRelatedPlaylistVidBeenClicked=true;cnnNextVideoToPlay=contentId;},onPopoutClick:function(videoId){var re=new RegExp(/cvplive\/cvpstream(\d)$/);var streamNum=re.exec(videoId);if(streamNum!=null&&typeof streamNum=="object"&&streamNum.length==2){this.pause();cnnLiveVideo(streamNum[1]);}},onContentDataLoaded:function(videoId){if(isBVPPage){renderPlayList();}var playerOverRideReturn=playerOverRide;if(typeof(cnnPlaylistJSON)=="object"&&cnnPlaylistJSON.video&&cnnPlaylistJSON.video.length){for(var i=0;i<cnnPlaylistJSON.video.length;i++){var loopVidId=typeof(cnnPlaylistJSON.video[i].video_id)!="undefined"?cnnPlaylistJSON.video[i].video_id.substring(7):false;if(loopVidId&&videoId==loopVidId){playerOverRideReturn=typeof(cnnPlaylistJSON.video[i].playerOverRide)!="undefined"?cnnPlaylistJSON.video[i].playerOverRide:playerOverRide;}}}playerOverRide={};var currVideojson=this.getContentEntry(videoId);var currVideoObj=false;if(currVideojson&&currVideojson!="{}"&&currVideojson!=""){currVideoObj=eval("("+currVideojson+")");if(currVideoObj){var vidRelatedVideosUrl=currVideoObj.relatedVideosUrl;if(vidRelatedVideosUrl){playerOverRideReturn.relatedVideosUrl=getRelatedsURL(this.g_context,vidRelatedVideosUrl);
}}}return playerOverRideReturn;},onContentPlay:function(videoId){if(isBVPPage){window.setTimeout("renderPlayList();",500);}for(var i=0;i<cvpPlayers.length;i++){var cvpData=cvpPlayers[i].getContentEntry(videoId);var cvpObject=window.JSON.parse(cvpData);if(cvpObject.id==videoId){if(cvpObject.id.indexOf("cvplive")>=0){sendVideoEvent(cvpData,"video-live",cvpPlayers[i].getId());}else{if(isAutoStart){sendVideoEvent(cvpData,"video-autostart",cvpPlayers[i].getId());}else{if(window.location.href.indexOf("/video/")>1){sendVideoEvent(cvpData,"video-page");}else{sendVideoEvent(cvpData,"video-start",cvpPlayers[i].getId());}}}isAutoStart=false;}}},onContentTrackingSeek:function(videoId,previousPlayhead,newPlayhead,duration){sendVideoEvent(this.getContentEntry(this.getContentId()),"video-scrub");},onContentPlayHead:function(videoId,previousPlayhead,newPlayhead,duration){for(var i=0;i<cvpPlayers.length;i++){var cvpData=cvpPlayers[i].getContentEntry(videoId);var cvpObject=window.JSON.parse(cvpData);if(previousPlayhead>(newPlayhead*0.1)){if(cvpObject.id==videoId){var vc=new _jsmd.plugin.gCNNVideoCollection();if(vc.get(videoId,"hasScrubbed")==false&&vc.get(videoId,"isTen")==false){if(window.location.hostname!="edition.cnn.com"){sendVideoEvent(cvpData,"video-ten",cvpPlayers[i].getId());}}}}if(previousPlayhead>(newPlayhead*0.25)){if(cvpObject.id==videoId){var vc=new _jsmd.plugin.gCNNVideoCollection();if(vc.get(videoId,"hasScrubbed")==false&&vc.get(videoId,"isTwentyFive")==false){if(window.location.hostname!="edition.cnn.com"){sendVideoEvent(cvpData,"video-twentyfive",cvpPlayers[i].getId());}}}}if(previousPlayhead>(newPlayhead*0.5)){if(cvpObject.id==videoId){var vc=new _jsmd.plugin.gCNNVideoCollection();if(vc.get(videoId,"hasScrubbed")==false&&vc.get(videoId,"isHalf")==false){sendVideoEvent(cvpData,"video-fifty",cvpPlayers[i].getId());}}}if(previousPlayhead>(newPlayhead*0.75)){if(cvpObject.id==videoId){var vc=new _jsmd.plugin.gCNNVideoCollection();if(vc.get(videoId,"hasScrubbed")==false&&vc.get(videoId,"isSeventyFive")==false){if(window.location.hostname!="edition.cnn.com"){sendVideoEvent(cvpData,"video-seventyfive",cvpPlayers[i].getId());}}}}}},onContentStop:function(videoId){},onContentPause:function(videoId,paused){sendVideoEvent(this.getContentEntry(this.getContentId()),"video-pause");},onContentCompleted:function(videoId){cnnNextVideoToPlay="";for(var i=0;i<cvpPlayers.length;i++){var cvpData=cvpPlayers[i].getContentEntry(videoId);var cvpObject=window.JSON.parse(cvpData);if(cvpObject.id==videoId){sendVideoEvent(cvpData,"video-complete",cvpPlayers[i].getId());}}},onContentError:function(errorVidId,errorMessage){var currentVidId=this.getContentId();cnnErroredVideos.push("/video/"+errorVidId);if(isBVPPage){cnnRemoveFromPlaylist(errorVidId);}if(isBVPPage&&(errorVidId==currentVidId||errorVidId==cnnNextVideoToPlay)){var qs=""+window.location.hash+window.location.search;var loadPlayListTime=1;if(this.options.hasVideoPlayed||(!this.options.hasVideoPlayed&&!this.options.lastVideoErrored&&qs.indexOf("/video/")>=0)){loadPlayListTime=7000;cnnCVPErroredOut(this.g_domIdStr,this.g_context);}this.options.lastVideoErrored=true;cnnClearTimeoutAfterError=setTimeout("loadPlayList('"+currentVidId+"', false, true)",loadPlayListTime);}else{if(!isBVPPage){cnnCVPErroredOut(this.g_domIdStr,this.g_context);}}cnnNextVideoToPlay="";},onAdError:function(message){},onContentVolume:function(muted,volume){if(this.isAdPlaying){this.adVolumeEvents.push([volume,""+muted]);}if(this.canSetVolume){if(typeof(CNN_setCookie)=="function"){CNN_setCookie("VideoVolume",volume,854400,"/",document.domain);}cnnStoredVideoVolume=volume;}if(this.canSetMute){if(typeof(CNN_setCookie)=="function"){CNN_setCookie("VideoMute",muted,854400,"/",document.domain);}cnnStoredVideoMute=""+muted;}},onVideoTrackingAdClick:function(videoId,url){},onVideoTrackingProgress:function(videoId,percent){},onVideoTrackingLifetime:function(seconds){},onVideoTrackingFullscreen:function(videoId,fullscreen){},onVideoTrackingMuted:function(videoId,muted){},onVideoTrackingPaused:function(videoId,paused){},onVideoTrackingCompleted:function(videoId){},onVideoTrackingReplay:function(videoId){},onVideoTrackingPlay:function(videoId){},onContentTrackingLifetime:function(seconds){},onContentTrackingAdCountdown:function(secs){if(this.options.lastAdCountdownNumber!=secs){this.options.lastAdCountdownNumber=secs;if(typeof this.options.adCountdownDomId=="string"&&this.options.adCountdownDomId.length>1&&$(this.options.adCountdownDomId)){var adCountDownNodes=$(this.options.adCountdownDomId).select("span");if(adCountDownNodes&&adCountDownNodes.length&&adCountDownNodes.length>-1){secs=secs>9?secs:"0"+secs;if(adCountDownNodes[0].innerText){adCountDownNodes[0].innerText=secs;}else{adCountDownNodes[0].update(secs);}}}}}});cvpPlayers.push(player);}return player;}var fwLib={version:1,loadComplete:false,currentSwapIndex:0,fwJSLibsLoaded:function(){return true;},flIntegration:{testFn:function(){alert("FL Integration");},getElementsByClass:function(a,m,e){var b=(m=="*"&&a.all)?a.all:a.getElementsByTagName(m);var l=new Array();var n=new Array();if(typeof e=="object"){for(var f=0;f<e.length;f++){n.push(new RegExp("(^|\\s)"+e[f].replace(/\-/g,"\\-")+"(\\s|$)"));}}else{n.push(new RegExp("(^|\\s)"+e.replace(/\-/g,"\\-")+"(\\s|$)"));}var g;var h;for(var d=0;d<b.length;d++){g=b[d];h=true;for(var c=0;c<n.length;c++){if(!n[c].test(g.className)){h=false;break;}}if(h){l.push(g);}}return l;},findPageSlots:function(){var c=new Array();var e="";var a=this.getElementsByClass(document,"span","_fwph");for(var d=0;d<a.length;++d){e=a[d].getAttribute("id");c.push(e);var b=document.getElementById("_fw_input_"+e);c.push(b.getAttribute("value"));}return c;},savedSlots:[],replacePageSlotInnerHtml:function(innerHTML,safeId,saveOrigin){var parentContainer=document.getElementById(safeId);var originalContainer=document.getElementById("_fw_container_"+safeId);var adContainer=document.createElement("span");var isIE=navigator.appVersion.match(/\bMSIE\b/);if(document.getElementById("_fw_container_"+safeId+"_new_"+fwLib.currentSwapIndex)){this.restorePageSlot(safeId);}var newSpanId="_fw_container_"+safeId;if(saveOrigin){newSpanId+="_new_"+fwLib.currentSwapIndex;}var attrs=originalContainer.attributes;for(var i=0;i<attrs.length;i++){var name=attrs[i].name||attrs[i].nodeName;var value=attrs[i].value||attrs[i].nodeValue;if(isIE&&(!name||value==="null"||value==="false"||!value)){continue;}if(name=="id"){value=newSpanId;}adContainer.setAttribute(name,value);}if(isIE){for(var i in originalContainer.style){try{if(i=="content"){continue;}adContainer.style[i]=originalContainer.style[i];}catch(e){}}}if(saveOrigin){originalContainer.style.display="none";parentContainer.appendChild(adContainer);}else{originalContainer.parentNode.replaceChild(adContainer,originalContainer);}adContainer.innerHTML=innerHTML;var fw_js=document.getElementById("_fw_container_js_"+safeId);if(fw_js){eval(fw_js.innerHTML);}},restorePageSlot:function(a){if(!a||!document.getElementById("_fw_container_"+a+"_new_"+fwLib.currentSwapIndex)){return;}var c=document.getElementById("_fw_container_"+a+"_new_"+fwLib.currentSwapIndex++);document.getElementById(a).removeChild(c);var b=document.getElementById("_fw_container_"+a);b.style.display="inline";},clearSavedPageSlots:function(){for(var a in fwLib.flIntegration.savedSlots){fwLib.flIntegration.savedSlots[a]=null;}},isPageLoaded:function(){return fwLib.loadComplete;},onLoadComplete:function(){fwLib.loadComplete=true;},addLoadEvent:function(a){var b=window.onload;if(typeof window.onload!="function"){window.onload=a;}else{window.onload=function(){if(b){b();}a();};}}}};fwLib.flIntegration.addLoadEvent(fwLib.flIntegration.onLoadComplete);var cnnCurrDay;var cnnOmniHour;var cnnOmniTime;if(typeof(cnnCurrMin)!="undefined"){var cnnOmniMint="00";if(cnnCurrMin>=15&&cnnCurrMin<30){cnnOmniMint="15";}if(cnnCurrMin>=30&&cnnCurrMin<45){cnnOmniMint="30";}if(cnnCurrMin>=45&&cnnCurrMin<60){cnnOmniMint="45";}}if(typeof(cnnCurrHour)!="undefined"){if(cnnCurrHour<10){var cnnOmniHour="0"+cnnCurrHour;
}else{cnnOmniHour=cnnCurrHour;}}if(typeof(cnnCurrHour)!="undefined"){var cnnOmniTime=cnnOmniHour+":"+cnnOmniMint;}function irLoadPlayer(f,m,d){var e;var h=irGetUniqueDomId("irPlayer-"+f);if(d<1){e='<div id="'+h+'" style="width:400px; height:300px; margin:0; border:0; padding:0; text-align:center; '+'background:#000; color:#BBB; font:12px/300px Arial,verdana,sans-serif;">'+"This content is currently unavailable."+"</div>";}else{var c=(d>1)?"ireport_embed_tabs.swf":"ireport_embed.swf";var k=(d>1)?"embed_with_tabs":"embed";var b=400;var l=(d>1)?330:300;var e;var g=/\b(iPad|iPod|iPhone)\b/.test(navigator.userAgent);if(!g){e='<object id="'+h+'" width="'+b+'" height="'+l+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">'+'<param name="allowfullscreen" value="true" />'+'<param name="allowscriptaccess" value="always" />'+'<param name="movie" value="http://web.archive.org/web/20141022083301/http://ireport.cnn.com/themes/custom/resources/cvplayer/'+c+"?player="+k+"&amp;configPath=http://ireport.cnn.com&amp;"+"playlistId="+encodeURIComponent(f)+"&amp;"+"contentId="+encodeURIComponent(f)+'/0&amp;" />'+'<param name="bgcolor" value="#FFFFFF" />'+'<embed src="http://web.archive.org/web/20141022083301/http://ireport.cnn.com/themes/custom/resources/cvplayer/'+c+"?player="+k+"&amp;configPath=http://ireport.cnn.com&amp;"+"playlistId="+encodeURIComponent(f)+"&amp;"+"contentId="+encodeURIComponent(f)+'/0&amp;" '+'type="application/x-shockwave-flash" bgcolor="#FFFFFF" '+'allowfullscreen="true" allowscriptaccess="always" '+'width="'+b+'" height="'+l+'">'+"</embed>"+"</object>";}else{e="<iframe "+'src="http://web.archive.org/web/20141022083301/http://ireport.cnn.com/themes/custom/resources/htmlplayer/iframe.html?'+"docID="+encodeURIComponent(f)+'" '+'style="width:'+b+"px; height:"+l+"px; background-color #000000; "+'margin:0; padding:0; border:0; overflow:hidden">'+"</iframe>";}}var a=document.getElementById(m);if(a){a.innerHTML=e;}}function irGetUniqueDomId(b){var e=b;var d=new Date().valueOf();var a=0;var c=document.getElementById(e);while(c&&a<99){e=b+"-"+(d+a++);c=document.getElementById(e);}return e;}
/*!
 * jQuery Countdown plugin v1.0
 * http://www.littlewebthings.com/projects/countdown/
 *
 * Copyright 2010, Vassilis Dourdounis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
(function(a){a.fn.countDown=function(b){config={};a.extend(config,b);diffSecs=this.setCountDown(config);if(config.onComplete){a.data(a(this)[0],"callback",config.onComplete);}if(config.omitWeeks){a.data(a(this)[0],"omitWeeks",config.omitWeeks);}a("#"+a(this).attr("id")+" .digit").html('<div class="top"></div><div class="bottom"></div>');a(this).doCountDown(a(this).attr("id"),diffSecs,500);return this;};a.fn.stopCountDown=function(){clearTimeout(a.data(this[0],"timer"));};a.fn.startCountDown=function(){this.doCountDown(a(this).attr("id"),a.data(this[0],"diffSecs"),500);};a.fn.setCountDown=function(b){var d=new Date();if(b.targetDate){d=new Date(b.targetDate.month+"/"+b.targetDate.day+"/"+b.targetDate.year+" "+b.targetDate.hour+":"+b.targetDate.min+":"+b.targetDate.sec+(b.targetDate.utc?" UTC":""));}else{if(b.targetOffset){d.setFullYear(b.targetOffset.year+d.getFullYear());d.setMonth(b.targetOffset.month+d.getMonth());d.setDate(b.targetOffset.day+d.getDate());d.setHours(b.targetOffset.hour+d.getHours());d.setMinutes(b.targetOffset.min+d.getMinutes());d.setSeconds(b.targetOffset.sec+d.getSeconds());}}var c=new Date();diffSecs=Math.floor((d.valueOf()-c.valueOf())/1000);a.data(this[0],"diffSecs",diffSecs);return diffSecs;};a.fn.doCountDown=function(f,b,d){$this=a("#"+f);if(b<=0){b=0;if(a.data($this[0],"timer")){clearTimeout(a.data($this[0],"timer"));}}secs=b%60;mins=Math.floor(b/60)%60;hours=Math.floor(b/60/60)%24;if(a.data($this[0],"omitWeeks")==true){days=Math.floor(b/60/60/24);weeks=Math.floor(b/60/60/24/7);}else{days=Math.floor(b/60/60/24)%7;weeks=Math.floor(b/60/60/24/7);}$this.dashChangeTo(f,"seconds_dash",secs,d?d:800);$this.dashChangeTo(f,"minutes_dash",mins,d?d:1200);$this.dashChangeTo(f,"hours_dash",hours,d?d:1200);$this.dashChangeTo(f,"days_dash",days,d?d:1200);$this.dashChangeTo(f,"weeks_dash",weeks,d?d:1200);a.data($this[0],"diffSecs",b);if(b>0){var c=$this;t=setTimeout(function(){c.doCountDown(f,b-1);},1000);a.data(c[0],"timer",t);}else{if(cb=a.data($this[0],"callback")){a.data($this[0],"callback")();}}};a.fn.dashChangeTo=function(h,f,g,c){$this=a("#"+h);for(var b=($this.find("."+f+" .digit").length-1);b>=0;b--){var e=g%10;g=(g-e)/10;$this.digitChangeTo("#"+$this.attr("id")+" ."+f+" .digit:eq("+b+")",e,c);}};a.fn.digitChangeTo=function(d,c,b){if(!b){b=800;}if(a(d+" div.top").html()!=c+""){a(d+" div.top").css({"display":"none"});a(d+" div.top").html((c?c:"0")).slideDown(b);a(d+" div.bottom").animate({"height":""},b,function(){a(d+" div.bottom").html(a(d+" div.top").html());a(d+" div.bottom").css({"display":"block","height":""});a(d+" div.top").hide().slideUp(10);});}};})(jQuery);if("undefined"===typeof CNN){var CNN={};}if("undefined"===typeof CNN.adbp){CNN.adbp={};}CNN.adbp.clicktrack={"sendSocialClick":function(a){var b=a.attr("data-adbp-social-click");try{jsmd.trackMetrics("social-click",{"clickObj":{"socialType":b}});}catch(c){if("undefined"!==typeof console){console.log("Unable to send social-click of type: "+b+" for link, "+a.attr("href"));}}}};jQuery(document).ready(function(){jQuery("[data-adbp-social-click]").on("click",function(a){CNN.adbp.clicktrack.sendSocialClick(jQuery(this));});});if("undefined"===typeof window.CNN){var CNN={};}CNN.sectiontracking={};CNN.sectiontracking.configs=[{selector:".backstory .cnn_widget_first a",key:"hpt",value:"bk_r1"},{selector:".backstory .cnn-promo-container a",key:"hpt",value:"bk_r2"},{selector:".situationroom .rssandabout a",key:"hpt",value:"sr_r1"},{selector:".situationroom .cnn_spccovvidscrbx a",key:"hpt",value:"sr_r2"},{selector:".situationroom .cnn_widget_categories a",key:"hpt",value:"sr_r3"},{selector:".situationroom .cnn_widget_stats_topposts a",key:"hpt",value:"sr_r4"},{selector:".piersmorgan .cnn_latest_videos a",key:"hpt",value:"pm_r1"},{selector:".nancygrace #linkcat-59784994 a",key:"hpt",value:"ng_r1"},{selector:".nancygrace .cnn_widget_recent_entries a",key:"hpt",value:"ng_r2"},{selector:".nancygrace .cnn_widget_tag_cloud a",key:"hpt",value:"ng_r3"},{selector:".drdrew .widget-2 .cnn_social_icons a",key:"hpt",value:"dr_r1"},{selector:".drdrew .videoasking a",key:"hpt",value:"dr_r2"},{selector:".drdrew .cnn_widget_categories a",key:"hpt",value:"dr_r3"},{selector:".ac360 .cnn_widget_first .cnn_social_icons a",key:"hpt",value:"ac_r1"},{selector:".ac360 .achookslink a",key:"hpt",value:"ac_r1"},{selector:".ac360 #linkcat-55607083 a",key:"hpt",value:"ac_r2"},{selector:".ac360 .cnn_tweet_river_content a",key:"hpt",value:"ac_r3"},{selector:".ac360 .actranscripthook a",key:"hpt",value:"ac_r4"}];CNN.sectiontracking.processLinks=function(e){var d=$$(e.selector),a,c,b;for(a in d){if(d.hasOwnProperty(a)){if((d[a].nodeName==="OPTION")&&(d[a].value!=="")&&(d[a].value.indexOf(e.key+"=")===-1)){c=(d[a].value.indexOf("?")>-1)?"&":"?";d[a].value=d[a].value+c+e.key+"="+e.value;
}if((d[a].nodeName==="A")&&(d[a].href.indexOf(e.key+"=")===-1)){if(d[a].href!==""){c=(d[a].href.indexOf("?")>-1)?"&":"?";if(d[a].href.indexOf("avascript:")===-1){if((d[a].href.indexOf("#")===-1)||(d[a].href.indexOf("video/#/video")>-1)){d[a].href=d[a].href+c+e.key+"="+e.value;}}else{if(d[a].href.indexOf("cnnLiveVideo")>-1){d[a].href=d[a].href.replace("')",c+e.key+"="+e.value+"')");}if(d[a].href.indexOf("openPopup")>-1){b=/(\('[\/\w\.]+)/;d[a].href=d[a].href.replace(b,"$1"+c+e.key+"="+e.value);}}}}}}};Event.observe(window,"load",function(){var a;for(a in CNN.sectiontracking.configs){if(CNN.sectiontracking.configs.hasOwnProperty(a)){CNN.sectiontracking.processLinks(CNN.sectiontracking.configs[a]);}}});var cnn_Slider=(typeof Class==="object")?Class.create():{},cnn_SectionTechPulse;cnn_Slider.prototype=Object.extend(new cnnHorizontalSlider(),{initialize:function(b){var a=this;this.config=b?b:{};this.defaults={nextButtonContainerId:"cnn_poltwtrnext",prevButtonContainerId:"cnn_poltwtrprev"};this.settings=Object.extend(this.defaults,this.config);try{this.elIdentifier=this.settings.stripClass||"cnn_poltwtrtwts1";this.container=this.settings.stripContainerId||"cnn_TwitterSliderContainer";this.viewPort=this.settings.displayWidth||880;this.currentTab=this.settings.currentTab||0;}catch(d){}try{this.prevClick=0;this.nextClick=0;this.locked=false;this.sliderWidth=this.findPanels();this.numScreens=this.sliderWidth;this.negativeOffSetMax=this.setOffSet();this.positiveOffSetMax=0;this.currentPanel=0;this.setSliderWidth();this.buildNav();this.getCurrentOffSet();this.durationMultiplier=0.5;this.containerContainerId="cnn_TwitterSliderContainerContainer";this.nexttimer=window.setInterval(function(){a.startNextSlide();},7000);}catch(c){}},showImages:function(a){},buildNav:function(){var b=$(this.settings.prevButtonContainerId),a=$(this.settings.nextButtonContainerId);b.className="cnn_poltwtrprevoff";a.className=this.sliderWidth>1?"cnn_poltwtrnext":"cnn_poltwtrnextoff";if(this.sliderWidth>1){b.observe("click",this.startPrevSlideClick.bind(this));a.observe("click",this.startNextSlideClick.bind(this));}},startNextSlide:function(){if((this.currentPanel+1)<this.numScreens){this.btnSlide(this.currentPanel+1);}},startPrevSlide:function(){if($(this.containerContainerId)){$(this.containerContainerId).className="cnn_SRLTpulse5";}if(this.currentPanel>0){this.btnSlide(this.currentPanel-1);}},startNextSlideClick:function(){this.stopNextSlide();this.prevClick=0;if(this.locked){this.nextClick+=1;}else{this.startNextSlide();}},startPrevSlideClick:function(){this.stopNextSlide();this.nextClick=0;if(this.locked){this.prevClick+=1;}else{this.startPrevSlide();}},stopNextSlide:function(){if(this.nexttimer){this.nextClick=0;window.clearInterval(this.nexttimer);delete this.nexttimer;}},checkForNewBtnSlide:function(){if(this.prevClick>0){this.prevClick-=1;this.startPrevSlide();}else{if(this.nextClick>0){this.nextClick-=1;this.startNextSlide();}}},btnSlide:function(a){var e,b,c,d;if(!this.locked){e=this;this.locked=true;this.timer=setTimeout(function(){e.getCurrentOffSet();b=(a*e.viewPort)*-1;c=(b>e.currOffSet)?(b-e.currOffSet):(e.currOffSet-b)*-1;d=(c>0)?e.durationMultiplier*(c/e.viewPort):(e.durationMultiplier*(c/e.viewPort))*-1;if(d<0){d=d*-1;}if(e.currOffSet>e.negativeOffSetMax||e.currOffSet<e.positiveOffSetMax){new Effect.MoveBy($(e.container).id,0,c,{duration:d,beforeStart:function(){e.showImages();},afterFinish:function(){e.locked=false;e.setCurrentPanel();e.checkForNewBtnSlide();}});}},300);}},updateNav:function(){if((this.currentPanel+1)<this.numScreens){$(this.settings.nextButtonContainerId).className="cnn_poltwtrnext";}else{$(this.settings.nextButtonContainerId).className="cnn_poltwtrnextoff";if($(this.containerContainerId)){$(this.containerContainerId).className="cnn_SRLTpulse5_REnd";}}if(this.currentPanel>0){$(this.settings.prevButtonContainerId).className="cnn_poltwtrprev";}else{$(this.settings.prevButtonContainerId).className="cnn_poltwtrprevoff";}},varDefined:function(val){var t,expression="t = (typeof("+val+') !== "undefined");';eval(expression);return t;},returnVarValue:function(val){return eval(val);}});Event.observe(window,"load",function(){if($("cnn_TwitterSliderContainer")&&typeof cnn_SectionTechPulse!=="object"){cnn_SectionTechPulse=new cnn_Slider();}});document.observe("dom:loaded",function(){rotateT1={current:1,first:1,last:4,timer:0,moveNext:function(){if(this.current<this.last){this.current++;}else{this.current=this.first;}this.activatePanel(document.getElementById("cnnEatHero"+this.current+"Ctrl"));},activatePanel:function(b){$$("#cnnEatT1Controls li").each(function(a){a.removeClassName("cnnT1Selected");});$(b).addClassName("cnnT1Selected");$$(".cnnEatT1Hero").each(function(a){a.removeClassName("cnnEatT1Current");a.hide();});var c=$(b).id.split("Ctrl")[0];$(c).fade({duration:1,from:0,to:1});$(c).show();var d=b.id.split("Ctrl")[0];d=d.split("cnnEatHero")[1];this.current=d;},startAutoplay:function(){this.timer=setInterval("rotateT1.moveNext();",5000);},stopAutoplay:function(){clearInterval(this.timer);},init:function(){$$("#cnnEatT1Controls li").each(function(a){a.observe("click",function(){rotateT1.stopAutoplay();rotateT1.activatePanel(this);});a.observe("mouseover",function(){a.addClassName("over");});a.observe("mouseout",function(){a.removeClassName("over");});});$$("#cnnEatT1Controls a").each(function(b){Event.observe(b,"click",function(d){var c=Event.findElement(d,"a");if(!(c.parentNode.parentNode.hasClassName("cnnT1Selected"))){d.preventDefault();}});});rotateT1.startAutoplay();}};if($("cnnEatT1Controls")){rotateT1.init();}});var AIS_VERSION="ais.cnn.2";var cnnad_transactionID=null;function cnnad_getTransactionID(){if(cnnad_transactionID==null){cnnad_transactionID="";cnnad_transactionID=Math.round((new Date()).getTime()/1000)+""+Math.floor(Math.random()*9007199254740992);}return cnnad_transactionID;}function cnnad_readCookie(b){if(document.cookie==""){return null;}else{var a=document.cookie.split(";");var e=b+"=";for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length);}if(f.indexOf(e)==0){return f.substring(e.length,f.length);}}return null;}}function cnnad_haveCookie(b){return document.cookie&&(-1<document.cookie.indexOf("; "+b+"=")||document.cookie.indexOf(b+"=")==0);}function cnnad_ugsync(){if(!cnnad_haveCookie("ugs")){document.write("<scr"+'ipt src="http://web.archive.org/web/20141022083301/http://www.ugdt'+'urner.com/xd.sjs"></scr'+"ipt>");}}cnnad_getTransactionID();cnnad_ugsync();window.Krux||((Krux=function(){Krux.q.push(arguments);}).q=[]);(function(){var b=document.createElement("script");b.type="text/javascript";b.async=true;var a,d=(a=location.href.match(/\bkxsrc=([^&]+)/))&&decodeURIComponent(a[1]);b.src=/^https?:\/\/([^\/]+\.)?krxd\.net(:\d{1,5})?\//i.test(d)?d:d==="disable"?"":(location.protocol==="https:"?"https:":"http:")+"//web.archive.org/web/20141022083301/http://cdn.krxd.net/controltag?confid=ITb_4eqO";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c);}());window.Krux||((Krux=function(){Krux.q.push(arguments);}).q=[]);window.kvs=[];(function getKruxData(){function b(e){var c,d="kx"+e;if(window.localStorage){return window.localStorage[d]||"";}else{if(navigator.cookieEnabled){c=document.cookie.match(d+"=([^;]*)");return(c&&unescape(c[1]))||"";}else{return"";}}}Krux.user=b("user");Krux.segments=b("segs")&&b("segs").split(",")||[];for(var a=0;a<Krux.segments.length;a++){if(kvs.length<20){kvs.push(Krux.segments[a]);}}})();function krux_getDESegments(){var a="&kxid=";if(Krux.user){a+=Krux.user;}a+="&kxseg="+kvs.join(",");return a;}function krux_getFWSegments(){return"kxseg="+kvs.join(",kxseg=");}function CNN_extractHost(a){var b=/^(?:[^:\/?#]+):\/\/([^\/?#]+)(?::\d+)?(?:[^?#]*)\//i.exec(a);if(b&&typeof b==="object"){return b[1];}else{return"";}}function CNN_bustFrame(){var a=["digg.com"];if(top.location!=window.location){var c=CNN_extractHost(document.referrer);if(c){for(var b=0;b<a.length;b++){if(c.indexOf(a[b])!=-1){top.location.replace(window.location);return;}}}}}CNN_bustFrame();
var adHeadOffset,adHeadClass,allCookies,adHeadCookie,isClassAndOffsetValid,alreadySwappedTargetImage,alreadySwappedCookieCrumb,adHeadHash,validClassesAndOffsets,i,alreadySwappedDETargetImage,cnnDEadDEonCookie,cnnU_Country,cnnAdDE_UVal;function CNN_getCookies(){var d,c,b,a;d=[];if(document.cookie){c=document.cookie.split("; ");for(b=0;b<c.length;b+=1){a=c[b].split("=");d[a[0]]=unescape(a[1])||null;}}return d;}function CNN_parseCookieData(a){var d,e,b,c;d={};e=a.split("&");for(b=0;b<e.length;b+=1){c=e[b].split(":");d[c[0]]=c[1]||null;}return d;}adHeadOffset=0;adHeadClass="us.low";allCookies=new CNN_getCookies();adHeadCookie=allCookies.hasOwnProperty("Target")?allCookies.Target:null;isClassAndOffsetValid=false;alreadySwappedTargetImage=false;alreadySwappedCookieCrumb=false;if(adHeadCookie){adHeadHash=new CNN_parseCookieData(adHeadCookie);if(adHeadHash.o&&adHeadHash["class"]){validClassesAndOffsets=["us.low",0,"us.high",1,"intl",2,"intl",3,"us.edu",0,"us.gov",0,"us.mil",0,"us.org",0];for(i=0;i<validClassesAndOffsets.length;i+=2){if(validClassesAndOffsets[i]===adHeadHash["class"]&&validClassesAndOffsets[i+1]===adHeadHash.o){isClassAndOffsetValid=true;break;}}}if(isClassAndOffsetValid){adHeadOffset=adHeadHash.o;adHeadClass=adHeadHash["class"];}}function getCookieCrumb(b){var a;a=allCookies.CNNid;if(!alreadySwappedCookieCrumb&&!("G"===a&&a.charAt(0))){b.src="http://web.archive.org/web/20141022083301/http://cnn.dyn.cnn.com/cookie.crumb";alreadySwappedCookieCrumb=true;}}document.adoffset=adHeadOffset;function getAdHeadCookie(b){var a;a="http://web.archive.org/web/20141022083301/http://cnn.dyn.cnn.com/1.gif?"+new Date().getTime();if(!alreadySwappedTargetImage&&!isClassAndOffsetValid&&("undefined"!==typeof WM_browserAcceptsCookies)&&(new WM_browserAcceptsCookies())){b.src=a;alreadySwappedTargetImage=true;}}alreadySwappedDETargetImage=false;cnnDEadDEonCookie=false;cnnU_Country="";cnnAdDE_UVal="R00";function WM_readCookie(b){var d,c,a,e;if(""===document.cookie){return false;}else{a=document.cookie;d=a.indexOf(b);e=d+b.length;if((-1!==d)&&"="===(a.charAt(e))){d+=b.length+1;c=a.indexOf(";",d);if(-1===c){c=a.length;}return unescape(a.substring(d,c));}else{return false;}}}function getDEAdHeadCookie(b){var a;cnnDEadDEonCookie=allCookies.adDEon;a="http://web.archive.org/web/20141022083301/http://gdyn.cnn.com/1.1/1.gif?"+new Date().getTime();if(!alreadySwappedDETargetImage&&!cnnDEadDEonCookie){b.src=a;alreadySwappedDETargetImage=true;}}var cnnad_tileID=cnnad_getID();var cnnad_enabled=true;var cnnad_adIframes=new Array();var cnnad_adVault=new Array();var cnnad_adCache=new Array();var cnnad_interstitialPID=null;var cnnad_interstitialPlaying=false;var alreadySwappedDETargetImage=false;var cnnDEadDEonCookie=false;var cnnDocDomain=cnnad_getTld(location.hostname);if(cnnDocDomain){document.domain=cnnDocDomain;}var cnnad_pageMode=1;var cnnad_calledURLs=new Array();var cnnad_successfulSend=0;var cnnad_resultArray=new Array();var cnnad_ADMSizes=new Array();cnnad_ADMSizes=["728x90","300x250","336x280","160x600","336x850","300x600"];function cnnad_setADMSizes(a){cnnad_ADMSizes=a;}function cnnad_parseReferrer(b){if(!b){return null;}var c=b.substring(0,b.indexOf("/",7));if(c.indexOf(":",5)>0){c=c.substring(0,b.indexOf(":",5));}c=c.substring(c.lastIndexOf("/")+1);var a=c.split(".");return(a[a.length-2]+"."+a[a.length-1]);}function cnnad_sendADMData(){var g="";for(as=0;as<cnnad_ADMSizes.length;as++){var c=cnnad_calledURLs[cnnad_ADMSizes[as]];if(c&&cnnad_successfulSend==0){if(cnnad_pageMode!=3){g+="<scr"+"ipt> \n ";if(cnnad_pageMode==1){g+='	A09801.DM_cat("';var b=cnnad_getParamValue(c,"site=","&");var d=cnnad_getParamValue(c,"_rollup=","&");var f=cnnad_getParamValue(c,"_section=","&");var e=cnnad_getParamValue(c,"_subsection=","&");var a=cnnad_parseReferrer(document.referrer);g+=b;if((b!="")&&((d!="")||(f!="")||(e!=""))){g+=" > ";}g+=d;if((d!="")&&((f!="")||(e!=""))){g+=" > ";}g+=f;if((f!="")&&(e!="")){g+=" > ";}g+=e;g+='"); \n ';if(a){g+=' A09801.DM_addEncToLoc("refer", "'+a+'"); \n ';}else{g+=" A09801.DM_addEncToLoc(); \n ";}}g+="	A09801.DM_tag(); \n ";g+="</scr"+"ipt> \n ";document.write(g);}cnnad_successfulSend=1;break;}}}function cnnad_getParamValue(e,f,c){if(e.match(f)){var a=e.indexOf(f)+f.length;var b=e.indexOf(c,a);var d=e.substring(a,b);return d;}else{return"";}}var cnnad_adTileIDGroup=new Array();var cnnad_newTileIDIteration=0;var cnnad_tileExemptions=new Array();function cnnad_addExemptCriteria(){var a=cnnad_tileExemptions.length;if(arguments.length%2!=0){return;}cnnad_tileExemptions[a]=new Array();for(var b=0;b<arguments.length;b+=2){cnnad_tileExemptions[a][arguments[b]]=arguments[b+1];}}function cnnad_checkTileExempt(c){var a;for(var b=0;b<cnnad_tileExemptions.length;b++){a=true;for(adKey in cnnad_tileExemptions[b]){adValue=cnnad_getParamValue(c,adKey+"=","&");if(cnnad_tileExemptions[b][adKey]!=adValue){a=false;break;}}if(a){return true;}}return false;}function cnnad_newTileIDGroup(c){var b=(cnnad_tileID*1+4*(++cnnad_newTileIDIteration));for(var a=0;a<c.length;a++){cnnad_adTileIDGroup[cnnad_adTileIDGroup.length]={tileID:b,adName:c[a]};}}function cnnad_getDynamicTileID(c){var b=cnnad_tileID;if(cnnad_checkTileExempt(c)){return b;}if(cnnad_adTileIDGroup.length>0){var e;if(c.match("_position=")){e=cnnad_getParamValue(c,"_position=","&");}else{if(c.match("_pos=")){e=cnnad_getParamValue(c,"_pos=","&");}else{e="";}}for(var a=0;a<cnnad_adTileIDGroup.length;a++){var d=cnnad_adTileIDGroup[a].adName;if(e==d){b=cnnad_adTileIDGroup[a].tileID;break;}}}return b;}function cnnad_debug(a){if(typeof(console)!="undefined"&&typeof(console.debug)!="undefined"){console.debug(a);}}function cnnad_error(a){if(typeof(console)!="undefined"&&typeof(console.error)!="undefined"){console.error(a);}}function cnnad_reverseString(b){b=""+b;var a="";if(b.length){var c;for(c=b.length;c>0;c--){a+=b.charAt(c-1);}}return(a);}function cnnad_getID(){return(cnnad_reverseString(new Date().getTime()));}function cnnad_renderAd(b,c){b=cnnad_preview(b);b=cnnad_statusCodeQA(b);try{b+=krux_getDESegments();}catch(a){b+="&kxid=&kxseg=";}b=b+"&tile="+cnnad_getDynamicTileID(b)+"&transactionID="+cnnad_getTransactionID();if(typeof c!=="undefined"){b=b+"&domId="+c;}b=cnnad_addParameters(b);if(cnnad_enabled==true){document.write('<script type="text/javascript" src="'+b+'"></scr'+"ipt>");}}function cnnad_preview(b){if(location.host.indexOf("turner.com")>-1){b=b.replace(new RegExp("ads..*?.com","gi"),"ads.turner.com");b=b.replace(new RegExp("ads..*?.tv","gi"),"ads.turner.com");}var a=cnnad_readCookie("ug");if(a){b=b+"&Params.User.UserID="+a;}else{b=b+"&Params.User.UserID=";}return b;}function cnnad_getTransactionID(){if(typeof cnnad_transactionID==="undefined"||cnnad_transactionID==null){cnnad_transactionID=Math.round((new Date()).getTime()/1000)+""+Math.floor(Math.random()*9007199254740992);}return cnnad_transactionID;}function cnnad_isBlocking(b){var a=false;if(document.getElementById("ad-"+b)!=null&&document.getElementById("ad-"+b).style.display==="none"){a=true;}else{if(cnnad_interstitialPlaying===true){a=true;}}return a;}function cnnad_createAd_string(b,e,d,c,f){e=cnnad_preview(e);e=cnnad_statusCodeQA(e);e+="&transactionID="+cnnad_getTransactionID();e+=cnnad_getDynamicTileID(e)+"&domId="+b;var a={adId:b,cnnad_url:e,cnnad_height:d,cnnad_width:c,target:f};e=cnnad_addParameters(e);e+=process_foreign_js(a);return('<iframe ALLOWTRANSPARENCY="true" hspace="0" vspace="0" marginHeight="0" marginWidth="0" src="'+e+'" border="0" frameBorder="0" height="0" width="0" scrolling="no"  id="'+b+'" style="position: absolute; top: -20px; left: -20px;" ></iframe>');}function cnnad_createIframe(c,b){var a=document.createElement("iframe");a.id=c;a.name="Advertisement";a.width=0;a.height=0;a.style.position="absolute";a.style.top="-20px";a.style.left="-20px";a.marginWidth=0;a.marginHeight=0;a.frameBorder=0;a.scrolling="no";a.allowTransparency="true";a.src=b;return a;}function cnnad_createAdHelper(a,e,c,b,f){if(cnnad_isBlocking(a)){window.setTimeout(function(){cnnad_createAdHelper(a,e,c,b,f);},1000);}else{var g=document.getElementById("ad-"+a);if(g){g.appendChild(cnnad_createIframe(a,e));
}else{if(!f){document.write('<iframe ALLOWTRANSPARENCY="true" hspace="0" vspace="0" marginHeight="0" marginWidth="0" src="'+e+'" border="0" frameBorder="0" height="0" width="0" scrolling="no"  id="'+a+'" style="position: absolute; top: -20px; left: -20px;" ></iframe>');}else{document.getElementById(f).innerHTML='<iframe ALLOWTRANSPARENCY="true" hspace="0" vspace="0" marginHeight="0" marginWidth="0" src="'+e+'" border="0" frameBorder="0" height="0" width="0" scrolling="no"  id="'+a+'" style="position: absolute; top: -20px; left: -20px;" ></iframe>';}}}}function cnnad_createAdNoTileId(a,d,c,b,e){d=cnnad_preview(d);d=cnnad_statusCodeQA(d);d+="&transactionID="+cnnad_getTransactionID();d+="&domId="+a;cnnad_createAdHelper(a,d,c,b,e,false);}function cnnad_addParameters(b){if(typeof window.ad_params!=="undefined"){if(window.ad_params.length>20){var a=window.ad_params.splice(19,window.ad_params.length-20);}b+="&"+window.ad_params.join("&");}return b;}var ads_register=[];function cnnad_createAd(b,f,e,d,g){try{if(SKIP_AD_CREATION!=="undefined"&&SKIP_AD_CREATION==true){return;}}catch(c){}f=cnnad_preview(f);f=cnnad_statusCodeQA(f);f+="&transactionID="+cnnad_getTransactionID();f+="&tile="+cnnad_getDynamicTileID(f)+"&domId="+b;try{f+=krux_getDESegments();}catch(c){f+="&kxid=&kxseg=";}f=cnnad_addParameters(f);cnnad_createAdHelper(b,f,e,d,g,false);var a=new String();if(f.match("_position=")){a=cnnad_getParamValue(f,"_position=","_");}else{if(f.match("_pos=")){a=cnnad_getParamValue(f,"_pos=","_");}else{a="";}}cnnad_calledURLs[a]=f;var h="ad-"+b;ads_register.push(h);}function cnnad_createAd_string(a,d,c,b,e){d=cnnad_metricUrl(d,c,b);d=cnnad_preview(d);d=cnnad_statusCodeQA(d);d+="&transactionID="+cnnad_getTransactionID();d+="&tile="+cnnad_getDynamicTileID(d)+"&domId="+a;return('<iframe ALLOWTRANSPARENCY="true" hspace="0" vspace="0" marginHeight="0" marginWidth="0" src="'+d+'" border="0" frameBorder="0" height="0" width="0" scrolling="no"  id="'+a+'" style="position: absolute; top: -20px; left: -20px;" ></iframe>');}function repaint_ads(){var a=navigator.userAgent.match(/Firefox\/(.*)$/);if(a&&a.length>1){var b=a[1]*1;if(b>=17){for(ea in ads_register){el=document.getElementById(ads_register[ea]);if(el){el.style.display="none";el.offsetHeight;el.style.display="block";}}}}}if(window.addEventListener){window.addEventListener("load",repaint_ads,false);}function cnnad_writeAd(b,a){if(cnnad_enabled==true){document.write('<script id="'+b+'" type="text/javascript" onload="cnnSendData();"');document.write(' src="'+a+"&tile="+cnnad_getDynamicTileID(a)+'"></scr');document.write("ipt>");}}function cnnad_showAd(a){var b=document.getElementById(a);if(b){b.style.position="relative";b.style.left="0px";b.style.top="0px";if(b.style.visibility==="hidden"){b.style.visibility="visible";}if(b.style.display==="none"){b.style.display="block";}}else{cnnad_error("Could not find element by id: "+a);}}function cnnad_setAdSize(c,a,d){var b=document.getElementById(c);if(b){b.height=a;b.width=d;b.className+=" adunit_"+d+"x"+a;}else{cnnad_error("Could not find element by id: "+cnnad_id);}}function cnnad_readCookie(b){if(document.cookie==""){return null;}else{var a=document.cookie.split(";");var e=b+"=";for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length);}if(f.indexOf(e)==0){return f.substring(e.length,f.length);}}return null;}}function cnnad_getTld(a){var b=a.split(".");if(b.length>=2){return(b[b.length-2]+"."+b[b.length-1]);}return(null);}function cnnad_refreshAds(){if(!cnnad_adIframes){return;}for(var b=0;b<cnnad_adIframes.length;b++){var a=cnnad_adIframes[b];if(document.getElementById(a)){var e=document.getElementById(a);var d="&pageload=ref";if(e.width>0&&e.height>0){var c=e.contentWindow.document.location.href;if(c.indexOf(d)>=0){e.contentWindow.location.reload();}else{e.contentWindow.location.href=c+d;}}}}setTimeout("cnnad_refreshAds();",60*1000*8);}function cnnad_swapAd(g,b){var d=document.getElementById(g);if(d){d.width=0;d.height=0;d.style.display="none";if(cnnad_adCache[b]){for(var c=0;c<window.frames.length;c++){try{if(window.frames[c].location.href.indexOf("domId="+g)>-1){window.frames[c].location.replace(cnnad_adCache[b]);}}catch(f){}}return;}if((typeof Ajax!="undefined")&&(typeof Ajax.Request!="undefined")){var a=new Ajax.Request(b,{method:"get",onSuccess:function(l){var k=cnnad_parseResponse(l.responseText,g);k=cnnad_preview(k);k=cnnad_statusCodeQA(k);k+="&transactionID="+cnnad_getTransactionID();if(k){cnnad_adCache[b]=k;for(var h=0;h<window.frames.length;h++){try{if(window.frames[h].location.href.indexOf("domId="+g)>-1){window.frames[h].location.replace(k);}}catch(m){}}return;}}});}else{if(typeof dojo!="undefined"){if(typeof dojo.io=="undefined"){dojo.require("dojo.io.*");}dojo.io.bind({url:b,load:function(k,l,e){var h=cnnad_parseResponse(l,g);h=cnnad_preview(h);h=cnnad_statusCodeQA(h);h+="&transactionID="+cnnad_getTransactionID();if(h){cnnad_adCache[b]=h;d.src=h;}}});}else{}}}}function cnnad_parseResponse(e,g){var b="<!-- CALLOUT|";var c="|CALLOUT -->";var f=e.indexOf(b);var a=e.indexOf(c);var d=null;if(f>=0&&a>f){d=e.substring(f+b.length,a);}if(d){return(d+"&tile="+cnnad_getDynamicTileID(d)+"&domId="+g);}else{return null;}}function cnnad_findAd(f,e,a){var b=null;for(var c=0;c<cnnad_adVault.length;c++){var d=cnnad_adVault[c];if(d.getType()==f&&d.getHeight()==a&&d.getWidth()==e){b=d.getUrl();break;}}return b;}function cnnad_getDEAdHeadCookie(b){if(typeof(cnnad_readCookie)!="undefined"){cnnDEadDEonCookie=cnnad_readCookie("adDEon");}var a="http://web.archive.org/web/20141022083301/http://gdyn."+cnnad_getTld(location.hostname)+"/1.1/1.gif?"+new Date().getTime();if(!alreadySwappedDETargetImage&&!cnnDEadDEonCookie){b.src=a;alreadySwappedDETargetImage=true;}}function cnnad_registerAd(e,d,a,b){var c=new cnnad_AdObject(null,d,a,e,b);cnnad_adVault[cnnad_adVault.length]=c;}function cnnad_registerSpace(d,c,a){var b=new cnnad_AdObject(d,c,a,null,null);cnnad_adIframes[cnnad_adIframes.length]=b;}function cnnad_endInterstitial(c){var b=document.getElementById("interstitial"+c);if(b&&b.parentNode){b.parentNode.removeChild(b);}var d=document.getElementById("interstitialcss"+c);if(d&&d.parentNode){d.parentNode.removeChild(d);}if(typeof(document.createStyleSheet)!="undefined"){var a=document.createStyleSheet();a.addRule("table","{display:inline}");}cnnad_interstitialPlaying=false;}function cnnad_startInterstitial(a,d,e){cnnad_interstitialPlaying=true;var c=d+"&tile="+cnnad_getDynamicTileID(d)+"&transactionId="+cnnad_getTransactionID();try{c+=krux_getDESegments();}catch(b){c+="&kxid=&kxseg=";}c+="&domId="+a;document.write('<div id="interstitial'+a+'" class="interstitial" align="center"><iframe ALLOWTRANSPARENCY="true" hspace="0" vspace="0" marginHeight="0" marginWidth="0" src="'+c+'" border="0" frameBorder="0" height="0" width="0" scrolling="no" id="'+a+'"></iframe></div>');if(!e){e=1500;}cnnad_interstitialPID=window.setTimeout('cnnad_endInterstitial("'+a+'");',e);}function cnnad_resetInterstitial(a,c){cnnad_interstitialPlaying=true;var b=document.getElementById(a);if(null!=b&&b.height>20&&b.width>20){if(cnnad_interstitialPID){window.clearTimeout(cnnad_interstitialPID);}if(!c){c=15000;}cnnad_interstitialPID=window.setTimeout('cnnad_endInterstitial("'+a+'");',c);}}function cnnad_getUrlParam(b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a="[\\?&]"+b+"=([^&#]*)";var d=new RegExp(a);var c=d.exec(window.location.href);if(c==null){return"";}else{return c[1];}}function cnnad_statusCodeQA(b){var a=cnnad_getUrlParam("adsqa");if(a){b=b+"&"+a.replace("%3D","=");}return b;}function cnnad_updateIframeSource(b,a){a=cnnad_preview(a);a=cnnad_statusCodeQA(a);a+="&transactionID="+cnnad_getTransactionID();document.getElementById(b).contentWindow.location.replace(a+"&tile="+cnnad_tileID+"&domId="+b);}function cnnad_showAdByKey(a,b){cnnad_swapAd(b,cnnad_adUrls[a]);}function cnnad_haveCookie(a){return document.cookie&&(-1<document.cookie.indexOf("; "+a+"=")||document.cookie.indexOf(a+"=")==0);}function cnnad_ugsync(){if(!cnnad_haveCookie("ug")){document.write("<scr"+'ipt src="http://web.archive.org/web/20141022083301/http://www.ugdt'+'urner.com/xd.sjs"></scr'+"ipt>");
}else{if(!cnnad_haveCookie("ugs")){document.write("<scr"+'ipt src="http://web.archive.org/web/20141022083301/http://www.ugdt'+'urner.com/xd.sjs"></scr'+"ipt>");}}}function cnnad_AdObject(e,d,a,c,b){this.id=e;this.width=d;this.height=a;this.type=c;this.url=b;this.getId=function(){return this.id;};this.setId=function(f){this.id=f;};this.getWidth=function(){return this.width;};this.setWidth=function(f){this.width=f;};this.getHeight=function(){return this.height;};this.setHeight=function(f){this.height=f;};this.getType=function(){return this.type;};this.setType=function(f){this.type=f;};this.getUrl=function(){return this.url;};this.setUrl=function(f){this.url=f;};this.toString=function(){return"[AD|ID="+this.id+"|WIDTH="+this.width+"|HEIGHT="+this.height+"]";};}function refreshAdsByDivId(n,o){var a=document.getElementsByTagName("div");for(var e=0;e<a.length;e++){var b=a[e].id;if(b.indexOf(n)>=0){if(a[e].parentNode){var m=a[e].parentNode;var f=m.innerHTML;var h="&amp;tile=";var k=f.indexOf(h);if(k>0){var l=f.indexOf("&amp;",k+h.length);var g=parseInt(f.substring(k+h.length,l));var d=g+o;var h="tile="+g;var c="tile="+d;f=f.replace(h,c);}m.innerHTML=f;}}}}function logit(a){if(window.location.href.indexOf("debug=true")>-1){if(typeof console!=="undefined"&&typeof console.log!=="undefined"){console.log(a);}}}var func_register=[];function process_foreign_js(b){append_val="";for(var a=0;a<func_register.length;a++){if(typeof func_register[a]==="function"){append_val+=func_register[a](b);logit(func_register[a].name+" progressive append: "+append_val);}}return append_val;}function cnnad_addParameters(b){if(typeof window.ad_params!=="undefined"){if(window.ad_params.length>20){var a=window.ad_params.splice(19,window.ad_params.length-20);}b+="&"+window.ad_params.join("&");}return b;}

}
/*
     FILE ARCHIVED ON 08:33:01 Oct 22, 2014 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 01:44:27 Jul 23, 2023.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 80.235
  exclusion.robots: 0.096
  exclusion.robots.policy: 0.083
  RedisCDXSource: 0.71
  esindex: 0.009
  LoadShardBlock: 41.182 (3)
  PetaboxLoader3.datanode: 59.427 (5)
  load_resource: 105.355 (2)
  PetaboxLoader3.resolve: 77.866 (2)
*/